{"version":3,"sources":["webpack:///./node_modules/@material-ui/icons/FullscreenSharp.js","webpack:///./node_modules/copy-to-clipboard/index.js","webpack:///./node_modules/react-mosaic-component/lib/util/OptionalBlueprint.js","webpack:///./node_modules/@material-ui/icons/CropOriginalSharp.js","webpack:///./node_modules/@material-ui/icons/CopyrightSharp.js","webpack:///./node_modules/@material-ui/icons/InfoSharp.js","webpack:///./node_modules/@material-ui/core/esm/Fade/Fade.js","webpack:///./node_modules/@material-ui/core/esm/Backdrop/Backdrop.js","webpack:///./node_modules/@material-ui/core/esm/Dialog/Dialog.js","webpack:///./node_modules/@material-ui/core/esm/DialogContent/DialogContent.js","webpack:///./node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js","webpack:///./node_modules/@material-ui/core/esm/DialogContentText/DialogContentText.js","webpack:///./node_modules/@material-ui/core/esm/DialogActions/DialogActions.js","webpack:///./node_modules/mirador/dist/es/src/components/ErrorDialog.js","webpack:///./node_modules/mirador/dist/es/src/containers/ErrorDialog.js","webpack:///./node_modules/@material-ui/core/esm/AppBar/AppBar.js","webpack:///./node_modules/@material-ui/core/esm/useMediaQuery/useMediaQuery.js","webpack:///./node_modules/@material-ui/core/esm/withWidth/withWidth.js","webpack:///./node_modules/@material-ui/core/esm/Fab/Fab.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceAddButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceAddButton.js","webpack:///./node_modules/mirador/dist/es/src/components/FullScreenButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/FullScreenButton.js","webpack:///./node_modules/mirador/dist/es/src/components/LanguageSettings.js","webpack:///./node_modules/mirador/dist/es/src/containers/LanguageSettings.js","webpack:///./node_modules/mirador/dist/es/src/components/NestedMenu.js","webpack:///./node_modules/@material-ui/core/esm/Card/Card.js","webpack:///./node_modules/@material-ui/core/esm/CardContent/CardContent.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WorkspaceTypeElasticIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WorkspaceTypeMosaicIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/ScrollIndicatedDialogContent.js","webpack:///./node_modules/mirador/dist/es/src/containers/ScrollIndicatedDialogContent.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceSelectionDialog.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceSelectionDialog.js","webpack:///./node_modules/mirador/dist/es/src/components/ChangeThemeDialog.js","webpack:///./node_modules/mirador/dist/es/src/containers/ChangeThemeDialog.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceMenu.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceMenu.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceMenuButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceMenuButton.js","webpack:///./node_modules/@material-ui/core/esm/ClickAwayListener/ClickAwayListener.js","webpack:///./node_modules/@material-ui/core/esm/SnackbarContent/SnackbarContent.js","webpack:///./node_modules/@material-ui/core/esm/Snackbar/Snackbar.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceExport.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceExport.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceImport.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceImport.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceOptionsMenu.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceOptionsMenu.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceOptionsButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceOptionsButton.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowList.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowList.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowListButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowListButton.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceControlPanelButtons.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceControlPanelButtons.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/MiradorIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/Branding.js","webpack:///./node_modules/mirador/dist/es/src/containers/Branding.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceControlPanel.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceControlPanel.js","webpack:///./node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/ThumbnailNavigationBottomIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/ThumbnailNavigationRightIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowThumbnailSettings.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowThumbnailSettings.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/BookViewIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/GalleryViewIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowViewSettings.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowViewSettings.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopMenu.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopMenu.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WindowOptionsIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopMenuButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopMenuButton.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopBarPluginArea.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopBarPluginArea.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopBarPluginMenu.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopBarPluginMenu.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopBarTitle.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopBarTitle.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WindowMaxIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WindowMinIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopBar.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopBar.js","webpack:///./node_modules/@material-ui/core/esm/Slide/Slide.js","webpack:///./node_modules/@material-ui/core/esm/Drawer/Drawer.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/CanvasIndexIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowSideBarButtons.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowSideBarButtons.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowSideBar.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowSideBar.js","webpack:///./node_modules/@material-ui/core/esm/Accordion/AccordionContext.js","webpack:///./node_modules/@material-ui/core/esm/Accordion/Accordion.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toArray.js","webpack:///./node_modules/@material-ui/core/esm/AccordionSummary/AccordionSummary.js","webpack:///./node_modules/@material-ui/core/esm/AccordionDetails/AccordionDetails.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/SuccessOutlined.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/ReportProblemOutlined.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/ErrorOutline.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/InfoOutlined.js","webpack:///./node_modules/@material-ui/lab/esm/Alert/Alert.js","webpack:///./node_modules/mirador/dist/es/src/components/ErrorContent.js","webpack:///./node_modules/mirador/dist/es/src/containers/ErrorContent.js","webpack:///./node_modules/mirador/dist/es/src/components/CompanionWindowFactory.js","webpack:///./node_modules/mirador/dist/es/src/containers/CompanionWindowFactory.js","webpack:///./node_modules/mirador/dist/es/src/components/CompanionArea.js","webpack:///./node_modules/mirador/dist/es/src/containers/CompanionArea.js","webpack:///./node_modules/mirador/dist/es/src/components/CollectionDialog.js","webpack:///./node_modules/mirador/dist/es/src/containers/CollectionDialog.js","webpack:///./node_modules/mirador/dist/es/src/components/PrimaryWindow.js","webpack:///./node_modules/mirador/dist/es/src/containers/PrimaryWindow.js","webpack:///./node_modules/mirador/dist/es/src/components/MinimalWindow.js","webpack:///./node_modules/mirador/dist/es/src/containers/MinimalWindow.js","webpack:///./node_modules/mirador/dist/es/src/components/AccessTokenSender.js","webpack:///./node_modules/mirador/dist/es/src/components/NewWindow.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowAuthenticationBar.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowAuthenticationBar.js","webpack:///./node_modules/mirador/dist/es/src/components/IIIFAuthentication.js","webpack:///./node_modules/mirador/dist/es/src/containers/IIIFAuthentication.js","webpack:///./node_modules/mirador/dist/es/src/components/Window.js","webpack:///./node_modules/mirador/dist/es/src/containers/Window.js","webpack:///./node_modules/mirador/dist/es/src/components/MosaicRenderPreview.js","webpack:///./node_modules/mirador/dist/es/src/containers/MosaicRenderPreview.js","webpack:///./node_modules/mirador/dist/es/src/lib/MosaicLayout.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceMosaic.js","webpack:///./node_modules/mirador/dist/es/src/styles/react-mosaic-component.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceMosaic.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceElasticWindow.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceElasticWindow.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceElastic.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceElastic.js","webpack:///./node_modules/mirador/dist/es/src/components/IIIFDropTarget.js","webpack:///./node_modules/mirador/dist/es/src/lib/readImageMetadata.js","webpack:///./node_modules/mirador/dist/es/src/components/Workspace.js","webpack:///./node_modules/mirador/dist/es/src/containers/Workspace.js","webpack:///./node_modules/mirador/dist/es/src/components/ManifestForm.js","webpack:///./node_modules/mirador/dist/es/src/containers/ManifestForm.js","webpack:///./node_modules/mirador/dist/es/src/components/ManifestListItemError.js","webpack:///./node_modules/mirador/dist/es/src/containers/ManifestListItemError.js","webpack:///./node_modules/mirador/dist/es/src/components/ManifestListItem.js","webpack:///./node_modules/mirador/dist/es/src/containers/ManifestListItem.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceAdd.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceAdd.js","webpack:///./node_modules/mirador/dist/es/src/components/BackgroundPluginArea.js","webpack:///./node_modules/mirador/dist/es/src/containers/BackgroundPluginArea.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceArea.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceArea.js","webpack:///./node_modules/react-mosaic-component/lib/Split.js","webpack:///./node_modules/@material-ui/icons/BookmarksSharp.js","webpack:///./node_modules/lodash/drop.js","webpack:///./node_modules/@material-ui/icons/ErrorOutlineSharp.js","webpack:///./node_modules/@material-ui/icons/SaveAltSharp.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/lodash/clamp.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/RemoveButton.js","webpack:///./node_modules/react-mosaic-component/lib/contextTypes.js","webpack:///./node_modules/lodash/throttle.js","webpack:///./node_modules/toggle-selection/index.js","webpack:///./node_modules/uuid/index.js","webpack:///./node_modules/@material-ui/icons/ArrowLeftSharp.js","webpack:///./node_modules/react-mosaic-component/lib/util/assertNever.js","webpack:///./node_modules/react-dnd/dist/esm/common/DragPreviewImage.js","webpack:///./node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js","webpack:///./node_modules/react-dnd/dist/esm/common/SourceConnector.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/drag.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/useDrag.js","webpack:///./node_modules/react-dnd/dist/esm/utils/js_utils.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/utils.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/disposables.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","webpack:///./node_modules/react-dnd/dist/esm/utils/isValidType.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/DragSource.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/DropTarget.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/DragLayer.js","webpack:///./node_modules/@material-ui/icons/CropDinSharp.js","webpack:///./node_modules/lodash/dropRight.js","webpack:///./node_modules/react-mosaic-component/lib/Mosaic.js","webpack:///./node_modules/@material-ui/icons/ViewColumn.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/defaultToolbarControls.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/ExpandButton.js","webpack:///./node_modules/react-mosaic-component/lib/types.js","webpack:///./node_modules/react-mosaic-component/lib/internalTypes.js","webpack:///./node_modules/react-copy-to-clipboard/lib/index.js","webpack:///./node_modules/@material-ui/icons/ExpandMoreSharp.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js","webpack:///./node_modules/immutability-helper/index.js","webpack:///./node_modules/@material-ui/icons/PaletteSharp.js","webpack:///./node_modules/lodash/_baseDelay.js","webpack:///./node_modules/@material-ui/icons/MoreHorizSharp.js","webpack:///./node_modules/react-dnd/dist/esm/utils/isRef.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/MosaicButton.js","webpack:///./node_modules/@material-ui/icons/MoreVertSharp.js","webpack:///./node_modules/lodash/take.js","webpack:///./node_modules/lodash/isEqual.js","webpack:///./node_modules/react-resize-observer/lib/ResizeObserver.js","webpack:///./node_modules/@material-ui/icons/Close.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/drop.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/useDrop.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/ReplaceButton.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/Separator.js","webpack:///./node_modules/lodash/pickBy.js","webpack:///./node_modules/@material-ui/icons/AddSharp.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/SplitButton.js","webpack:///./node_modules/@material-ui/icons/FullscreenExitSharp.js","webpack:///./node_modules/lodash/_baseClamp.js","webpack:///./node_modules/lodash/defer.js","webpack:///./node_modules/icomcom-react/dist/index.js","webpack:///./node_modules/react-mosaic-component/lib/MosaicWindow.js","webpack:///./node_modules/@material-ui/icons/LayersSharp.js","webpack:///./node_modules/lodash/_basePickBy.js","webpack:///./node_modules/lodash/countBy.js","webpack:///./node_modules/react-mosaic-component/lib/index.js","webpack:///./node_modules/react-mosaic-component/lib/MosaicRoot.js","webpack:///./node_modules/react-mosaic-component/lib/util/BoundingBox.js","webpack:///./node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","webpack:///./node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","webpack:///./node_modules/@material-ui/icons/CheckSharp.js","webpack:///./node_modules/react-dnd/dist/esm/common/TargetConnector.js","webpack:///./node_modules/@material-ui/icons/Input.js","webpack:///./node_modules/@material-ui/icons/LockSharp.js","webpack:///./node_modules/react-mosaic-component/lib/RootDropTargets.js","webpack:///./node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js","webpack:///./node_modules/react-copy-to-clipboard/lib/Component.js","webpack:///./node_modules/react-mosaic-component/lib/util/mosaicUpdates.js","webpack:///./node_modules/react-mosaic-component/lib/MosaicZeroState.js","webpack:///./node_modules/@material-ui/icons/SettingsSharp.js","webpack:///./node_modules/@material-ui/icons/InsertDriveFileSharp.js","webpack:///./node_modules/@material-ui/core/esm/Grid/Grid.js","webpack:///./node_modules/@material-ui/icons/CommentSharp.js","webpack:///./node_modules/react-mosaic-component/lib/MosaicDropTarget.js","webpack:///./node_modules/react-dnd/dist/esm/common/registration.js","webpack:///./node_modules/react-mosaic-component/lib/util/mosaicUtilities.js","webpack:///./node_modules/uuid/v1.js","webpack:///./node_modules/@material-ui/icons/ExpandLessSharp.js","webpack:///./node_modules/@material-ui/icons/MenuSharp.js","webpack:///./node_modules/@material-ui/icons/ArrowRightSharp.js","webpack:///./node_modules/lodash/difference.js"],"names":["_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","deselectCurrent","clipboardToIE11Formatting","module","text","options","debug","message","reselectPrevious","range","selection","mark","success","document","createRange","getSelection","textContent","style","all","position","top","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","addEventListener","e","stopPropagation","format","preventDefault","clipboardData","console","warn","window","clearData","setData","onCopy","body","appendChild","selectNodeContents","addRange","execCommand","Error","err","error","copyKey","test","navigator","userAgent","replace","prompt","removeRange","removeAllRanges","removeChild","__createBinding","this","create","o","m","k","k2","undefined","enumerable","get","__setModuleDefault","v","__importStar","mod","__esModule","result","hasOwnProperty","call","OptionalBlueprint","_a","Classes","IconNames","Icon","_b","icon","getClasses","names","_i","arguments","length","map","name","join","getIconClass","iconName","iconClass","entering","opacity","entered","defaultTimeout","enter","enteringScreen","exit","leavingScreen","props","ref","children","_props$disableStrictM","disableStrictModeCompat","inProp","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","_props$TransitionComp","TransitionComponent","Transition","_props$timeout","timeout","other","theme","useTheme","enableStrictModeCompat","unstable_strictMode","nodeRef","foreignRef","useForkRef","handleRef","normalizedTransitionCallback","callback","nodeOrAppearing","maybeAppearing","_ref","current","_ref2","node","isAppearing","handleEntering","handleEnter","transitionProps","mode","webkitTransition","transitions","transition","handleEntered","handleExiting","handleExit","handleExited","appear","state","childProps","visibility","classes","className","_props$invisible","invisible","open","transitionDuration","root","withStyles","zIndex","display","alignItems","justifyContent","right","bottom","left","backgroundColor","WebkitTapHighlightColor","defaultTransitionDuration","BackdropProps","_props$disableBackdro","disableBackdropClick","_props$disableEscapeK","disableEscapeKeyDown","_props$fullScreen","fullScreen","_props$fullWidth","fullWidth","_props$maxWidth","maxWidth","onBackdropClick","onClose","onEscapeKeyDown","_props$PaperComponent","PaperComponent","Paper","_props$PaperProps","PaperProps","_props$scroll","scroll","_props$transitionDura","TransitionProps","ariaDescribedby","ariaLabelledby","mouseDownTarget","Modal","BackdropComponent","closeAfterTransition","role","container","concat","capitalize","onMouseUp","event","target","currentTarget","onMouseDown","elevation","paper","String","paperFullScreen","paperFullWidth","scrollPaper","scrollBody","overflowY","overflowX","textAlign","content","verticalAlign","height","width","outline","margin","boxShadow","paperScrollPaper","flexDirection","maxHeight","paperScrollBody","paperWidthFalse","paperWidthXs","Math","max","breakpoints","values","xs","down","paperWidthSm","sm","paperWidthMd","md","paperWidthLg","lg","paperWidthXl","xl","borderRadius","_props$dividers","dividers","flex","WebkitOverflowScrolling","padding","paddingTop","borderTop","palette","divider","borderBottom","_props$disableTypogra","disableTypography","Typography","component","variant","color","marginBottom","_props$disableSpacing","disableSpacing","spacing","marginLeft","_classCallCheck","instance","Constructor","TypeError","_defineProperties","i","descriptor","configurable","writable","key","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","constructor","apply","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","getPrototypeOf","_Component","subClass","superClass","_inherits","ErrorDialog","protoProps","staticProps","_super","_this$props","removeError","t","hasError","id","noWrap","Button","onClick","defaultProps","withTranslation","withPlugins","_props$color","_props$position","square","backgroundColorDefault","type","grey","boxSizing","appBar","flexShrink","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","getContrastText","colorPrimary","primary","main","contrastText","colorSecondary","secondary","colorInherit","colorTransparent","useMediaQuery","queryInput","getThemeProps","query","supportMatchMedia","matchMedia","_props$options","_props$options$defaul","defaultMatches","_props$options$matchM","_props$options$noSsr","noSsr","_props$options$ssrMat","ssrMatchMedia","_React$useState","matches","match","setMatch","active","queryList","updateMatch","addListener","removeListener","useEnhancedEffect","Component","_options$withTheme","withTheme","withThemeOption","_options$noSSR","noSSR","initialWidthOption","initialWidth","WithWidth","contextTheme","_getThemeProps","mountedState","setMountedState","widthComputed","keys","slice","reverse","reduce","output","up","more","_props$component","_props$disabled","disabled","_props$disableFocusRi","disableFocusRipple","focusVisibleClassName","_props$size","size","_props$variant","ButtonBase","extended","focusRipple","focusVisible","label","typography","button","minHeight","duration","short","minWidth","shadows","A100","action","disabledBackground","textDecoration","dark","sizeSmall","sizeMedium","WorkspaceAddButton","setWorkspaceAddVisibility","isWorkspaceAddVisible","useExtendedFab","Tooltip","title","disableRipple","fab","fabPrimary","fabSecondary","FullScreenButton","isFullscreenEnabled","setWorkspaceFullscreen","MiradorMenuButton","LanguageSettings","handleClick","languages","Fragment","language","MenuItem","locale","ListItemIcon","ListItemText","primaryTypographyProps","dispatch","afterSelect","_objectWithoutProperties","source","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","NestedMenu","_this","nestedMenuIsOpen","handleMenuClick","bind","setState","otherProps","assign","_props$raised","raised","overflow","paddingBottom","ElasticWorkspaceIcon","SvgIcon","xmlns","viewBox","x1","y1","x2","gradientUnits","offset","stopOpacity","stopColor","clipPath","fill","transform","stroke","strokeWidth","x","y","fillRule","cx","cy","r","WorkspaceTypeMosaicIcon","ScrollIndicatedDialogContent","ourClassName","shadowScrollDialog","_defineProperty","obj","_shadowScrollDialog","background","WorkspaceSelectionDialog","handleWorkspaceTypeChange","dialogElement","workspaceType","selectedListItem","querySelectorAll","focus","handleClose","updateWorkspace","_this2","_this$props2","dialog","setInitialFocus","MenuList","list","selected","menuItem","card","svgIcon","details","headline","media","ChangeThemeDialog","selectedItemRef","createRef","handleThemeChange","selectedTheme","setSelectedTheme","themeIds","dialogContent","listitem","light","hover","cursor","windowId","WorkspaceMenu","changeTheme","toggleZoom","workspaceSelection","handleMenuItemClick","handleMenuItemClose","item","anchorEl","toggleZoomControls","showZoomControls","_this3","containerId","showThemePicker","_this$state","querySelector","Menu","anchorOrigin","horizontal","vertical","transformOrigin","Boolean","handleZoomToggleClick","PluginHook","WorkspaceMenuButton","handleMenuClose","ctrlBtn","ctrlBtnSelected","mapEventPropToEvent","eventProp","substring","toLowerCase","_props$disableReactTr","disableReactTree","_props$mouseEvent","mouseEvent","onClickAway","_props$touchEvent","touchEvent","movedRef","activatedRef","syntheticEventRef","setTimeout","handleOwnRef","handleClickAway","useEventCallback","insideReactTree","documentElement","clientWidth","clientX","clientHeight","clientY","clickedRootScrollbar","insideDOM","composedPath","ownerDocument","contains","createHandleSynthetic","handlerName","childrenPropsHandler","childrenProps","mappedTouchEvent","doc","handleTouchMove","removeEventListener","mappedMouseEvent","_props$role","emphasis","body2","flexWrap","shape","flexGrow","paddingLeft","marginRight","_props$anchorOrigin","_props$autoHideDurati","autoHideDuration","ClickAwayListenerProps","ContentProps","_props$disableWindowB","disableWindowBlurListener","onMouseEnter","onMouseLeave","resumeHideDuration","Grow","timerAutoHide","exited","setExited","setAutoHideTimer","autoHideDurationParam","clearTimeout","handlePause","handleResume","createChainedFunction","direction","top1","bottom1","top3","bottom3","right3","left3","center","snackbar","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","flip","WorkspaceExport","copied","exportableState","JSON","stringify","IconButton","fontSize","exportedState","WorkspaceImport","configImportValue","handleImportConfig","handleChange","importConfig","parse","ex","addError","TextField","textField","multiline","onChange","rows","inputProps","autoFocus","textInput","helperText","cancelBtn","fontFamily","WorkspaceOptionsMenu","exportWorkspace","importWorkspace","WorkspaceOptionsButton","WindowList","menuElement","titles","windowIds","focusWindow","disableAutoFocusItem","focus2ndListIitem","ListSubheader","tabIndex","titleContent","WindowListButton","windowListAnchor","handleOpen","windowCount","badge","BadgeProps","badgeContent","WorkspaceControlPanelButtons","MiradorIcon","Branding","ContainerProps","align","href","rel","titleAccess","WorkspaceControlPanel","wide","Toolbar","disableGutters","toolbar","workspaceButtons","branding","_branding","drawer","checked","control","disabledProp","inputRef","_props$labelPlacement","labelPlacement","muiFormControl","useFormControl","controlProps","forEach","labelPlacementStart","labelPlacementTop","labelPlacementBottom","ThumbnailNavigationBottomIcon","ThumbnailNavigationRightIcon","WindowThumbnailSettings","setWindowThumbnailPosition","thumbnailNavigationPosition","disableSticky","selectedLabel","withRef","forwardRef","BookViewIcon","GalleryViewIcon","WindowViewSettings","setWindowViewType","windowViewType","viewTypes","iconMap","book","gallery","single","PluginHookWithHeader","PluginComponents","WindowTopMenu","showThumbnailNavigationSettings","toggleDraggingEnabled","getContentAnchorEl","orientation","thumbnailNavigation","displaySettings","WindowOptionsIcon","WindowTopMenuButton","WindowTopBarPluginArea","WindowTopBarPluginMenu","menuIcon","WindowTopBarTitle","hideWindowTitle","isFetching","manifestTitle","TitleTypography","Skeleton","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread","getOwnPropertyDescriptors","defineProperties","h6","WindowMaxIcon","WindowMinIcon","WindowTopBar","removeWindow","toggleWindowSideBar","windowDraggable","maximizeWindow","maximized","minimizeWindow","focused","allowClose","allowMaximize","allowFullscreen","allowTopMenuButton","allowWindowSideBar","windowTopBarStyle","windowTopBarStyleDraggable","shades","paddingRight","config","setTranslateValue","rect","getBoundingClientRect","fakeTransform","computedStyle","getComputedStyle","getPropertyValue","offsetX","offsetY","transformValues","split","parseInt","innerWidth","innerHeight","getTranslateValue","webkitTransform","_props$direction","childrenRef","handleRefIntermediary","easing","easeOut","sharp","updatePosition","handleResize","debounce","clear","oppositeDirection","_props$anchor","anchor","anchorProp","_props$elevation","_props$ModalProps","ModalProps","BackdropPropsProp","_props$open","SlideProps","mounted","isHorizontal","getAnchor","docked","slidingDrawer","modal","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","borderRight","paperAnchorDockedTop","paperAnchorDockedRight","borderLeft","paperAnchorDockedBottom","CanvasIndexIcon","WindowSideBarButtons","addCompanionWindow","hasAnnotations","hasAnyAnnotations","hasAnyLayers","hasCurrentLayers","hasSearchResults","hasSearchService","panels","sideBarPanel","TabButton","context","Tab","tab","tabSelected","onKeyUp","handleKeyUp","Tabs","flexContainer","tabsFlexContainer","indicator","tabsIndicator","indicatorColor","textColor","info","attribution","canvas","annotations","Badge","search","layers","PluginComponent","hasLayers","canvases","some","c","MiradorCanvas","imageResources","notification","annotationListUris","canvasAnnotationPages","suggestedSearches","companionWindowId","WindowSideBar","sideBarOpen","mountOnEnter","unmountOnExit","order","grow","borderInlineEnd","mixins","arr","childrenProp","_props$defaultExpande","defaultExpanded","expandedProp","expanded","_props$square","Collapse","_useControlled","useControlled","controlled","_useControlled2","setExpandedState","_React$Children$toArr","toArray","_React$Children$toArr2","arrayWithHoles","iterableToArray","unsupportedIterableToArray","nonIterableRest","summary","contextValue","toggle","rounded","Provider","shortest","marginTop","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","expandIcon","IconButtonProps","onBlur","onFocusVisible","focusedState","setFocusedState","_React$useContext","_React$useContext$dis","edge","disabledOpacity","createSvgIcon","defaultIconMapping","SuccessOutlined","warning","ReportProblemOutlined","ErrorOutline","InfoOutlined","_props$closeText","closeText","_props$iconMapping","iconMapping","_props$severity","severity","getColor","getBackgroundColor","standardSuccess","standardInfo","standardWarning","standardError","outlinedSuccess","border","outlinedInfo","outlinedWarning","outlinedError","filledSuccess","fontWeight","fontWeightMedium","filledInfo","filledWarning","filledError","ErrorContent","metadata","showJsError","alert","stack","companionWindow","manifest","viewer","CompanionWindowFactory","prevProps","CompanionWindow","CompanionWindowRegistry","CompanionArea","companionAreaOpen","_this$props3","defaultPosition","oppositePosition","_this$props4","companionWindowIds","setCompanionAreaOpen","areaLayoutClass","slideDirection","toggleButton","TooltipProps","placement","collapseIcon","_toConsumableArray","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","minLen","n","_unsupportedIterableToArray","_nonIterableSpread","len","arr2","asArray","CollectionDialog","hideDialog","resource","index","getLabel","getValue","hideCollectionDialog","collectionPath","manifestId","showCollectionDialog","addWindow","updateWindow","canvasId","_this$props5","dialogContainer","backdropProps","placeholder","_this$props6","collection","isMultipart","ready","forceUpdate","rights","getProperty","requiredStatement","getRequiredStatement","l","labelValuePair","getValues","collections","getCollections","currentFilter","getUseableLabel","startIcon","goToPreviousCollection","collectionMetadata","ManifestInfo","CollapsibleSection","LabelValueMetadata","labelValuePairs","defaultLabel","Link","collectionFilter","getTotalCollections","Chip","clickable","setFilter","count","getTotalManifests","selectCollection","getManifests","selectManifest","_getWindow","collectionManifestId","collectionId","includes","workspace","collectionDialogOn","json","AudioViewer","GalleryView","SelectCollection","WindowViewer","VideoViewer","displayName","PrimaryWindow","audioResources","isCollection","videoResources","view","isCollectionDialogVisible","primaryWindow","fallback","renderViewer","manifestoInstance","MinimalWindow","ariaLabel","AccessTokenSender","onReceiveAccessTokenMessage","handleAccessTokenMessage","url","data","messageId","attributes","src","origin","handleReceiveMessage","NewWindow","released","checkIfWindowClosed","openWindow","close","clearInterval","depWindow","features","setInterval","closed","WindowAuthenticationBar","setOpen","onSubmit","onConfirm","confirmButton","continueLabel","header","description","ruleSet","hasLogoutService","status","ConfirmProps","buttonInvert","topBar","SanitizedHtml","htmlString","fauxButton","hoverOpacity","failure","lineHeight","textTransform","IIIFAuthentication","performLogout","payload","authServiceId","accessTokenServiceId","resolveAccessTokenRequest","logoutServiceId","resetAuthenticationState","tokenServiceId","isInteractive","logoutConfirm","defaultAuthBarProps","handleAuthInteraction","failureHeader","failureDescription","resolveAuthenticationRequest","renderLogin","_this$props7","confirm","_this$props8","renderLoggingInCookie","renderLoggingInToken","renderFailure","renderLoggedIn","service","accessTokenService","Utils","getService","logoutService","authStatuses","authStatus","accessTokens","accessTokenStatus","ok","authProfiles","profile","getProfile","external","kiosk","getConfirmLabel","getDescription","getFailureDescription","getFailureHeader","getHeader","Window","mosaicWindowActions","connectDragSource","manifestError","onFocus","wrappedTopBar","middle","middleLeft","companionAreaBottom","companionAreaRight","contextType","flexBasis","thumbnailArea","thumbnailAreaBottom","thumbnailAreaRight","MosaicRenderPreview","preview","h4","MosaicLayout","layout","corner","TOP_RIGHT","path","addedWindowIds","first","second","pathToCorner","parent","pathToParent","destination","nodeAtPath","update","spec","$set","removedWindowIds","windowPaths","removeUpdates","_React$Component","WorkspaceMosaic","tileRenderer","mosaicChange","determineWorkspaceLayout","zeroStateView","toolbarControls","additionalControls","mosaicProps","updateWorkspaceMosaicLayout","newLayout","prevWindows","every","removedWindows","_newLayout","removeWindows","leaveKeys","addedWindows","addWindows","workspaceId","bookkeepPath","renderPreview","renderTile","initialValue","touchAction","fallbacks","webkitBoxOrient","webkitBoxDirection","webkitBoxPack","webkitBoxAlign","webkitBoxFlex","textOverflow","WorkspaceElasticWindow","companionWindowDimensions","updateElasticWindowLayout","bounds","onDragStop","onResize","delta","Number","dragHandleClassName","WorkspaceElastic","elasticLayout","setWorkspaceViewportDimensions","setWorkspaceViewportPosition","viewportPosition","enableResizing","bottomLeft","bottomRight","topLeft","topRight","cancel","disableDragging","draggingEnabled","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","next","done","_iterableToArrayLimit","_nonIterableRest","monitor","onDrop","urls","str","URL","searchParams","files","imagePromise","manifestPromises","f","file","Promise","resolve","reject","reader","FileReader","manifestJson","readAsText","imageFiles","startsWith","imageData","image","Image","readAsDataURL","readImageMetadata","then","images","items","motivation","_useDrop2","useDrop","accept","FILE","collect","canDrop","isOver","drop","_useDrop2$","isActive","safari","dataTransfer","types","getData","Workspace","handleDrop","allowNewWindows","maximizedWindows","zeroWindows","Grid","maximizedWindowIds","isWorkspaceControlPanelVisible","workspaceWithControlPanel","workspaceViewport","workspaceByType","workspaceControlPanel","enabled","ManifestForm","formValue","formSubmit","handleCancel","handleInputChange","addResourcesOpen","onCancel","addResource","InputLabelProps","shrink","InputProps","input","buttons","body1","ManifestListItemError","onDismissClick","onTryAgainClick","justify","errorIcon","manifestIdText","wordBreak","ManifestListItem","handleOpenButtonClick","fetchManifest","provider","buttonRef","thumbnail","manifestLogo","ListItem","buttonGrid","alt","unloader","animation","number","logo","objectFit","gutters","manifesto","getTotalItems","WorkspaceAdd","setAddResourcesVisibility","scrollToTop","bool","scrollTo","behavior","catalog","manifestList","workspaceAdd","List","disablePadding","displayNone","disablePortal","hideBackdrop","form","menuButton","typographyBody","WorkspaceArea","controlPanelVariant","lang","_extendStatics","__extends","b","__","__assign","s","__importDefault","Split","classnames_1","clamp_1","throttle_1","react_1","BoundingBox_1","TOUCH_EVENT_OPTIONS","capture","passive","rootElement","listenersBound","isTouchEvent","bindListeners","unbindListeners","percentage","calculateRelativePercentage","onRelease","onMouseMove","throttledUpdatePercentage","splitPercentage","render","computeStyle","componentDidMount","componentWillUnmount","boundingBox","positionStyle","absolutePercentage","BoundingBox","getAbsoluteSplitPercentage","asStyles","minimumPaneSizePercentage","parentBBox","parentElement","location","changedTouches","relativePercentage","getRelativeSplitPercentage","PureComponent","baseSlice","toInteger","array","guard","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","noop","nextTick","args","browser","env","argv","version","versions","on","once","off","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","baseClamp","toNumber","lower","upper","RemoveButton","contextTypes_1","OptionalBlueprint_1","MosaicButton_1","MosaicContext","Consumer","mosaicActions","createDefaultToolbarButton","createRemove","remove","getPath","MosaicWindowContext","createContext","isObject","func","wait","leading","trailing","rangeCount","activeElement","ranges","getRangeAt","tagName","toUpperCase","blur","v1","v4","uuid","assertNever","shouldBeNever","DragPreviewImage","connect","img","onload","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","manager","sourceId","internalMonitor","getMonitor","canDragSource","isDraggingSource","listener","subscribeToStateChange","targetId","isOverTarget","getTargetIds","isSourcePublic","getSourceId","subscribeToOffsetChange","canDropOnTarget","getItemType","getItem","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","SourceConnector","backend","hooks","wrapConnectorHooks","dragSource","clearDragSource","dragSourceOptions","isRef","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","handlerId","dragSourceOptionsInternal","dragPreviewOptionsInternal","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","lastConnectedDragPreview","lastConnectedDragPreviewOptions","newHandlerId","reconnect","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","dragSourceUnsubscribe","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","dragPreviewUnsubscribe","connectDragPreview","set","_typeof","useDrag","specRef","_useDragSourceMonitor2","useDragDropManager","getBackend","connector","handler","beginDrag","_spec$current","begin","beginResult","canDrag","isDragging","globalMonitor","endDrag","end","useIsomorphicLayoutEffect","_registerSource2","unregister","receiveHandlerId","useDragHandler","useMonitorOutput","previewOptions","isFunction","isPlainObject","isObjectLike","proto","getDecoratedComponent","instanceRef","currentRef","decoratedRef","isRefable","C","$$typeof","isRefForwardingComponent","Disposable","isDisposed","dispose","isDisposable","empty","CompositeDisposable","_len","disposables","_key","shouldDispose","idx","splice","currentDisposables","_i2","SerialDisposable","old","decorateHandler","DecoratedComponent","createHandler","createMonitor","createConnector","registerHandler","containerDisplayName","getType","_options$arePropsEqua","arePropsEqual","Decorated","DragDropContainer","nextState","getCurrentState","disposable","receiveProps","nextProps","currentType","receiveType","handlerMonitor","handlerConnector","_registerHandler2","unsubscribe","handlerIds","setDisposable","DndContext","dragDropManager","receiveDragDropManager","requestAnimationFrame","isValidType","allowArray","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","createSourceFactory","DragSource","createSource","TargetImpl","createTargetFactory","DropTarget","createTarget","DropTargetMonitorImpl","TargetConnector","DragLayer","DragLayerContainer","isCurrentlyMounted","unsubscribeFromOffsetChange","unsubscribeFromStateChange","Mosaic","MosaicWithoutDragDropContext","react_dnd_1","react_dnd_multi_backend_1","HTML5toTouch_1","uuid_1","MosaicRoot_1","MosaicZeroState_1","RootDropTargets_1","mosaicUpdates_1","isUncontrolled","currentNode","lastInitialValue","mosaicId","updateRoot","updates","suppressOnRelease","getRoot","replaceRoot","updateTree","actions","createRemoveUpdate","expand","createExpandUpdate","hide","createHideUpdate","replaceWith","newNode","childContext","getDerivedStateFromProps","prevState","renderTree","RootDropTargets","validateTree","resize","MosaicRoot","MosaicZeroState","DndProvider","DEFAULT_CONTROLS_WITHOUT_CREATION","DEFAULT_CONTROLS_WITH_CREATION","ExpandButton_1","RemoveButton_1","ReplaceButton_1","SplitButton_1","Children","ReplaceButton","SplitButton","ExpandButton","createExpand","MosaicDragType","WINDOW","MosaicDropTargetPosition","TOP","BOTTOM","LEFT","RIGHT","CopyToClipboard","onCollect","_useCollector2","collected","updateCollected","getHandlerId","stringifiable","isProduction","invariant","condition","getAllKeys","copy","Map","Set","Context","commands","defaultCommands","extend","isEquals","newContext","directive","fn","$spec","$apply","nextObject","objectWasNextObject","nextValueForKey","nextObjectValue","$push","invariantPushAndUnshift","$unshift","$splice","originalObject","invariantSplice","invariantSplices","_nextObject","invariantSet","$toggle","targets","invariantSpecArray","nextObjectCopy","$unset","_spec","$add","invariantMapOrSet","has","add","$remove","delete","$merge","specValue","original","defaultContext","command","typeOfTarget","baseIsEqual","_react","pointerEvents","styleChild","isAncestor","ancestor","parentNode","ResizeObserver","_getPrototypeOf2","_temp","onPosition","onReflow","_globalScollTarget","_refScrollTarget","_ancestorScollTarget","_reflow","Node","HTMLElement","_expandRef","_shrinkRef","offsetWidth","offsetHeight","_lastWidth","_lastHeight","_reset","_node","Element","sizeChanged","positionChanged","_lastRect","_handleScroll","_hasResize","scrollLeft","scrollTop","_handleRef","_handleExpandRef","_handleShrinkRef","_useDropTargetMonitor2","_registerTarget2","useDropHandler","connectDropTarget","dropTarget","dropTargetOptions","noop_1","replaceWithNew","catch","Separator","arrayMap","baseIteratee","basePickBy","getAllKeysIn","predicate","prop","baseDelay","defer","baseRest","_extends","_createClass","_react2","_propTypes2","IComCom","onReceiveMessage","onLoad","sendMessage","_frame","postMessageData","handleReady","contentWindow","postMessage","targetOrigin","el","defaultAttributes","propTypes","frameBorder","oneOfType","string","scrolling","sandbox","srcDoc","isRequired","any","MosaicWindow","SourceDropConnectedInternalMosaicWindow","SourceConnectedInternalMosaicWindow","InternalMosaicWindow","defer_1","dropRight_1","isEmpty_1","isEqual_1","values_1","defaultToolbarControls_1","Separator_1","internalTypes_1","MosaicDropTarget_1","types_1","mosaicUtilities_1","additionalControlsOpen","renderDropTarget","MosaicDropTarget","checkCreateNode","createNode","getAndAssertNodeAtPathExists","swap","setAdditionalControlsOpen","connectedElements","draggedMosaicId","element","renderToolbar","getToolbarControls","draggable","additionalControlButtonText","draggableAndNotRoot","connectIfDraggable","connectedToolbar","titleDiv","hasAdditionalControls","iconSize","_monitor","onDragStart","hideTimer","ownPath","dropResult","destinationPath","onDragEnd","createDragToUpdates","baseGet","baseSet","castPath","paths","baseAssignValue","createAggregator","countBy","Mosaic_1","buildSpecFromUpdate","createBalancedTreeFromLeaves","Corner","getLeaves","getNodeAtPath","getOtherBranch","getOtherDirection","getPathToCorner","isParent","MosaicWindow_1","flatten_1","Split_1","renderRecursively","renderSplit","nonNullElement","assertNever_1","relativeSplitPercentage","absoluteSplitPercentage","setRef","cloneWithRef","newRef","previousRef","throwIfCompositeComponentElement","wrappedHooks","hook","endsWith","wrappedHook","elementOrNode","wrapHookToRecognizeElement","clearDropTarget","dropTargetRef","dropTargetNode","dropTargetOptionsInternal","lastConnectedDropTarget","lastConnectedDropTargetOptions","didDropTargetChange","didOptionsChange","disconnectDropTarget","unsubscribeDropTarget","RootDropTargetsClass","_connect","isCallingCanDrop","_copyToClipboard","_React$PureComponent","elem","only","cloneElement","immutability_helper_1","drop_1","last_1","set_1","take_1","mosaicUpdate","mUpdate","parentPath","nodeToRemove","siblingPath","isPathPrefixEqual","a","sourcePath","destinationNode","sourceNode","branch","SPACINGS","GRID_SIZES","getOffset","val","div","parseFloat","_props$alignContent","alignContent","_props$alignItems","classNameProp","_props$container","_props$item","_props$justify","_props$lg","_props$md","_props$sm","_props$spacing","_props$wrap","wrap","_props$xl","_props$xs","_props$zeroMinWidth","zeroMinWidth","StyledGrid","breakpoint","styles","themeSpacing","generateGutter","accumulator","globalStyles","round","generateGrid","MosaicDropTargetClass","registerTarget","registry","getRegistry","addTarget","removeTarget","registerSource","addSource","removeSource","clone_1","get_1","tree","leaves","startDirection","shift","unshift","alternateDirection","nextDirection","currentPath","TOP_LEFT","BOTTOM_LEFT","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","buf","clockseq","seedBytes","msecs","getTime","nsecs","dt","tl","tmh","baseDifference","baseFlatten","isArrayLikeObject","difference"],"mappings":"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","file":"11-c106d29d837e22ec12e0.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"\n}), 'FullscreenSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n};\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"⌘\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n      message,\n      reselectPrevious,\n      range,\n      selection,\n      mark,\n      success = false;\n\n  if (!options) {\n    options = {};\n  }\n\n  debug = options.debug || false;\n\n  try {\n    reselectPrevious = deselectCurrent();\n    range = document.createRange();\n    selection = document.getSelection();\n    mark = document.createElement(\"span\");\n    mark.textContent = text; // reset user styles for span element\n\n    mark.style.all = \"unset\"; // prevents scrolling to the end of the page\n\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\"; // used to preserve spaces and line breaks\n\n    mark.style.whiteSpace = \"pre\"; // do not inherit user-select (it may be `none`)\n\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function (e) {\n      e.stopPropagation();\n\n      if (options.format) {\n        e.preventDefault();\n\n        if (typeof e.clipboardData === \"undefined\") {\n          // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"];\n          window.clipboardData.setData(format, text);\n        } else {\n          // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n    document.body.appendChild(mark);\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n    var successful = document.execCommand(\"copy\");\n\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;","\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OptionalBlueprint = void 0;\n\nvar React = __importStar(require(\"react\"));\n\nvar OptionalBlueprint;\n\n(function (OptionalBlueprint) {\n  var _a;\n\n  var Classes;\n  var IconNames;\n\n  try {\n    // Webpack is quieter about these errors\n    // https://github.com/nomcopter/react-mosaic/issues/109\n    require.resolve('@blueprintjs/core');\n\n    require.resolve('@blueprintjs/icons');\n\n    _a = require('@blueprintjs/core'), Classes = _a.Classes, OptionalBlueprint.Icon = _a.Icon;\n    IconNames = require('@blueprintjs/icons').IconNames;\n  } catch (_b) {\n    OptionalBlueprint.Icon = function (_a) {\n      var icon = _a.icon;\n      return React.createElement(\"span\", null, icon);\n    };\n  }\n\n  function getClasses() {\n    var names = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      names[_i] = arguments[_i];\n    }\n\n    if (Classes) {\n      return names.map(function (name) {\n        return Classes[name];\n      }).join(' ');\n    }\n\n    return '';\n  }\n\n  OptionalBlueprint.getClasses = getClasses;\n\n  function getIconClass(iconName) {\n    if (Classes && IconNames) {\n      return Classes.iconClass(IconNames[iconName]);\n    }\n\n    return '';\n  }\n\n  OptionalBlueprint.getIconClass = getIconClass;\n})(OptionalBlueprint = exports.OptionalBlueprint || (exports.OptionalBlueprint = {}));","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 3H3v18h18V3zm-2 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z\"\n}), 'CropOriginalSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91c.48.22 1.05.34 1.7.34.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'CopyrightSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n}), 'InfoSharp');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { Transition } from 'react-transition-group';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nimport { reflow, getTransitionProps } from '../transitions/utils';\nimport useForkRef from '../utils/useForkRef';\nvar styles = {\n  entering: {\n    opacity: 1\n  },\n  entered: {\n    opacity: 1\n  }\n};\nvar defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Fade transition is used by the [Modal](/components/modal/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Fade = /*#__PURE__*/React.forwardRef(function Fade(props, ref) {\n  var children = props.children,\n      _props$disableStrictM = props.disableStrictModeCompat,\n      disableStrictModeCompat = _props$disableStrictM === void 0 ? false : _props$disableStrictM,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? defaultTimeout : _props$timeout,\n      other = _objectWithoutProperties(props, [\"children\", \"disableStrictModeCompat\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"TransitionComponent\", \"timeout\"]);\n\n  var theme = useTheme();\n  var enableStrictModeCompat = theme.unstable_strictMode && !disableStrictModeCompat;\n  var nodeRef = React.useRef(null);\n  var foreignRef = useForkRef(children.ref, ref);\n  var handleRef = useForkRef(enableStrictModeCompat ? nodeRef : undefined, foreignRef);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (nodeOrAppearing, maybeAppearing) {\n      if (callback) {\n        var _ref = enableStrictModeCompat ? [nodeRef.current, nodeOrAppearing] : [nodeOrAppearing, maybeAppearing],\n            _ref2 = _slicedToArray(_ref, 2),\n            node = _ref2[0],\n            isAppearing = _ref2[1]; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n\n        if (isAppearing === undefined) {\n          callback(node);\n        } else {\n          callback(node, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEntering = normalizedTransitionCallback(onEntering);\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    reflow(node); // So the animation always start from the start.\n\n    var transitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('opacity', transitionProps);\n    node.style.transition = theme.transitions.create('opacity', transitionProps);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(onEntered);\n  var handleExiting = normalizedTransitionCallback(onExiting);\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var transitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('opacity', transitionProps);\n    node.style.transition = theme.transitions.create('opacity', transitionProps);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(onExited);\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    in: inProp,\n    nodeRef: enableStrictModeCompat ? nodeRef : undefined,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    timeout: timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.cloneElement(children, _extends({\n      style: _extends({\n        opacity: 0,\n        visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n      }, styles[state], style, children.props.style),\n      ref: handleRef\n    }, childProps));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default Fade;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Fade from '../Fade';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    // Improve scrollable dialog support.\n    zIndex: -1,\n    position: 'fixed',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    right: 0,\n    bottom: 0,\n    top: 0,\n    left: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    WebkitTapHighlightColor: 'transparent'\n  },\n\n  /* Styles applied to the root element if `invisible={true}`. */\n  invisible: {\n    backgroundColor: 'transparent'\n  }\n};\nvar Backdrop = /*#__PURE__*/React.forwardRef(function Backdrop(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$invisible = props.invisible,\n      invisible = _props$invisible === void 0 ? false : _props$invisible,\n      open = props.open,\n      transitionDuration = props.transitionDuration,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Fade : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"invisible\", \"open\", \"transitionDuration\", \"TransitionComponent\"]);\n\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: open,\n    timeout: transitionDuration\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.root, className, invisible && classes.invisible),\n    \"aria-hidden\": true,\n    ref: ref\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiBackdrop'\n})(Backdrop);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nimport Modal from '../Modal';\nimport Backdrop from '../Backdrop';\nimport Fade from '../Fade';\nimport { duration } from '../styles/transitions';\nimport Paper from '../Paper';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      '@media print': {\n        // Use !important to override the Modal inline-style.\n        position: 'absolute !important'\n      }\n    },\n\n    /* Styles applied to the container element if `scroll=\"paper\"`. */\n    scrollPaper: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the container element if `scroll=\"body\"`. */\n    scrollBody: {\n      overflowY: 'auto',\n      overflowX: 'hidden',\n      textAlign: 'center',\n      '&:after': {\n        content: '\"\"',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n        height: '100%',\n        width: '0'\n      }\n    },\n\n    /* Styles applied to the container element. */\n    container: {\n      height: '100%',\n      '@media print': {\n        height: 'auto'\n      },\n      // We disable the focus ring for mouse, touch and keyboard users.\n      outline: 0\n    },\n\n    /* Styles applied to the `Paper` component. */\n    paper: {\n      margin: 32,\n      position: 'relative',\n      overflowY: 'auto',\n      // Fix IE 11 issue, to remove at some point.\n      '@media print': {\n        overflowY: 'visible',\n        boxShadow: 'none'\n      }\n    },\n\n    /* Styles applied to the `Paper` component if `scroll=\"paper\"`. */\n    paperScrollPaper: {\n      display: 'flex',\n      flexDirection: 'column',\n      maxHeight: 'calc(100% - 64px)'\n    },\n\n    /* Styles applied to the `Paper` component if `scroll=\"body\"`. */\n    paperScrollBody: {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n      textAlign: 'left' // 'initial' doesn't work on IE 11\n\n    },\n\n    /* Styles applied to the `Paper` component if `maxWidth=false`. */\n    paperWidthFalse: {\n      maxWidth: 'calc(100% - 64px)'\n    },\n\n    /* Styles applied to the `Paper` component if `maxWidth=\"xs\"`. */\n    paperWidthXs: {\n      maxWidth: Math.max(theme.breakpoints.values.xs, 444),\n      '&$paperScrollBody': _defineProperty({}, theme.breakpoints.down(Math.max(theme.breakpoints.values.xs, 444) + 32 * 2), {\n        maxWidth: 'calc(100% - 64px)'\n      })\n    },\n\n    /* Styles applied to the `Paper` component if `maxWidth=\"sm\"`. */\n    paperWidthSm: {\n      maxWidth: theme.breakpoints.values.sm,\n      '&$paperScrollBody': _defineProperty({}, theme.breakpoints.down(theme.breakpoints.values.sm + 32 * 2), {\n        maxWidth: 'calc(100% - 64px)'\n      })\n    },\n\n    /* Styles applied to the `Paper` component if `maxWidth=\"md\"`. */\n    paperWidthMd: {\n      maxWidth: theme.breakpoints.values.md,\n      '&$paperScrollBody': _defineProperty({}, theme.breakpoints.down(theme.breakpoints.values.md + 32 * 2), {\n        maxWidth: 'calc(100% - 64px)'\n      })\n    },\n\n    /* Styles applied to the `Paper` component if `maxWidth=\"lg\"`. */\n    paperWidthLg: {\n      maxWidth: theme.breakpoints.values.lg,\n      '&$paperScrollBody': _defineProperty({}, theme.breakpoints.down(theme.breakpoints.values.lg + 32 * 2), {\n        maxWidth: 'calc(100% - 64px)'\n      })\n    },\n\n    /* Styles applied to the `Paper` component if `maxWidth=\"xl\"`. */\n    paperWidthXl: {\n      maxWidth: theme.breakpoints.values.xl,\n      '&$paperScrollBody': _defineProperty({}, theme.breakpoints.down(theme.breakpoints.values.xl + 32 * 2), {\n        maxWidth: 'calc(100% - 64px)'\n      })\n    },\n\n    /* Styles applied to the `Paper` component if `fullWidth={true}`. */\n    paperFullWidth: {\n      width: 'calc(100% - 64px)'\n    },\n\n    /* Styles applied to the `Paper` component if `fullScreen={true}`. */\n    paperFullScreen: {\n      margin: 0,\n      width: '100%',\n      maxWidth: '100%',\n      height: '100%',\n      maxHeight: 'none',\n      borderRadius: 0,\n      '&$paperScrollBody': {\n        margin: 0,\n        maxWidth: '100%'\n      }\n    }\n  };\n};\nvar defaultTransitionDuration = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * Dialogs are overlaid modal paper based components with a backdrop.\n */\n\nvar Dialog = /*#__PURE__*/React.forwardRef(function Dialog(props, ref) {\n  var BackdropProps = props.BackdropProps,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disableBackdro = props.disableBackdropClick,\n      disableBackdropClick = _props$disableBackdro === void 0 ? false : _props$disableBackdro,\n      _props$disableEscapeK = props.disableEscapeKeyDown,\n      disableEscapeKeyDown = _props$disableEscapeK === void 0 ? false : _props$disableEscapeK,\n      _props$fullScreen = props.fullScreen,\n      fullScreen = _props$fullScreen === void 0 ? false : _props$fullScreen,\n      _props$fullWidth = props.fullWidth,\n      fullWidth = _props$fullWidth === void 0 ? false : _props$fullWidth,\n      _props$maxWidth = props.maxWidth,\n      maxWidth = _props$maxWidth === void 0 ? 'sm' : _props$maxWidth,\n      onBackdropClick = props.onBackdropClick,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onEscapeKeyDown = props.onEscapeKeyDown,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      open = props.open,\n      _props$PaperComponent = props.PaperComponent,\n      PaperComponent = _props$PaperComponent === void 0 ? Paper : _props$PaperComponent,\n      _props$PaperProps = props.PaperProps,\n      PaperProps = _props$PaperProps === void 0 ? {} : _props$PaperProps,\n      _props$scroll = props.scroll,\n      scroll = _props$scroll === void 0 ? 'paper' : _props$scroll,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Fade : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? defaultTransitionDuration : _props$transitionDura,\n      TransitionProps = props.TransitionProps,\n      ariaDescribedby = props['aria-describedby'],\n      ariaLabelledby = props['aria-labelledby'],\n      other = _objectWithoutProperties(props, [\"BackdropProps\", \"children\", \"classes\", \"className\", \"disableBackdropClick\", \"disableEscapeKeyDown\", \"fullScreen\", \"fullWidth\", \"maxWidth\", \"onBackdropClick\", \"onClose\", \"onEnter\", \"onEntered\", \"onEntering\", \"onEscapeKeyDown\", \"onExit\", \"onExited\", \"onExiting\", \"open\", \"PaperComponent\", \"PaperProps\", \"scroll\", \"TransitionComponent\", \"transitionDuration\", \"TransitionProps\", \"aria-describedby\", \"aria-labelledby\"]);\n\n  var mouseDownTarget = React.useRef();\n\n  var handleMouseDown = function handleMouseDown(event) {\n    mouseDownTarget.current = event.target;\n  };\n\n  var handleBackdropClick = function handleBackdropClick(event) {\n    // Ignore the events not coming from the \"backdrop\"\n    // We don't want to close the dialog when clicking the dialog content.\n    if (event.target !== event.currentTarget) {\n      return;\n    } // Make sure the event starts and ends on the same DOM element.\n\n\n    if (event.target !== mouseDownTarget.current) {\n      return;\n    }\n\n    mouseDownTarget.current = null;\n\n    if (onBackdropClick) {\n      onBackdropClick(event);\n    }\n\n    if (!disableBackdropClick && onClose) {\n      onClose(event, 'backdropClick');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, _extends({\n    className: clsx(classes.root, className),\n    BackdropComponent: Backdrop,\n    BackdropProps: _extends({\n      transitionDuration: transitionDuration\n    }, BackdropProps),\n    closeAfterTransition: true,\n    disableBackdropClick: disableBackdropClick,\n    disableEscapeKeyDown: disableEscapeKeyDown,\n    onEscapeKeyDown: onEscapeKeyDown,\n    onClose: onClose,\n    open: open,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    in: open,\n    timeout: transitionDuration,\n    onEnter: onEnter,\n    onEntering: onEntering,\n    onEntered: onEntered,\n    onExit: onExit,\n    onExiting: onExiting,\n    onExited: onExited,\n    role: \"none presentation\"\n  }, TransitionProps), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.container, classes[\"scroll\".concat(capitalize(scroll))]),\n    onMouseUp: handleBackdropClick,\n    onMouseDown: handleMouseDown\n  }, /*#__PURE__*/React.createElement(PaperComponent, _extends({\n    elevation: 24,\n    role: \"dialog\",\n    \"aria-describedby\": ariaDescribedby,\n    \"aria-labelledby\": ariaLabelledby\n  }, PaperProps, {\n    className: clsx(classes.paper, classes[\"paperScroll\".concat(capitalize(scroll))], classes[\"paperWidth\".concat(capitalize(String(maxWidth)))], PaperProps.className, fullScreen && classes.paperFullScreen, fullWidth && classes.paperFullWidth)\n  }), children))));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialog'\n})(Dialog);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      flex: '1 1 auto',\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      overflowY: 'auto',\n      padding: '8px 24px',\n      '&:first-child': {\n        // dialog without title\n        paddingTop: 20\n      }\n    },\n\n    /* Styles applied to the root element if `dividers={true}`. */\n    dividers: {\n      padding: '16px 24px',\n      borderTop: \"1px solid \".concat(theme.palette.divider),\n      borderBottom: \"1px solid \".concat(theme.palette.divider)\n    }\n  };\n};\nvar DialogContent = /*#__PURE__*/React.forwardRef(function DialogContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$dividers = props.dividers,\n      dividers = _props$dividers === void 0 ? false : _props$dividers,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"dividers\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, dividers && classes.dividers),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogContent'\n})(DialogContent);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    margin: 0,\n    padding: '16px 24px',\n    flex: '0 0 auto'\n  }\n};\nvar DialogTitle = /*#__PURE__*/React.forwardRef(function DialogTitle(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"disableTypography\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), disableTypography ? children : /*#__PURE__*/React.createElement(Typography, {\n    component: \"h2\",\n    variant: \"h6\"\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogTitle'\n})(DialogTitle);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    marginBottom: 12\n  }\n};\nvar DialogContentText = /*#__PURE__*/React.forwardRef(function DialogContentText(props, ref) {\n  return /*#__PURE__*/React.createElement(Typography, _extends({\n    component: \"p\",\n    variant: \"body1\",\n    color: \"textSecondary\",\n    ref: ref\n  }, props));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogContentText'\n})(DialogContentText);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8,\n    justifyContent: 'flex-end',\n    flex: '0 0 auto'\n  },\n\n  /* Styles applied to the root element if `disableSpacing={false}`. */\n  spacing: {\n    '& > :not(:first-child)': {\n      marginLeft: 8\n    }\n  }\n};\nvar DialogActions = /*#__PURE__*/React.forwardRef(function DialogActions(props, ref) {\n  var _props$disableSpacing = props.disableSpacing,\n      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,\n      classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"disableSpacing\", \"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, !disableSpacing && classes.spacing),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogActions'\n})(DialogActions);","import _isUndefined from \"lodash/isUndefined\";\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { DialogActions, DialogContentText, Typography } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\n/**\n */\n\nexport var ErrorDialog = /*#__PURE__*/function (_Component) {\n  _inherits(ErrorDialog, _Component);\n\n  var _super = _createSuper(ErrorDialog);\n\n  function ErrorDialog() {\n    _classCallCheck(this, ErrorDialog);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ErrorDialog, [{\n    key: \"render\",\n\n    /**\n     * render\n     * @return\n     */\n    value: function render() {\n      var _this$props = this.props,\n          error = _this$props.error,\n          removeError = _this$props.removeError,\n          t = _this$props.t;\n      var hasError = !_isUndefined(error);\n      return error ? /*#__PURE__*/React.createElement(Dialog, {\n        \"aria-labelledby\": \"error-dialog-title\",\n        id: \"error-dialog\",\n        onClose: function onClose() {\n          return removeError(error.id);\n        },\n        open: hasError\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"error-dialog-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('errorDialogTitle'))), /*#__PURE__*/React.createElement(DialogContent, {\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(DialogContentText, {\n        variant: \"body2\",\n        noWrap: true,\n        color: \"inherit\"\n      }, \"\".concat(error.message)), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          return removeError(error.id);\n        },\n        variant: \"contained\"\n      }, t('errorDialogConfirm'))))) : null;\n    }\n  }]);\n\n  return ErrorDialog;\n}(Component);\nErrorDialog.defaultProps = {\n  error: null,\n  removeError: function removeError() {},\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { ErrorDialog } from '../components/ErrorDialog';\nimport * as actions from '../state/actions';\nimport { getLatestError } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof ErrorDialog\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    error: getLatestError(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof App\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  removeError: actions.removeError\n};\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('ErrorDialog'));\nexport default enhance(ErrorDialog);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nimport Paper from '../Paper';\nexport var styles = function styles(theme) {\n  var backgroundColorDefault = theme.palette.type === 'light' ? theme.palette.grey[100] : theme.palette.grey[900];\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '100%',\n      boxSizing: 'border-box',\n      // Prevent padding issue with the Modal and fixed positioned AppBar.\n      zIndex: theme.zIndex.appBar,\n      flexShrink: 0\n    },\n\n    /* Styles applied to the root element if `position=\"fixed\"`. */\n    positionFixed: {\n      position: 'fixed',\n      top: 0,\n      left: 'auto',\n      right: 0,\n      '@media print': {\n        // Prevent the app bar to be visible on each printed page.\n        position: 'absolute'\n      }\n    },\n\n    /* Styles applied to the root element if `position=\"absolute\"`. */\n    positionAbsolute: {\n      position: 'absolute',\n      top: 0,\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the root element if `position=\"sticky\"`. */\n    positionSticky: {\n      // ⚠️ sticky is not supported by IE 11.\n      position: 'sticky',\n      top: 0,\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the root element if `position=\"static\"`. */\n    positionStatic: {\n      position: 'static'\n    },\n\n    /* Styles applied to the root element if `position=\"relative\"`. */\n    positionRelative: {\n      position: 'relative'\n    },\n\n    /* Styles applied to the root element if `color=\"default\"`. */\n    colorDefault: {\n      backgroundColor: backgroundColorDefault,\n      color: theme.palette.getContrastText(backgroundColorDefault)\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"transparent\"`. */\n    colorTransparent: {\n      backgroundColor: 'transparent',\n      color: 'inherit'\n    }\n  };\n};\nvar AppBar = /*#__PURE__*/React.forwardRef(function AppBar(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$position = props.position,\n      position = _props$position === void 0 ? 'fixed' : _props$position,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"position\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    square: true,\n    component: \"header\",\n    elevation: 4,\n    className: clsx(classes.root, classes[\"position\".concat(capitalize(position))], classes[\"color\".concat(capitalize(color))], className, position === 'fixed' && 'mui-fixed'),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAppBar'\n})(AppBar);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { getThemeProps, useTheme } from '@material-ui/styles';\nexport default function useMediaQuery(queryInput) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var theme = useTheme();\n  var props = getThemeProps({\n    theme: theme,\n    name: 'MuiUseMediaQuery',\n    props: {}\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof queryInput === 'function' && theme === null) {\n      console.error(['Material-UI: The `query` argument provided is invalid.', 'You are providing a function without a theme in the context.', 'One of the parent elements needs to use a ThemeProvider.'].join('\\n'));\n    }\n  }\n\n  var query = typeof queryInput === 'function' ? queryInput(theme) : queryInput;\n  query = query.replace(/^@media( ?)/m, ''); // Wait for jsdom to support the match media feature.\n  // All the browsers Material-UI support have this built-in.\n  // This defensive check is here for simplicity.\n  // Most of the time, the match media logic isn't central to people tests.\n\n  var supportMatchMedia = typeof window !== 'undefined' && typeof window.matchMedia !== 'undefined';\n\n  var _props$options = _extends({}, props, options),\n      _props$options$defaul = _props$options.defaultMatches,\n      defaultMatches = _props$options$defaul === void 0 ? false : _props$options$defaul,\n      _props$options$matchM = _props$options.matchMedia,\n      matchMedia = _props$options$matchM === void 0 ? supportMatchMedia ? window.matchMedia : null : _props$options$matchM,\n      _props$options$noSsr = _props$options.noSsr,\n      noSsr = _props$options$noSsr === void 0 ? false : _props$options$noSsr,\n      _props$options$ssrMat = _props$options.ssrMatchMedia,\n      ssrMatchMedia = _props$options$ssrMat === void 0 ? null : _props$options$ssrMat;\n\n  var _React$useState = React.useState(function () {\n    if (noSsr && supportMatchMedia) {\n      return matchMedia(query).matches;\n    }\n\n    if (ssrMatchMedia) {\n      return ssrMatchMedia(query).matches;\n    } // Once the component is mounted, we rely on the\n    // event listeners to return the correct matches value.\n\n\n    return defaultMatches;\n  }),\n      match = _React$useState[0],\n      setMatch = _React$useState[1];\n\n  React.useEffect(function () {\n    var active = true;\n\n    if (!supportMatchMedia) {\n      return undefined;\n    }\n\n    var queryList = matchMedia(query);\n\n    var updateMatch = function updateMatch() {\n      // Workaround Safari wrong implementation of matchMedia\n      // TODO can we remove it?\n      // https://github.com/mui-org/material-ui/pull/17315#issuecomment-528286677\n      if (active) {\n        setMatch(queryList.matches);\n      }\n    };\n\n    updateMatch();\n    queryList.addListener(updateMatch);\n    return function () {\n      active = false;\n      queryList.removeListener(updateMatch);\n    };\n  }, [query, matchMedia, supportMatchMedia]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue({\n      query: query,\n      match: match\n    });\n  }\n\n  return match;\n}","import \"core-js/modules/es.array.reduce\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { getDisplayName } from '@material-ui/utils';\nimport { getThemeProps } from '@material-ui/styles';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport useTheme from '../styles/useTheme';\nimport { keys as breakpointKeys } from '../styles/createBreakpoints';\nimport useMediaQuery from '../useMediaQuery'; // By default, returns true if screen width is the same or greater than the given breakpoint.\n\nexport var isWidthUp = function isWidthUp(breakpoint, width) {\n  var inclusive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  if (inclusive) {\n    return breakpointKeys.indexOf(breakpoint) <= breakpointKeys.indexOf(width);\n  }\n\n  return breakpointKeys.indexOf(breakpoint) < breakpointKeys.indexOf(width);\n}; // By default, returns true if screen width is the same or less than the given breakpoint.\n\nexport var isWidthDown = function isWidthDown(breakpoint, width) {\n  var inclusive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  if (inclusive) {\n    return breakpointKeys.indexOf(width) <= breakpointKeys.indexOf(breakpoint);\n  }\n\n  return breakpointKeys.indexOf(width) < breakpointKeys.indexOf(breakpoint);\n};\nvar useEnhancedEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n\nvar withWidth = function withWidth() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (Component) {\n    var _options$withTheme = options.withTheme,\n        withThemeOption = _options$withTheme === void 0 ? false : _options$withTheme,\n        _options$noSSR = options.noSSR,\n        noSSR = _options$noSSR === void 0 ? false : _options$noSSR,\n        initialWidthOption = options.initialWidth;\n\n    function WithWidth(props) {\n      var contextTheme = useTheme();\n      var theme = props.theme || contextTheme;\n\n      var _getThemeProps = getThemeProps({\n        theme: theme,\n        name: 'MuiWithWidth',\n        props: _extends({}, props)\n      }),\n          initialWidth = _getThemeProps.initialWidth,\n          width = _getThemeProps.width,\n          other = _objectWithoutProperties(_getThemeProps, [\"initialWidth\", \"width\"]);\n\n      var _React$useState = React.useState(false),\n          mountedState = _React$useState[0],\n          setMountedState = _React$useState[1];\n\n      useEnhancedEffect(function () {\n        setMountedState(true);\n      }, []);\n      /**\n       * innerWidth |xs      sm      md      lg      xl\n       *            |-------|-------|-------|-------|------>\n       * width      |  xs   |  sm   |  md   |  lg   |  xl\n       */\n\n      var keys = theme.breakpoints.keys.slice().reverse();\n      var widthComputed = keys.reduce(function (output, key) {\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        var matches = useMediaQuery(theme.breakpoints.up(key));\n        return !output && matches ? key : output;\n      }, null);\n\n      var more = _extends({\n        width: width || (mountedState || noSSR ? widthComputed : undefined) || initialWidth || initialWidthOption\n      }, withThemeOption ? {\n        theme: theme\n      } : {}, other); // When rendering the component on the server,\n      // we have no idea about the client browser screen width.\n      // In order to prevent blinks and help the reconciliation of the React tree\n      // we are not rendering the child component.\n      //\n      // An alternative is to use the `initialWidth` property.\n\n\n      if (more.width === undefined) {\n        return null;\n      }\n\n      return /*#__PURE__*/React.createElement(Component, more);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      WithWidth.displayName = \"WithWidth(\".concat(getDisplayName(Component), \")\");\n    }\n\n    hoistNonReactStatics(WithWidth, Component);\n    return WithWidth;\n  };\n};\n\nexport default withWidth;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, {\n      boxSizing: 'border-box',\n      minHeight: 36,\n      transition: theme.transitions.create(['background-color', 'box-shadow', 'border'], {\n        duration: theme.transitions.duration.short\n      }),\n      borderRadius: '50%',\n      padding: 0,\n      minWidth: 0,\n      width: 56,\n      height: 56,\n      boxShadow: theme.shadows[6],\n      '&:active': {\n        boxShadow: theme.shadows[12]\n      },\n      color: theme.palette.getContrastText(theme.palette.grey[300]),\n      backgroundColor: theme.palette.grey[300],\n      '&:hover': {\n        backgroundColor: theme.palette.grey.A100,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.grey[300]\n        },\n        '&$disabled': {\n          backgroundColor: theme.palette.action.disabledBackground\n        },\n        textDecoration: 'none'\n      },\n      '&$focusVisible': {\n        boxShadow: theme.shadows[6]\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled,\n        boxShadow: theme.shadows[0],\n        backgroundColor: theme.palette.action.disabledBackground\n      }\n    }),\n\n    /* Styles applied to the span element that wraps the children. */\n    label: {\n      width: '100%',\n      // assure the correct width for iOS Safari\n      display: 'inherit',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    primary: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.primary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.primary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    secondary: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.secondary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.secondary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"extended\"`. */\n    extended: {\n      borderRadius: 48 / 2,\n      padding: '0 16px',\n      width: 'auto',\n      minHeight: 'auto',\n      minWidth: 48,\n      height: 48,\n      '&$sizeSmall': {\n        width: 'auto',\n        padding: '0 8px',\n        borderRadius: 34 / 2,\n        minWidth: 34,\n        height: 34\n      },\n      '&$sizeMedium': {\n        width: 'auto',\n        padding: '0 16px',\n        borderRadius: 40 / 2,\n        minWidth: 40,\n        height: 40\n      }\n    },\n\n    /* Pseudo-class applied to the ButtonBase root element if the button is keyboard focused. */\n    focusVisible: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `size=\"small\"``. */\n    sizeSmall: {\n      width: 40,\n      height: 40\n    },\n\n    /* Styles applied to the root element if `size=\"medium\"``. */\n    sizeMedium: {\n      width: 48,\n      height: 48\n    }\n  };\n};\nvar Fab = /*#__PURE__*/React.forwardRef(function Fab(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'button' : _props$component,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'large' : _props$size,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'round' : _props$variant,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"color\", \"component\", \"disabled\", \"disableFocusRipple\", \"focusVisibleClassName\", \"size\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, className, variant !== \"round\" && classes.extended, size !== 'large' && classes[\"size\".concat(capitalize(size))], disabled && classes.disabled, {\n      'primary': classes.primary,\n      'secondary': classes.secondary,\n      'inherit': classes.colorInherit\n    }[color]),\n    component: component,\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.label\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFab'\n})(Fab);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Fab from '@material-ui/core/Fab';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddIcon from '@material-ui/icons/AddSharp';\nimport CloseIcon from '@material-ui/icons/CloseSharp';\n/**\n */\n\nexport var WorkspaceAddButton = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceAddButton, _Component);\n\n  var _super = _createSuper(WorkspaceAddButton);\n\n  function WorkspaceAddButton() {\n    _classCallCheck(this, WorkspaceAddButton);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceAddButton, [{\n    key: \"render\",\n\n    /**\n     * render\n     * @return\n     */\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t,\n          setWorkspaceAddVisibility = _this$props.setWorkspaceAddVisibility,\n          isWorkspaceAddVisible = _this$props.isWorkspaceAddVisible,\n          useExtendedFab = _this$props.useExtendedFab;\n      return /*#__PURE__*/React.createElement(Tooltip, {\n        title: isWorkspaceAddVisible ? t('closeAddResourceMenu') : t('addResource')\n      }, /*#__PURE__*/React.createElement(Fab, {\n        size: \"medium\",\n        color: \"primary\",\n        id: \"addBtn\",\n        disableRipple: true,\n        \"aria-label\": isWorkspaceAddVisible ? t('closeAddResourceMenu') : useExtendedFab && t('startHere') || t('addResource'),\n        className: classes.fab,\n        classes: {\n          primary: classes.fabPrimary,\n          secondary: classes.fabSecondary\n        },\n        variant: useExtendedFab ? 'extended' : 'round',\n        onClick: function onClick() {\n          setWorkspaceAddVisibility(!isWorkspaceAddVisible);\n        }\n      }, isWorkspaceAddVisible ? /*#__PURE__*/React.createElement(CloseIcon, null) : /*#__PURE__*/React.createElement(AddIcon, null), useExtendedFab && t('startHere')));\n    }\n  }]);\n\n  return WorkspaceAddButton;\n}(Component);\nWorkspaceAddButton.defaultProps = {\n  isWorkspaceAddVisible: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport withWidth from '@material-ui/core/withWidth';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getWindowIds, getWorkspace } from '../state/selectors';\nimport { WorkspaceAddButton } from '../components/WorkspaceAddButton';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WorkspaceControlPanel\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var width = _ref.width;\n\n  var _getWorkspace = getWorkspace(state),\n      isWorkspaceAddVisible = _getWorkspace.isWorkspaceAddVisible;\n\n  return {\n    isWorkspaceAddVisible: isWorkspaceAddVisible,\n    useExtendedFab: width !== 'xs' && !isWorkspaceAddVisible && getWindowIds(state).length === 0\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  setWorkspaceAddVisibility: actions.setWorkspaceAddVisibility\n};\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    fab: {\n      margin: theme.spacing(1)\n    },\n    fabPrimary: {\n      '&:focus': {\n        backgroundColor: theme.palette.primary.dark\n      }\n    },\n    fabSecondary: {\n      '&:focus': {\n        backgroundColor: theme.palette.secondary.dark\n      }\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withWidth(), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceAddButton'));\nexport default enhance(WorkspaceAddButton);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport FullscreenIcon from '@material-ui/icons/FullscreenSharp';\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExitSharp';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\n/**\n */\n\nexport var FullScreenButton = /*#__PURE__*/function (_Component) {\n  _inherits(FullScreenButton, _Component);\n\n  var _super = _createSuper(FullScreenButton);\n\n  function FullScreenButton() {\n    _classCallCheck(this, FullScreenButton);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(FullScreenButton, [{\n    key: \"render\",\n\n    /**\n     * render\n     * @return\n     */\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          isFullscreenEnabled = _this$props.isFullscreenEnabled,\n          setWorkspaceFullscreen = _this$props.setWorkspaceFullscreen,\n          t = _this$props.t;\n      return /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        className: className,\n        \"aria-label\": isFullscreenEnabled ? t('exitFullScreen') : t('workspaceFullScreen'),\n        onClick: function onClick() {\n          return setWorkspaceFullscreen(!isFullscreenEnabled);\n        }\n      }, isFullscreenEnabled ? /*#__PURE__*/React.createElement(FullscreenExitIcon, null) : /*#__PURE__*/React.createElement(FullscreenIcon, null));\n    }\n  }]);\n\n  return FullScreenButton;\n}(Component);\nFullScreenButton.defaultProps = {\n  className: undefined,\n  isFullscreenEnabled: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getFullScreenEnabled } from '../state/selectors';\nimport { FullScreenButton } from '../components/FullScreenButton';\n/**\n * mapStateToProps - to hook up connect\n * @memberof FullScreenButton\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isFullscreenEnabled: getFullScreenEnabled(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  setWorkspaceFullscreen: actions.setWorkspaceFullscreen\n};\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('FullScreenButton'));\nexport default enhance(FullScreenButton);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CheckIcon from '@material-ui/icons/CheckSharp';\n/**\n * LanguageSettings ~ the workspace sub menu to change the language\n * of the application\n*/\n\nexport var LanguageSettings = /*#__PURE__*/function (_Component) {\n  _inherits(LanguageSettings, _Component);\n\n  var _super = _createSuper(LanguageSettings);\n\n  function LanguageSettings() {\n    _classCallCheck(this, LanguageSettings);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(LanguageSettings, [{\n    key: \"render\",\n\n    /**\n     * Returns the rendered component\n    */\n    value: function render() {\n      var _this$props = this.props,\n          handleClick = _this$props.handleClick,\n          languages = _this$props.languages;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, languages.map(function (language) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          button: !language.current,\n          key: language.locale,\n          onClick: function onClick() {\n            handleClick(language.locale);\n          }\n        }, /*#__PURE__*/React.createElement(ListItemIcon, null, language.current && /*#__PURE__*/React.createElement(CheckIcon, null)), /*#__PURE__*/React.createElement(ListItemText, {\n          primaryTypographyProps: {\n            variant: 'body1'\n          }\n        }, language.label));\n      }));\n    }\n  }]);\n\n  return LanguageSettings;\n}(Component);","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getLanguagesFromConfigWithCurrent } from '../state/selectors';\nimport { LanguageSettings } from '../components/LanguageSettings';\n/**\n * Map state to props for connect\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    languages: getLanguagesFromConfigWithCurrent(state)\n  };\n};\n/**\n * Map action dispatches to props for connect\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref) {\n  var afterSelect = _ref.afterSelect;\n  return {\n    handleClick: function handleClick(language) {\n      dispatch(actions.updateConfig({\n        language: language\n      }));\n      afterSelect && afterSelect();\n    }\n  };\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withPlugins('LanguageSettings'))(LanguageSettings);","function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ExpandLess from '@material-ui/icons/ExpandLessSharp';\nimport ExpandMore from '@material-ui/icons/ExpandMoreSharp';\n/**\n * NestedMenu ~ A presentation component to render a menu item and have\n * it control the visibility of the MUI List passed in as the children\n*/\n\nexport var NestedMenu = /*#__PURE__*/function (_Component) {\n  _inherits(NestedMenu, _Component);\n\n  var _super = _createSuper(NestedMenu);\n  /**\n   * constructor -\n   */\n\n\n  function NestedMenu(props) {\n    var _this;\n\n    _classCallCheck(this, NestedMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      nestedMenuIsOpen: false\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * handleMenuClick toggles the nestedMenuIsOpen state\n   */\n\n\n  _createClass(NestedMenu, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick() {\n      var nestedMenuIsOpen = this.state.nestedMenuIsOpen;\n      this.setState({\n        nestedMenuIsOpen: !nestedMenuIsOpen\n      });\n    }\n    /**\n     * Returns the rendered component.  Spreads unused props to MenuItem\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var nestedMenuIsOpen = this.state.nestedMenuIsOpen;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          icon = _this$props.icon,\n          label = _this$props.label,\n          otherProps = _objectWithoutProperties(_this$props, [\"children\", \"icon\", \"label\"]);\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MenuItem, Object.assign({\n        onClick: this.handleMenuClick,\n        divider: nestedMenuIsOpen\n      }, otherProps), icon && /*#__PURE__*/React.createElement(ListItemIcon, null, icon), /*#__PURE__*/React.createElement(ListItemText, {\n        primaryTypographyProps: {\n          variant: 'body1'\n        }\n      }, label), nestedMenuIsOpen ? /*#__PURE__*/React.createElement(ExpandLess, null) : /*#__PURE__*/React.createElement(ExpandMore, null)), nestedMenuIsOpen && children);\n    }\n  }]);\n\n  return NestedMenu;\n}(Component);\nNestedMenu.defaultProps = {\n  icon: null\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    overflow: 'hidden'\n  }\n};\nvar Card = /*#__PURE__*/React.forwardRef(function Card(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$raised = props.raised,\n      raised = _props$raised === void 0 ? false : _props$raised,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"raised\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : 1,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCard'\n})(Card);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  }\n};\nvar CardContent = /*#__PURE__*/React.forwardRef(function CardContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardContent'\n})(CardContent);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * ElasticWorkspaceIcon ~\n*/\n\nexport default function ElasticWorkspaceIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"120\",\n    height: \"90\",\n    viewBox: \"0 0 300 225\"\n  }, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient\",\n    x1: \"0.5\",\n    y1: \"1\",\n    x2: \"0.5\",\n    gradientUnits: \"objectBoundingBox\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.14\",\n    stopOpacity: \"0.631\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"1\",\n    stopOpacity: \"0\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient-2\",\n    x1: \"0.5\",\n    y1: \"1\",\n    x2: \"0.5\",\n    gradientUnits: \"objectBoundingBox\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.23\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.012\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.36\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.039\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.47\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.102\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.57\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.18\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.67\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.278\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.75\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.412\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.83\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.561\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.91\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.741\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.98\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.929\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#fff\"\n  })), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip-elastic_icon\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"300\",\n    height: \"225\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"elastic_icon\",\n    \"data-name\": \"elastic icon\",\n    clipPath: \"url(#clip-elastic_icon)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"300\",\n    height: \"225\",\n    fill: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_278\",\n    \"data-name\": \"Rectangle 278\",\n    transform: \"translate(232 159)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"54\",\n    height: \"54\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"53\",\n    height: \"53\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_8\",\n    \"data-name\": \"Rectangle 8\",\n    transform: \"translate(7 148)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"70\",\n    height: \"70\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"69\",\n    height: \"69\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_258\",\n    \"data-name\": \"Rectangle 258\",\n    transform: \"translate(224 6)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"70\",\n    height: \"100\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"69\",\n    height: \"99\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_259\",\n    \"data-name\": \"Rectangle 259\",\n    transform: \"translate(71 64)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"115\",\n    height: \"75\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"114\",\n    height: \"74\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_260\",\n    \"data-name\": \"Rectangle 260\",\n    transform: \"translate(99 87)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"115\",\n    height: \"75\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"114\",\n    height: \"74\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_689\",\n    \"data-name\": \"Group 689\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_687\",\n    \"data-name\": \"Group 687\",\n    transform: \"translate(0 3)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"checkbox\",\n    d: \"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z\",\n    transform: \"translate(1.164 -1.063)\",\n    fill: \"#010101\",\n    fillRule: \"evenodd\",\n    opacity: \"0.246\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Path_821\",\n    \"data-name\": \"Path 821\",\n    transform: \"translate(40 36)\",\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,0H220V147H0Z\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 2 2 L 2 145 L 218 145 L 218 2 L 172.9869689941406 2 L 2 2 M 0 0 L 172.9869689941406 0 L 220 0 L 220 147 L 0 147 L 0 0 Z\",\n    stroke: \"none\",\n    fill: \"#01579b\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_257\",\n    \"data-name\": \"Rectangle 257\",\n    transform: \"translate(40 39)\",\n    fill: \"#fff\",\n    stroke: \"#01579b\",\n    strokeWidth: \"2\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"20\",\n    height: \"147\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"1\",\n    y: \"1\",\n    width: \"18\",\n    height: \"145\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_688\",\n    \"data-name\": \"Group 688\",\n    transform: \"translate(-27.5 -126)\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    id: \"teal_circle\",\n    \"data-name\": \"teal circle\",\n    cx: \"7.5\",\n    cy: \"7.5\",\n    r: \"7.5\",\n    transform: \"translate(70 171)\",\n    fill: \"#009688\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_333\",\n    \"data-name\": \"Group 333\",\n    transform: \"translate(70 171)\",\n    opacity: \"0.12\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"gradient_border_2\",\n    \"data-name\": \"gradient border 2\",\n    d: \"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z\",\n    transform: \"translate(-3403 -959)\",\n    fill: \"url(#linear-gradient)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"gradient_border_1\",\n    \"data-name\": \"gradient border 1\",\n    d: \"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z\",\n    transform: \"translate(-3403 -959)\",\n    fill: \"url(#linear-gradient-2)\"\n  })))))));\n}","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * WorkspaceTypeMosaicIcon ~\n*/\n\nexport default function WorkspaceTypeMosaicIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"120\",\n    height: \"90\",\n    viewBox: \"0 0 300 225\"\n  }, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient\",\n    x1: \"0.5\",\n    y1: \"1\",\n    x2: \"0.5\",\n    gradientUnits: \"objectBoundingBox\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.14\",\n    stopOpacity: \"0.631\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"1\",\n    stopOpacity: \"0\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient-2\",\n    x1: \"0.5\",\n    y1: \"1\",\n    x2: \"0.5\",\n    gradientUnits: \"objectBoundingBox\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.23\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.012\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.36\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.039\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.47\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.102\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.57\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.18\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.67\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.278\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.75\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.412\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.83\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.561\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.91\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.741\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.98\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.929\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#fff\"\n  })), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip-mosaic_icon\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"300\",\n    height: \"225\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"mosaic_icon\",\n    \"data-name\": \"mosaic icon\",\n    clipPath: \"url(#clip-mosaic_icon)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"300\",\n    height: \"225\",\n    fill: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"checkbox\",\n    d: \"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z\",\n    transform: \"translate(1.163 1.938)\",\n    fill: \"#010101\",\n    fillRule: \"evenodd\",\n    opacity: \"0.5\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"checkbox-2\",\n    \"data-name\": \"checkbox\",\n    d: \"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z\",\n    transform: \"translate(1.164 1.938)\",\n    fill: \"#010101\",\n    fillRule: \"evenodd\",\n    opacity: \"0.246\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Path_821\",\n    \"data-name\": \"Path 821\",\n    transform: \"translate(40 39)\",\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,0H220V147H0Z\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 2 2 L 2 145 L 218 145 L 218 2 L 172.9869689941406 2 L 2 2 M 0 0 L 172.9869689941406 0 L 220 0 L 220 147 L 0 147 L 0 0 Z\",\n    stroke: \"none\",\n    fill: \"#01579b\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_257\",\n    \"data-name\": \"Rectangle 257\",\n    transform: \"translate(40 39)\",\n    fill: \"#fff\",\n    stroke: \"#01579b\",\n    strokeWidth: \"2\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"20\",\n    height: \"147\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"1\",\n    y: \"1\",\n    width: \"18\",\n    height: \"145\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_688\",\n    \"data-name\": \"Group 688\",\n    transform: \"translate(-27.5 -126)\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    id: \"teal_circle\",\n    \"data-name\": \"teal circle\",\n    cx: \"7.5\",\n    cy: \"7.5\",\n    r: \"7.5\",\n    transform: \"translate(70 171)\",\n    fill: \"#009688\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_333\",\n    \"data-name\": \"Group 333\",\n    transform: \"translate(70 171)\",\n    opacity: \"0.12\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"gradient_border_2\",\n    \"data-name\": \"gradient border 2\",\n    d: \"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z\",\n    transform: \"translate(-3403 -959)\",\n    fill: \"url(#linear-gradient)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"gradient_border_1\",\n    \"data-name\": \"gradient border 1\",\n    d: \"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z\",\n    transform: \"translate(-3403 -959)\",\n    fill: \"url(#linear-gradient-2)\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_270\",\n    \"data-name\": \"Rectangle 270\",\n    transform: \"translate(60 40.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"99\",\n    height: \"72\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"98\",\n    height: \"71\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_271\",\n    \"data-name\": \"Rectangle 271\",\n    transform: \"translate(159 40.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"99\",\n    height: \"72\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"98\",\n    height: \"71\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_272\",\n    \"data-name\": \"Rectangle 272\",\n    transform: \"translate(192 112.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"66\",\n    height: \"71.45\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"65\",\n    height: \"70.45\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_284\",\n    \"data-name\": \"Rectangle 284\",\n    transform: \"translate(60 112.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"66\",\n    height: \"71.45\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"65\",\n    height: \"70.45\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_285\",\n    \"data-name\": \"Rectangle 285\",\n    transform: \"translate(126 112.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"66\",\n    height: \"71.45\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"65\",\n    height: \"70.45\",\n    fill: \"none\"\n  })))));\n}","function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport DialogContent from '@material-ui/core/DialogContent';\n/**\n * ScrollIndicatedDialogContent ~ Inject a style into the DialogContent component\n *                                to indicate there is scrollable content\n*/\n\nexport function ScrollIndicatedDialogContent(props) {\n  var classes = props.classes,\n      className = props.className,\n      otherProps = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  var ourClassName = [className, classes.shadowScrollDialog].join(' ');\n  return /*#__PURE__*/React.createElement(DialogContent, Object.assign({\n    className: ourClassName\n  }, otherProps));\n}\nScrollIndicatedDialogContent.defaultProps = {\n  className: ''\n};","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { ScrollIndicatedDialogContent } from '../components/ScrollIndicatedDialogContent';\n/**\n * Styles for the withStyles HOC\n */\n\nvar styles = function styles(theme) {\n  var _shadowScrollDialog;\n\n  return {\n    shadowScrollDialog: (_shadowScrollDialog = {\n      /* Shadow covers */\n      background: \"linear-gradient(\".concat(theme.palette.background.paper, \" 30%, rgba(255, 255, 255, 0)), \") + \"linear-gradient(rgba(255, 255, 255, 0), \".concat(theme.palette.background.paper, \" 70%) 0 100%, \") // Shaddows\n      + 'radial-gradient(50% 0, farthest-side, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)), ' + 'radial-gradient(50% 100%, farthest-side, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)) 0 100%,'\n    }, _defineProperty(_shadowScrollDialog, \"background\", \"linear-gradient(\".concat(theme.palette.background.paper, \" 30%, rgba(255, 255, 255, 0)), \") // eslint-disable-line no-dupe-keys\n    + \"linear-gradient(rgba(255, 255, 255, 0), \".concat(theme.palette.background.paper, \" 70%) 0 100%, \") // Shaddows\n    + 'radial-gradient(farthest-side at 50% 0, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)), ' + 'radial-gradient(farthest-side at 50% 100%, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)) 0 100%;'), _defineProperty(_shadowScrollDialog, \"backgroundAttachment\", 'local, local, scroll, scroll'), _defineProperty(_shadowScrollDialog, \"backgroundRepeat\", 'no-repeat'), _defineProperty(_shadowScrollDialog, \"backgroundSize\", '100% 40px, 100% 40px, 100% 14px, 100% 14px'), _defineProperty(_shadowScrollDialog, \"overflowY\", 'auto'), _shadowScrollDialog)\n  };\n};\n\nexport default withStyles(styles)(ScrollIndicatedDialogContent);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Card, CardContent, MenuList, MenuItem, Typography } from '@material-ui/core';\nimport WorkspaceTypeElasticIcon from './icons/WorkspaceTypeElasticIcon';\nimport WorkspaceTypeMosaicIcon from './icons/WorkspaceTypeMosaicIcon';\nimport ScrollIndicatedDialogContent from '../containers/ScrollIndicatedDialogContent';\n/**\n */\n\nexport var WorkspaceSelectionDialog = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceSelectionDialog, _Component);\n\n  var _super = _createSuper(WorkspaceSelectionDialog);\n\n  _createClass(WorkspaceSelectionDialog, null, [{\n    key: \"setInitialFocus\",\n\n    /**\n     * Set the initial focus when the dialog enters\n     * Find the selected item by using the current workspace type\n     * in a selector on the value attribute (which we need to set)\n    */\n    value: function setInitialFocus(dialogElement, workspaceType) {\n      var selectedListItem = dialogElement.querySelectorAll(\"li[value=\\\"\".concat(workspaceType, \"\\\"]\"));\n      if (!selectedListItem || selectedListItem.length === 0) return;\n      selectedListItem[0].focus();\n    }\n    /**\n     * constructor\n     */\n\n  }]);\n\n  function WorkspaceSelectionDialog(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceSelectionDialog);\n\n    _this = _super.call(this, props);\n    _this.handleWorkspaceTypeChange = _this.handleWorkspaceTypeChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * Propagate workspace type selection into the global state\n   */\n\n\n  _createClass(WorkspaceSelectionDialog, [{\n    key: \"handleWorkspaceTypeChange\",\n    value: function handleWorkspaceTypeChange(workspaceType) {\n      var _this$props = this.props,\n          handleClose = _this$props.handleClose,\n          updateWorkspace = _this$props.updateWorkspace;\n      updateWorkspace({\n        type: workspaceType\n      });\n      handleClose();\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          container = _this$props2.container,\n          handleClose = _this$props2.handleClose,\n          open = _this$props2.open,\n          children = _this$props2.children,\n          t = _this$props2.t,\n          workspaceType = _this$props2.workspaceType;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        \"aria-labelledby\": \"workspace-selection-dialog-title\",\n        container: container,\n        id: \"workspace-selection-dialog\",\n        onClose: handleClose,\n        onEntered: function onEntered(dialog) {\n          return WorkspaceSelectionDialog.setInitialFocus(dialog, workspaceType);\n        },\n        onEscapeKeyDown: handleClose,\n        open: open\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"workspace-selection-dialog-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('workspaceSelectionTitle'))), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, null, children, /*#__PURE__*/React.createElement(MenuList, {\n        classes: {\n          root: classes.list\n        },\n        selected: workspaceType\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.menuItem,\n        onClick: function onClick() {\n          return _this2.handleWorkspaceTypeChange('elastic');\n        },\n        selected: workspaceType === 'elastic',\n        value: \"elastic\"\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: classes.card\n      }, /*#__PURE__*/React.createElement(WorkspaceTypeElasticIcon, {\n        className: classes.svgIcon,\n        viewBox: \"0 0 120 90\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.details\n      }, /*#__PURE__*/React.createElement(CardContent, {\n        classes: {\n          root: classes.root\n        },\n        className: classes.content\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: classes.headline,\n        component: \"p\",\n        variant: \"h3\"\n      }, t('elastic')), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('elasticDescription')))))), /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.menuItem,\n        onClick: function onClick() {\n          return _this2.handleWorkspaceTypeChange('mosaic');\n        },\n        selected: workspaceType === 'mosaic',\n        value: \"mosaic\"\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: classes.card\n      }, /*#__PURE__*/React.createElement(WorkspaceTypeMosaicIcon, {\n        className: classes.svgIcon,\n        viewBox: \"0 0 120 90\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.details\n      }, /*#__PURE__*/React.createElement(CardContent, {\n        className: classes.content,\n        classes: {\n          root: classes.root\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: classes.headline,\n        component: \"p\",\n        variant: \"h3\"\n      }, t('mosaic')), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('mosaicDescription')))))))));\n    }\n  }]);\n\n  return WorkspaceSelectionDialog;\n}(Component);\nWorkspaceSelectionDialog.defaultProps = {\n  children: null,\n  container: null,\n  open: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceSelectionDialog } from '../components/WorkspaceSelectionDialog';\nimport * as actions from '../state/actions';\nimport { getWorkspaceType } from '../state/selectors';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\nvar mapDispatchToProps = {\n  updateWorkspace: actions.updateWorkspace\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    workspaceType: getWorkspaceType(state)\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    card: {\n      backgroundColor: 'transparent',\n      borderRadius: '0',\n      boxShadow: '0 0 transparent',\n      display: 'flex'\n    },\n    content: {\n      flex: '1 0 auto'\n    },\n    details: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    headline: {\n      paddingBottom: '6px'\n    },\n    list: {\n      '&active': {\n        outline: 'none'\n      },\n      '&focus': {\n        outline: 'none'\n      },\n      outline: 'none'\n    },\n    media: {\n      flex: '0 0 120px',\n      height: '90px'\n    },\n    menuItem: {\n      height: 'auto',\n      overflow: 'auto',\n      whiteSpace: 'inherit'\n    },\n    root: {\n      '&:last-child': {\n        paddingBottom: '12px'\n      },\n      paddingBottom: 0,\n      paddingTop: 0,\n      textAlign: 'left'\n    },\n    svgIcon: {\n      flexShrink: 0,\n      height: '90px',\n      width: '120px'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceSelectionDialog'));\nexport default enhance(WorkspaceSelectionDialog);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport { Dialog, DialogTitle, ListItemIcon, ListItemText, MenuList, MenuItem, Typography, DialogContent } from '@material-ui/core';\nimport PaletteIcon from '@material-ui/icons/PaletteSharp';\n/**\n * a simple dialog providing the possibility to switch the theme\n */\n\nexport var ChangeThemeDialog = /*#__PURE__*/function (_Component) {\n  _inherits(ChangeThemeDialog, _Component);\n\n  var _super = _createSuper(ChangeThemeDialog);\n\n  _createClass(ChangeThemeDialog, null, [{\n    key: \"setInitialFocus\",\n\n    /**\n     * Set the initial focus when the dialog enters\n     * Find the selected item by using the current theme\n     * in a selector on the value attribute (which we need to set)\n    */\n    value: function setInitialFocus(dialogElement, selectedTheme) {\n      var selectedListItem = dialogElement.querySelectorAll(\"li[value=\\\"\".concat(selectedTheme, \"\\\"]\"));\n      if (!selectedListItem || selectedListItem.length === 0) return;\n      selectedListItem[0].focus();\n    }\n    /**\n    */\n\n  }]);\n\n  function ChangeThemeDialog(props) {\n    var _this;\n\n    _classCallCheck(this, ChangeThemeDialog);\n\n    _this = _super.call(this, props);\n    _this.selectedItemRef = /*#__PURE__*/React.createRef();\n    _this.handleThemeChange = _this.handleThemeChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * Propagate theme palette type selection into the global state\n   */\n\n\n  _createClass(ChangeThemeDialog, [{\n    key: \"handleThemeChange\",\n    value: function handleThemeChange(theme) {\n      var _this$props = this.props,\n          setSelectedTheme = _this$props.setSelectedTheme,\n          handleClose = _this$props.handleClose;\n      setSelectedTheme(theme);\n      handleClose();\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          handleClose = _this$props2.handleClose,\n          open = _this$props2.open,\n          selectedTheme = _this$props2.selectedTheme,\n          t = _this$props2.t,\n          themeIds = _this$props2.themeIds;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        onClose: handleClose,\n        onEntered: function onEntered(dialog) {\n          return ChangeThemeDialog.setInitialFocus(dialog, selectedTheme);\n        },\n        open: open\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"change-the-dialog-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('changeTheme'))), /*#__PURE__*/React.createElement(DialogContent, {\n        className: classes.dialogContent\n      }, /*#__PURE__*/React.createElement(MenuList, null, themeIds.map(function (value) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: value,\n          className: classes.listitem,\n          onClick: function onClick() {\n            _this2.handleThemeChange(value);\n          },\n          selected: value === selectedTheme,\n          value: value\n        }, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(PaletteIcon, {\n          className: classes[value]\n        })), /*#__PURE__*/React.createElement(ListItemText, null, t(value)));\n      }))));\n    }\n  }]);\n\n  return ChangeThemeDialog;\n}(Component);\nChangeThemeDialog.defaultProps = {\n  open: false,\n  themeIds: []\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getThemeIds, getConfig } from '../state/selectors';\nimport { ChangeThemeDialog } from '../components/ChangeThemeDialog';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ChangeThemeDialog\n * @private\n */\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    setSelectedTheme: function setSelectedTheme(theme) {\n      return dispatch(actions.updateConfig({\n        selectedTheme: theme\n      }));\n    }\n  };\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof ChangeThemeDialog\n * @private\n */\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    selectedTheme: getConfig(state).selectedTheme,\n    themeIds: getThemeIds(state)\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    dark: {\n      color: '#000000'\n    },\n    dialogContent: {\n      padding: 0\n    },\n    light: {\n      color: '#BDBDBD'\n    },\n    listitem: {\n      '&:focus': {\n        backgroundColor: theme.palette.action.focus\n      },\n      '&:hover': {\n        backgroundColor: theme.palette.action.hover\n      },\n      cursor: 'pointer'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('ChangeThemeDialog'));\nexport default enhance(ChangeThemeDialog);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport LanguageSettings from '../containers/LanguageSettings';\nimport { NestedMenu } from './NestedMenu';\nimport WorkspaceSelectionDialog from '../containers/WorkspaceSelectionDialog';\nimport ns from '../config/css-ns';\nimport ChangeThemeDialog from '../containers/ChangeThemeDialog';\nimport { PluginHook } from './PluginHook';\n/**\n */\n\nexport var WorkspaceMenu = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceMenu, _Component);\n\n  var _super = _createSuper(WorkspaceMenu);\n  /**\n   * constructor -\n   */\n\n\n  function WorkspaceMenu(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      changeTheme: {},\n      toggleZoom: {},\n      workspaceSelection: {}\n    };\n    _this.handleMenuItemClick = _this.handleMenuItemClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuItemClose = _this.handleMenuItemClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceMenu, [{\n    key: \"handleMenuItemClick\",\n    value: function handleMenuItemClick(item, event) {\n      var obj = {};\n      obj[item] = {};\n      obj[item].open = true;\n      obj[item].anchorEl = event.currentTarget;\n      this.setState(obj);\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuItemClose\",\n    value: function handleMenuItemClose(item) {\n      var _this2 = this;\n\n      return function (event) {\n        var obj = {};\n        obj[item] = {};\n        obj[item].open = false;\n        obj[item].anchorEl = null;\n\n        _this2.setState(obj);\n      };\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleZoomToggleClick\",\n    value: function handleZoomToggleClick() {\n      var _this$props = this.props,\n          toggleZoomControls = _this$props.toggleZoomControls,\n          showZoomControls = _this$props.showZoomControls;\n      toggleZoomControls(!showZoomControls);\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          containerId = _this$props2.containerId,\n          handleClose = _this$props2.handleClose,\n          anchorEl = _this$props2.anchorEl,\n          showThemePicker = _this$props2.showThemePicker,\n          isWorkspaceAddVisible = _this$props2.isWorkspaceAddVisible,\n          t = _this$props2.t,\n          showZoomControls = _this$props2.showZoomControls;\n      var _this$state = this.state,\n          changeTheme = _this$state.changeTheme,\n          toggleZoom = _this$state.toggleZoom,\n          workspaceSelection = _this$state.workspaceSelection;\n      var container = document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer')));\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Menu, {\n        id: \"workspace-menu\",\n        container: container,\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        transformOrigin: {\n          horizontal: 'left',\n          vertical: 'top'\n        },\n        open: Boolean(anchorEl),\n        onClose: handleClose\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        disabled: isWorkspaceAddVisible,\n        onClick: function onClick(e) {\n          _this3.handleZoomToggleClick(e);\n\n          handleClose(e);\n        },\n        \"aria-owns\": toggleZoom.anchorEl ? 'toggle-zoom-menu' : undefined\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, showZoomControls ? t('hideZoomControls') : t('showZoomControls'))), /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        onClick: function onClick(e) {\n          _this3.handleMenuItemClick('workspaceSelection', e);\n\n          handleClose(e);\n        },\n        \"aria-owns\": workspaceSelection.anchorEl ? 'workspace-selection' : undefined\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('selectWorkspaceMenu'))), /*#__PURE__*/React.createElement(NestedMenu, {\n        label: t('language')\n      }, /*#__PURE__*/React.createElement(LanguageSettings, {\n        afterSelect: handleClose\n      })), showThemePicker && /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        onClick: function onClick(e) {\n          _this3.handleMenuItemClick('changeTheme', e);\n\n          handleClose(e);\n        },\n        \"aria-owns\": changeTheme.anchorEl ? 'change-theme' : undefined\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('changeTheme'))), /*#__PURE__*/React.createElement(PluginHook, this.props)), Boolean(changeTheme.open) && /*#__PURE__*/React.createElement(ChangeThemeDialog, {\n        container: container,\n        handleClose: this.handleMenuItemClose('changeTheme'),\n        open: Boolean(changeTheme.open)\n      }), Boolean(workspaceSelection.open) && /*#__PURE__*/React.createElement(WorkspaceSelectionDialog, {\n        open: Boolean(workspaceSelection.open),\n        container: container,\n        handleClose: this.handleMenuItemClose('workspaceSelection')\n      }));\n    }\n  }]);\n\n  return WorkspaceMenu;\n}(Component);\nWorkspaceMenu.defaultProps = {\n  anchorEl: null,\n  isWorkspaceAddVisible: false,\n  showThemePicker: false,\n  showZoomControls: false,\n  t: function t(key) {\n    return key;\n  },\n  toggleZoomControls: function toggleZoomControls() {}\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getContainerId, getShowZoomControlsConfig, getThemeIds, getWorkspace } from '../state/selectors';\nimport { WorkspaceMenu } from '../components/WorkspaceMenu';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof WorkspaceMenu\n * @private\n */\n\nvar mapDispatchToProps = {\n  toggleZoomControls: actions.toggleZoomControls\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowViewer\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state),\n    isWorkspaceAddVisible: getWorkspace(state).isWorkspaceAddVisible,\n    showThemePicker: getThemeIds(state).length > 0,\n    showZoomControls: getShowZoomControlsConfig(state)\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceMenu'));\nexport default enhance(WorkspaceMenu);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport SettingsIcon from '@material-ui/icons/SettingsSharp';\nimport classNames from 'classnames';\nimport WorkspaceMenu from '../containers/WorkspaceMenu';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\n/**\n */\n\nexport var WorkspaceMenuButton = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceMenuButton, _Component);\n\n  var _super = _createSuper(WorkspaceMenuButton);\n  /**\n   * constructor -\n   */\n\n\n  function WorkspaceMenuButton(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceMenuButton);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      anchorEl: null\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuClose = _this.handleMenuClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceMenuButton, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick(event) {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuClose\",\n    value: function handleMenuClose() {\n      this.setState({\n        anchorEl: null\n      });\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t;\n      var anchorEl = this.state.anchorEl;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-haspopup\": \"true\",\n        \"aria-label\": t('workspaceMenu'),\n        \"aria-owns\": anchorEl ? 'workspace-menu' : undefined,\n        className: classNames(classes.ctrlBtn, anchorEl ? classes.ctrlBtnSelected : null),\n        id: \"menuBtn\",\n        onClick: this.handleMenuClick\n      }, /*#__PURE__*/React.createElement(SettingsIcon, null)), /*#__PURE__*/React.createElement(WorkspaceMenu, {\n        anchorEl: anchorEl,\n        handleClose: this.handleMenuClose\n      }));\n    }\n  }]);\n\n  return WorkspaceMenuButton;\n}(Component);\nWorkspaceMenuButton.defaultProps = {\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceMenuButton } from '../components/WorkspaceMenuButton';\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    },\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withPlugins('WorkspaceMenuButton') // further HOC\n);\nexport default enhance(WorkspaceMenuButton);","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport ownerDocument from '../utils/ownerDocument';\nimport useForkRef from '../utils/useForkRef';\nimport useEventCallback from '../utils/useEventCallback';\nimport { elementAcceptingRef, exactProp } from '@material-ui/utils';\n\nfunction mapEventPropToEvent(eventProp) {\n  return eventProp.substring(2).toLowerCase();\n}\n\nfunction clickedRootScrollbar(event) {\n  return document.documentElement.clientWidth < event.clientX || document.documentElement.clientHeight < event.clientY;\n}\n/**\n * Listen for click events that occur somewhere in the document, outside of the element itself.\n * For instance, if you need to hide a menu when people click anywhere else on your page.\n */\n\n\nfunction ClickAwayListener(props) {\n  var children = props.children,\n      _props$disableReactTr = props.disableReactTree,\n      disableReactTree = _props$disableReactTr === void 0 ? false : _props$disableReactTr,\n      _props$mouseEvent = props.mouseEvent,\n      mouseEvent = _props$mouseEvent === void 0 ? 'onClick' : _props$mouseEvent,\n      onClickAway = props.onClickAway,\n      _props$touchEvent = props.touchEvent,\n      touchEvent = _props$touchEvent === void 0 ? 'onTouchEnd' : _props$touchEvent;\n  var movedRef = React.useRef(false);\n  var nodeRef = React.useRef(null);\n  var activatedRef = React.useRef(false);\n  var syntheticEventRef = React.useRef(false);\n  React.useEffect(function () {\n    // Ensure that this component is not \"activated\" synchronously.\n    // https://github.com/facebook/react/issues/20074\n    setTimeout(function () {\n      activatedRef.current = true;\n    }, 0);\n    return function () {\n      activatedRef.current = false;\n    };\n  }, []); // can be removed once we drop support for non ref forwarding class components\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    nodeRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(children.ref, handleOwnRef); // The handler doesn't take event.defaultPrevented into account:\n  //\n  // event.preventDefault() is meant to stop default behaviours like\n  // clicking a checkbox to check it, hitting a button to submit a form,\n  // and hitting left arrow to move the cursor in a text input etc.\n  // Only special HTML elements have these default behaviors.\n\n  var handleClickAway = useEventCallback(function (event) {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    var insideReactTree = syntheticEventRef.current;\n    syntheticEventRef.current = false; // 1. IE 11 support, which trigger the handleClickAway even after the unbind\n    // 2. The child might render null.\n    // 3. Behave like a blur listener.\n\n    if (!activatedRef.current || !nodeRef.current || clickedRootScrollbar(event)) {\n      return;\n    } // Do not act if user performed touchmove\n\n\n    if (movedRef.current) {\n      movedRef.current = false;\n      return;\n    }\n\n    var insideDOM; // If not enough, can use https://github.com/DieterHolvoet/event-propagation-path/blob/master/propagationPath.js\n\n    if (event.composedPath) {\n      insideDOM = event.composedPath().indexOf(nodeRef.current) > -1;\n    } else {\n      // TODO v6 remove dead logic https://caniuse.com/#search=composedPath.\n      var doc = ownerDocument(nodeRef.current);\n      insideDOM = !doc.documentElement.contains(event.target) || nodeRef.current.contains(event.target);\n    }\n\n    if (!insideDOM && (disableReactTree || !insideReactTree)) {\n      onClickAway(event);\n    }\n  }); // Keep track of mouse/touch events that bubbled up through the portal.\n\n  var createHandleSynthetic = function createHandleSynthetic(handlerName) {\n    return function (event) {\n      syntheticEventRef.current = true;\n      var childrenPropsHandler = children.props[handlerName];\n\n      if (childrenPropsHandler) {\n        childrenPropsHandler(event);\n      }\n    };\n  };\n\n  var childrenProps = {\n    ref: handleRef\n  };\n\n  if (touchEvent !== false) {\n    childrenProps[touchEvent] = createHandleSynthetic(touchEvent);\n  }\n\n  React.useEffect(function () {\n    if (touchEvent !== false) {\n      var mappedTouchEvent = mapEventPropToEvent(touchEvent);\n      var doc = ownerDocument(nodeRef.current);\n\n      var handleTouchMove = function handleTouchMove() {\n        movedRef.current = true;\n      };\n\n      doc.addEventListener(mappedTouchEvent, handleClickAway);\n      doc.addEventListener('touchmove', handleTouchMove);\n      return function () {\n        doc.removeEventListener(mappedTouchEvent, handleClickAway);\n        doc.removeEventListener('touchmove', handleTouchMove);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, touchEvent]);\n\n  if (mouseEvent !== false) {\n    childrenProps[mouseEvent] = createHandleSynthetic(mouseEvent);\n  }\n\n  React.useEffect(function () {\n    if (mouseEvent !== false) {\n      var mappedMouseEvent = mapEventPropToEvent(mouseEvent);\n      var doc = ownerDocument(nodeRef.current);\n      doc.addEventListener(mappedMouseEvent, handleClickAway);\n      return function () {\n        doc.removeEventListener(mappedMouseEvent, handleClickAway);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, mouseEvent]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.cloneElement(children, childrenProps));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  ClickAwayListener['propTypes' + ''] = exactProp(ClickAwayListener.propTypes);\n}\n\nexport default ClickAwayListener;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Paper from '../Paper';\nimport { emphasize } from '../styles/colorManipulator';\nexport var styles = function styles(theme) {\n  var emphasis = theme.palette.type === 'light' ? 0.8 : 0.98;\n  var backgroundColor = emphasize(theme.palette.background.default, emphasis);\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body2, _defineProperty({\n      color: theme.palette.getContrastText(backgroundColor),\n      backgroundColor: backgroundColor,\n      display: 'flex',\n      alignItems: 'center',\n      flexWrap: 'wrap',\n      padding: '6px 16px',\n      borderRadius: theme.shape.borderRadius,\n      flexGrow: 1\n    }, theme.breakpoints.up('sm'), {\n      flexGrow: 'initial',\n      minWidth: 288\n    })),\n\n    /* Styles applied to the message wrapper element. */\n    message: {\n      padding: '8px 0'\n    },\n\n    /* Styles applied to the action wrapper element if `action` is provided. */\n    action: {\n      display: 'flex',\n      alignItems: 'center',\n      marginLeft: 'auto',\n      paddingLeft: 16,\n      marginRight: -8\n    }\n  };\n};\nvar SnackbarContent = /*#__PURE__*/React.forwardRef(function SnackbarContent(props, ref) {\n  var action = props.action,\n      classes = props.classes,\n      className = props.className,\n      message = props.message,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'alert' : _props$role,\n      other = _objectWithoutProperties(props, [\"action\", \"classes\", \"className\", \"message\", \"role\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    role: role,\n    square: true,\n    elevation: 6,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, message), action ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSnackbarContent'\n})(SnackbarContent);","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport ClickAwayListener from '../ClickAwayListener';\nimport useEventCallback from '../utils/useEventCallback';\nimport capitalize from '../utils/capitalize';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport Grow from '../Grow';\nimport SnackbarContent from '../SnackbarContent';\nexport var styles = function styles(theme) {\n  var top1 = {\n    top: 8\n  };\n  var bottom1 = {\n    bottom: 8\n  };\n  var right = {\n    justifyContent: 'flex-end'\n  };\n  var left = {\n    justifyContent: 'flex-start'\n  };\n  var top3 = {\n    top: 24\n  };\n  var bottom3 = {\n    bottom: 24\n  };\n  var right3 = {\n    right: 24\n  };\n  var left3 = {\n    left: 24\n  };\n  var center = {\n    left: '50%',\n    right: 'auto',\n    transform: 'translateX(-50%)'\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      zIndex: theme.zIndex.snackbar,\n      position: 'fixed',\n      display: 'flex',\n      left: 8,\n      right: 8,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'center' }}`. */\n    anchorOriginTopCenter: _extends({}, top1, _defineProperty({}, theme.breakpoints.up('sm'), _extends({}, top3, center))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'center' }}`. */\n    anchorOriginBottomCenter: _extends({}, bottom1, _defineProperty({}, theme.breakpoints.up('sm'), _extends({}, bottom3, center))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'right' }}`. */\n    anchorOriginTopRight: _extends({}, top1, right, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      left: 'auto'\n    }, top3, right3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'right' }}`. */\n    anchorOriginBottomRight: _extends({}, bottom1, right, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      left: 'auto'\n    }, bottom3, right3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'left' }}`. */\n    anchorOriginTopLeft: _extends({}, top1, left, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      right: 'auto'\n    }, top3, left3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'left' }}`. */\n    anchorOriginBottomLeft: _extends({}, bottom1, left, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      right: 'auto'\n    }, bottom3, left3)))\n  };\n};\nvar Snackbar = /*#__PURE__*/React.forwardRef(function Snackbar(props, ref) {\n  var action = props.action,\n      _props$anchorOrigin = props.anchorOrigin;\n  _props$anchorOrigin = _props$anchorOrigin === void 0 ? {\n    vertical: 'bottom',\n    horizontal: 'center'\n  } : _props$anchorOrigin;\n\n  var vertical = _props$anchorOrigin.vertical,\n      horizontal = _props$anchorOrigin.horizontal,\n      _props$autoHideDurati = props.autoHideDuration,\n      autoHideDuration = _props$autoHideDurati === void 0 ? null : _props$autoHideDurati,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      ClickAwayListenerProps = props.ClickAwayListenerProps,\n      ContentProps = props.ContentProps,\n      _props$disableWindowB = props.disableWindowBlurListener,\n      disableWindowBlurListener = _props$disableWindowB === void 0 ? false : _props$disableWindowB,\n      message = props.message,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      open = props.open,\n      resumeHideDuration = props.resumeHideDuration,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Grow : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? {\n    enter: duration.enteringScreen,\n    exit: duration.leavingScreen\n  } : _props$transitionDura,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"action\", \"anchorOrigin\", \"autoHideDuration\", \"children\", \"classes\", \"className\", \"ClickAwayListenerProps\", \"ContentProps\", \"disableWindowBlurListener\", \"message\", \"onClose\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"onMouseEnter\", \"onMouseLeave\", \"open\", \"resumeHideDuration\", \"TransitionComponent\", \"transitionDuration\", \"TransitionProps\"]);\n\n  var timerAutoHide = React.useRef();\n\n  var _React$useState = React.useState(true),\n      exited = _React$useState[0],\n      setExited = _React$useState[1];\n\n  var handleClose = useEventCallback(function () {\n    if (onClose) {\n      onClose.apply(void 0, arguments);\n    }\n  });\n  var setAutoHideTimer = useEventCallback(function (autoHideDurationParam) {\n    if (!onClose || autoHideDurationParam == null) {\n      return;\n    }\n\n    clearTimeout(timerAutoHide.current);\n    timerAutoHide.current = setTimeout(function () {\n      handleClose(null, 'timeout');\n    }, autoHideDurationParam);\n  });\n  React.useEffect(function () {\n    if (open) {\n      setAutoHideTimer(autoHideDuration);\n    }\n\n    return function () {\n      clearTimeout(timerAutoHide.current);\n    };\n  }, [open, autoHideDuration, setAutoHideTimer]); // Pause the timer when the user is interacting with the Snackbar\n  // or when the user hide the window.\n\n  var handlePause = function handlePause() {\n    clearTimeout(timerAutoHide.current);\n  }; // Restart the timer when the user is no longer interacting with the Snackbar\n  // or when the window is shown back.\n\n\n  var handleResume = React.useCallback(function () {\n    if (autoHideDuration != null) {\n      setAutoHideTimer(resumeHideDuration != null ? resumeHideDuration : autoHideDuration * 0.5);\n    }\n  }, [autoHideDuration, resumeHideDuration, setAutoHideTimer]);\n\n  var handleMouseEnter = function handleMouseEnter(event) {\n    if (onMouseEnter) {\n      onMouseEnter(event);\n    }\n\n    handlePause();\n  };\n\n  var handleMouseLeave = function handleMouseLeave(event) {\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n\n    handleResume();\n  };\n\n  var handleClickAway = function handleClickAway(event) {\n    if (onClose) {\n      onClose(event, 'clickaway');\n    }\n  };\n\n  var handleExited = function handleExited() {\n    setExited(true);\n  };\n\n  var handleEnter = function handleEnter() {\n    setExited(false);\n  };\n\n  React.useEffect(function () {\n    if (!disableWindowBlurListener && open) {\n      window.addEventListener('focus', handleResume);\n      window.addEventListener('blur', handlePause);\n      return function () {\n        window.removeEventListener('focus', handleResume);\n        window.removeEventListener('blur', handlePause);\n      };\n    }\n\n    return undefined;\n  }, [disableWindowBlurListener, handleResume, open]); // So we only render active snackbars.\n\n  if (!open && exited) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(ClickAwayListener, _extends({\n    onClickAway: handleClickAway\n  }, ClickAwayListenerProps), /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, classes[\"anchorOrigin\".concat(capitalize(vertical)).concat(capitalize(horizontal))], className),\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    in: open,\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: onEntered,\n    onEntering: onEntering,\n    onExit: onExit,\n    onExited: createChainedFunction(handleExited, onExited),\n    onExiting: onExiting,\n    timeout: transitionDuration,\n    direction: vertical === 'top' ? 'down' : 'up'\n  }, TransitionProps), children || /*#__PURE__*/React.createElement(SnackbarContent, _extends({\n    message: message,\n    action: action\n  }, ContentProps)))));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  flip: false,\n  name: 'MuiSnackbar'\n})(Snackbar);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport ScrollIndicatedDialogContent from '../containers/ScrollIndicatedDialogContent';\n/**\n */\n\nexport var WorkspaceExport = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceExport, _Component);\n\n  var _super = _createSuper(WorkspaceExport);\n  /** */\n\n\n  function WorkspaceExport(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceExport);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      copied: false\n    };\n    _this.onCopy = _this.onCopy.bind(_assertThisInitialized(_this));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** Handle closing after the content is copied and the snackbar is done */\n\n\n  _createClass(WorkspaceExport, [{\n    key: \"handleClose\",\n    value: function handleClose() {\n      var handleClose = this.props.handleClose;\n      handleClose();\n    }\n    /** Show the snackbar */\n\n  }, {\n    key: \"onCopy\",\n    value: function onCopy() {\n      this.setState({\n        copied: true\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"exportedState\",\n    value: function exportedState() {\n      var exportableState = this.props.exportableState;\n      return JSON.stringify(exportableState, null, 2);\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          container = _this$props.container,\n          open = _this$props.open,\n          t = _this$props.t;\n      var copied = this.state.copied;\n\n      if (copied) {\n        return /*#__PURE__*/React.createElement(Snackbar, {\n          anchorOrigin: {\n            horizontal: 'center',\n            vertical: 'top'\n          },\n          open: true,\n          autoHideDuration: 6000,\n          onClose: this.handleClose,\n          message: t('exportCopied'),\n          action: /*#__PURE__*/React.createElement(IconButton, {\n            size: \"small\",\n            \"aria-label\": t('dismiss'),\n            color: \"inherit\",\n            onClick: this.handleClose\n          }, /*#__PURE__*/React.createElement(CloseIcon, {\n            fontSize: \"small\"\n          }))\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(Dialog, {\n        id: \"workspace-settings\",\n        container: container,\n        open: open,\n        onClose: this.handleClose,\n        scroll: \"paper\",\n        fullWidth: true,\n        maxWidth: \"sm\"\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"form-dialog-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('downloadExport'))), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, null, children, /*#__PURE__*/React.createElement(\"pre\", null, this.exportedState())), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.handleClose\n      }, t('cancel')), /*#__PURE__*/React.createElement(CopyToClipboard, {\n        onCopy: this.onCopy,\n        text: this.exportedState()\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\"\n      }, t('copy')))));\n    }\n  }]);\n\n  return WorkspaceExport;\n}(Component);\nWorkspaceExport.defaultProps = {\n  children: null,\n  container: null,\n  open: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceExport } from '../components/WorkspaceExport';\nimport { getExportableState } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    exportableState: getExportableState(state)\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, {}), withPlugins('WorkspaceExport'));\nexport default enhance(WorkspaceExport);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { DialogActions, TextField, Typography } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport ScrollIndicatedDialogContent from '../containers/ScrollIndicatedDialogContent';\n/**\n */\n\nexport var WorkspaceImport = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceImport, _Component);\n\n  var _super = _createSuper(WorkspaceImport);\n  /**\n   *\n   * constructor\n   */\n\n\n  function WorkspaceImport(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceImport);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      configImportValue: ''\n    };\n    _this.handleImportConfig = _this.handleImportConfig.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceImport, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      event.preventDefault();\n      this.setState({\n        configImportValue: event.target.value\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleImportConfig\",\n    value: function handleImportConfig(event) {\n      var _this$props = this.props,\n          handleClose = _this$props.handleClose,\n          importConfig = _this$props.importConfig;\n      var configImportValue = this.state.configImportValue;\n\n      try {\n        var configJSON = JSON.parse(configImportValue);\n        importConfig(configJSON);\n        handleClose();\n      } catch (ex) {\n        var addError = this.props.addError;\n        addError(ex.toString());\n      }\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          handleClose = _this$props2.handleClose,\n          open = _this$props2.open,\n          t = _this$props2.t;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        \"aria-labelledby\": \"workspace-import-title\",\n        id: \"workspace-import\",\n        onEscapeKeyDown: handleClose,\n        onClose: handleClose,\n        open: open,\n        fullWidth: true,\n        maxWidth: \"sm\"\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"workspace-import-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('importWorkspace'))), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, null, /*#__PURE__*/React.createElement(TextField, {\n        className: classes.textField,\n        id: \"workspace-import-input\",\n        multiline: true,\n        onChange: this.handleChange,\n        rows: \"15\",\n        variant: \"filled\",\n        inputProps: {\n          autoFocus: 'autofocus',\n          className: classes.textInput\n        },\n        helperText: t('importWorkspaceHint')\n      })), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        className: classes.cancelBtn,\n        onClick: handleClose\n      }, t('cancel')), /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.handleImportConfig,\n        variant: \"contained\"\n      }, t('import'))));\n    }\n  }]);\n\n  return WorkspaceImport;\n}(Component);\nWorkspaceImport.defaultProps = {\n  classes: {},\n  open: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceImport } from '../components/WorkspaceImport';\nimport * as actions from '../state/actions';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof App\n * @private\n */\n\nvar mapDispatchToProps = {\n  addError: actions.addError,\n  importConfig: actions.importMiradorState\n};\n/** */\n\nvar styles = function styles(theme) {\n  return {\n    cancelBtn: {\n      color: theme.palette.text.primary\n    },\n    textField: {\n      width: '100%'\n    },\n    textInput: {\n      fontFamily: 'monospace'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(null, mapDispatchToProps), withPlugins('WorkspaceImport'));\nexport default enhance(WorkspaceImport);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport ImportIcon from '@material-ui/icons/Input';\nimport SaveAltIcon from '@material-ui/icons/SaveAltSharp';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport WorkspaceExport from '../containers/WorkspaceExport';\nimport WorkspaceImport from '../containers/WorkspaceImport';\nimport { PluginHook } from './PluginHook';\nimport ns from '../config/css-ns';\n/**\n * WorkspaceOptionsMenu ~ the menu for workspace options such as import/export\n*/\n\nexport var WorkspaceOptionsMenu = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceOptionsMenu, _Component);\n\n  var _super = _createSuper(WorkspaceOptionsMenu);\n  /**\n   * constructor -\n   */\n\n\n  function WorkspaceOptionsMenu(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceOptionsMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      exportWorkspace: {},\n      importWorkspace: {}\n    };\n    _this.handleMenuItemClick = _this.handleMenuItemClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuItemClose = _this.handleMenuItemClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceOptionsMenu, [{\n    key: \"handleMenuItemClick\",\n    value: function handleMenuItemClick(item) {\n      var obj = {};\n      obj[item] = {};\n      obj[item].open = true;\n      this.setState(obj);\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuItemClose\",\n    value: function handleMenuItemClose(item) {\n      var _this2 = this;\n\n      return function (event) {\n        var obj = {};\n        obj[item] = {};\n        obj[item].open = false;\n\n        _this2.setState(obj);\n      };\n    }\n    /**\n     * Returns the rendered component\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          anchorEl = _this$props.anchorEl,\n          containerId = _this$props.containerId,\n          handleClose = _this$props.handleClose,\n          t = _this$props.t;\n      var _this$state = this.state,\n          exportWorkspace = _this$state.exportWorkspace,\n          importWorkspace = _this$state.importWorkspace;\n      var container = document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer')));\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Menu, {\n        id: \"workspace-options-menu\",\n        container: container,\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        transformOrigin: {\n          horizontal: 'left',\n          vertical: 'top'\n        },\n        open: Boolean(anchorEl),\n        onClose: handleClose\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        onClick: function onClick() {\n          _this3.handleMenuItemClick('exportWorkspace');\n\n          handleClose();\n        },\n        \"aria-owns\": exportWorkspace.open ? 'workspace-export' : undefined\n      }, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(SaveAltIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('downloadExportWorkspace'))), /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        id: \"workspace-menu-import\",\n        onClick: function onClick() {\n          _this3.handleMenuItemClick('importWorkspace');\n\n          handleClose();\n        },\n        \"aria-owns\": exportWorkspace.open ? 'workspace-import' : undefined\n      }, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(ImportIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('importWorkspace'))), /*#__PURE__*/React.createElement(PluginHook, this.props)), Boolean(exportWorkspace.open) && /*#__PURE__*/React.createElement(WorkspaceExport, {\n        open: Boolean(exportWorkspace.open),\n        container: container,\n        handleClose: this.handleMenuItemClose('exportWorkspace')\n      }), Boolean(importWorkspace.open) && /*#__PURE__*/React.createElement(WorkspaceImport, {\n        open: Boolean(importWorkspace.open),\n        container: container,\n        handleClose: this.handleMenuItemClose('importWorkspace')\n      }));\n    }\n  }]);\n\n  return WorkspaceOptionsMenu;\n}(Component);\nWorkspaceOptionsMenu.defaultProps = {\n  anchorEl: null\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { getContainerId } from '../state/selectors';\nimport { WorkspaceOptionsMenu } from '../components/WorkspaceOptionsMenu';\n/** Used for connect */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state)\n  };\n}; // containerId: getContainerId(state),/\n\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, null));\nexport default enhance(WorkspaceOptionsMenu);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport MoreHorizontalIcon from '@material-ui/icons/MoreHorizSharp';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport WorkspaceOptionsMenu from '../containers/WorkspaceOptionsMenu';\n/**\n * WorkspaceOptionsButton ~\n*/\n\nexport var WorkspaceOptionsButton = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceOptionsButton, _Component);\n\n  var _super = _createSuper(WorkspaceOptionsButton);\n  /**\n   * constructor -\n   */\n\n\n  function WorkspaceOptionsButton(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceOptionsButton);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      anchorEl: null\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuClose = _this.handleMenuClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceOptionsButton, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick(event) {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuClose\",\n    value: function handleMenuClose() {\n      this.setState({\n        anchorEl: null\n      });\n    }\n    /**\n     * Returns the rendered component\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t;\n      var anchorEl = this.state.anchorEl;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('workspaceOptions'),\n        className: classNames(classes.ctrlBtn, anchorEl ? classes.ctrlBtnSelected : null),\n        onClick: this.handleMenuClick\n      }, /*#__PURE__*/React.createElement(MoreHorizontalIcon, null)), /*#__PURE__*/React.createElement(WorkspaceOptionsMenu, {\n        anchorEl: anchorEl,\n        handleClose: this.handleMenuClose\n      }));\n    }\n  }]);\n\n  return WorkspaceOptionsButton;\n}(Component);","import { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceOptionsButton } from '../components/WorkspaceOptionsButton';\n/**\n *\n * @param theme\n */\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    },\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(), withPlugins('WorkspaceOptionsButton'));\nexport default enhance(WorkspaceOptionsButton);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ns from '../config/css-ns';\n/**\n */\n\nexport var WindowList = /*#__PURE__*/function (_Component) {\n  _inherits(WindowList, _Component);\n\n  var _super = _createSuper(WindowList);\n\n  function WindowList() {\n    _classCallCheck(this, WindowList);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowList, [{\n    key: \"titleContent\",\n\n    /**\n     * Get the title for a window from its manifest title\n     * @private\n     */\n    value: function titleContent(windowId) {\n      var _this$props = this.props,\n          titles = _this$props.titles,\n          t = _this$props.t;\n      return titles[windowId] || t('untitled');\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props2 = this.props,\n          containerId = _this$props2.containerId,\n          handleClose = _this$props2.handleClose,\n          anchorEl = _this$props2.anchorEl,\n          windowIds = _this$props2.windowIds,\n          focusWindow = _this$props2.focusWindow,\n          t = _this$props2.t;\n      return /*#__PURE__*/React.createElement(Menu, {\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        transformOrigin: {\n          horizontal: 'left',\n          vertical: 'top'\n        },\n        id: \"window-list-menu\",\n        container: document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer'))),\n        disableAutoFocusItem: true,\n        anchorEl: anchorEl,\n        open: Boolean(anchorEl),\n        onClose: handleClose,\n        onEntering: WindowList.focus2ndListIitem\n      }, /*#__PURE__*/React.createElement(ListSubheader, {\n        role: \"presentation\",\n        selected: false,\n        disabled: true,\n        tabIndex: \"-1\"\n      }, t('openWindows')), windowIds.map(function (windowId, i) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: windowId,\n          onClick: function onClick(e) {\n            focusWindow(windowId, true);\n            handleClose(e);\n          }\n        }, /*#__PURE__*/React.createElement(ListItemText, {\n          primaryTypographyProps: {\n            variant: 'body1'\n          }\n        }, _this.titleContent(windowId)));\n      }));\n    }\n  }], [{\n    key: \"focus2ndListIitem\",\n\n    /**\n     * Given the menuElement passed in by the onEntering callback,\n     * find the 2nd ListItem element (avoiding the header) and focus it\n    */\n    value: function focus2ndListIitem(menuElement) {\n      if (!menuElement.querySelectorAll('li') || menuElement.querySelectorAll('li').length < 2) return;\n      menuElement.querySelectorAll('li')[1].focus(); // The 2nd LI\n    }\n  }]);\n\n  return WindowList;\n}(Component);\nWindowList.defaultProps = {\n  anchorEl: null,\n  t: function t(key) {\n    return key;\n  },\n  titles: {}\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getContainerId, getWindowIds, getWindowTitles } from '../state/selectors';\nimport { WindowList } from '../components/WindowList';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\nvar mapDispatchToProps = {\n  focusWindow: actions.focusWindow\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof WorkspaceControlPanel\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state),\n    titles: getWindowTitles(state),\n    windowIds: getWindowIds(state)\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('WindowList'));\nexport default enhance(WindowList);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport BookmarksIcon from '@material-ui/icons/BookmarksSharp';\nimport classNames from 'classnames';\nimport WindowList from '../containers/WindowList';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\n/**\n * WindowListButton ~\n*/\n\nexport var WindowListButton = /*#__PURE__*/function (_Component) {\n  _inherits(WindowListButton, _Component);\n\n  var _super = _createSuper(WindowListButton);\n  /** */\n\n\n  function WindowListButton(props) {\n    var _this;\n\n    _classCallCheck(this, WindowListButton);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      windowListAnchor: null\n    };\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_this));\n    _this.handleOpen = _this.handleOpen.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** Set the windowListAnchor to null on window close */\n\n\n  _createClass(WindowListButton, [{\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        windowListAnchor: null\n      });\n    }\n    /** Set the windowListAnchor to the event's current target  */\n\n  }, {\n    key: \"handleOpen\",\n    value: function handleOpen(event) {\n      this.setState({\n        windowListAnchor: event.currentTarget\n      });\n    }\n    /**\n     * Returns the rendered component\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          disabled = _this$props.disabled,\n          t = _this$props.t,\n          windowCount = _this$props.windowCount;\n      var windowListAnchor = this.state.windowListAnchor;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-haspopup\": \"true\",\n        \"aria-label\": t('listAllOpenWindows'),\n        \"aria-owns\": windowListAnchor ? 'window-list' : null,\n        className: classNames(classes.ctrlBtn, windowListAnchor ? classes.ctrlBtnSelected : null),\n        disabled: disabled,\n        badge: true,\n        BadgeProps: {\n          badgeContent: windowCount,\n          classes: {\n            badge: classes.badge\n          }\n        },\n        onClick: function onClick(e) {\n          return _this2.handleOpen(e);\n        }\n      }, /*#__PURE__*/React.createElement(BookmarksIcon, null)), Boolean(windowListAnchor) && /*#__PURE__*/React.createElement(WindowList, {\n        anchorEl: windowListAnchor,\n        id: \"window-list\",\n        open: Boolean(windowListAnchor),\n        handleClose: this.handleClose\n      }));\n    }\n  }]);\n\n  return WindowListButton;\n}(Component);\nWindowListButton.defaultProps = {\n  classes: {},\n  disabled: false\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getWindowIds, getWorkspace } from '../state/selectors';\nimport { WindowListButton } from '../components/WindowListButton';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    disabled: getWorkspace(state).isWorkspaceAddVisible,\n    windowCount: getWindowIds(state).length\n  };\n};\n/**\n *\n * @param theme\n * @returns {{background: {background: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    badge: {\n      paddingLeft: 12\n    },\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    },\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, null), withPlugins('WindowListButton'));\nexport default enhance(WindowListButton);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport FullScreenButton from '../containers/FullScreenButton';\nimport WorkspaceMenuButton from '../containers/WorkspaceMenuButton';\nimport WorkspaceOptionsButton from '../containers/WorkspaceOptionsButton';\nimport WindowListButton from '../containers/WindowListButton';\nimport { PluginHook } from './PluginHook';\n/**\n *\n */\n\nexport var WorkspaceControlPanelButtons = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceControlPanelButtons, _Component);\n\n  var _super = _createSuper(WorkspaceControlPanelButtons);\n\n  function WorkspaceControlPanelButtons() {\n    _classCallCheck(this, WorkspaceControlPanelButtons);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceControlPanelButtons, [{\n    key: \"render\",\n\n    /**\n     * render\n     *\n     * @return {type}  description\n     */\n    value: function render() {\n      var classes = this.props.classes;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(WindowListButton, null), /*#__PURE__*/React.createElement(WorkspaceMenuButton, null), /*#__PURE__*/React.createElement(WorkspaceOptionsButton, null), /*#__PURE__*/React.createElement(FullScreenButton, {\n        className: classes.ctrlBtn\n      }), /*#__PURE__*/React.createElement(PluginHook, this.props));\n    }\n  }]);\n\n  return WorkspaceControlPanelButtons;\n}(Component);\nWorkspaceControlPanelButtons.defaultProps = {\n  classes: {}\n};","import { compose } from 'redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceControlPanelButtons } from '../components/WorkspaceControlPanelButtons';\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), withPlugins('WorkspaceControlPanelButtons'));\nexport default enhance(WorkspaceControlPanelButtons);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * ThumbnailNavigationRightIcon ~\n*/\n\nexport default function MiradorIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, Object.assign({\n    viewBox: \"0 0 60 55\"\n  }, props), /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"18\",\n    height: \"55\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"18\",\n    height: \"55\",\n    transform: \"translate(42)\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"18\",\n    height: \"34\",\n    transform: \"translate(21)\"\n  }));\n}","function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport MiradorIcon from './icons/MiradorIcon';\n/**\n * Display a branding icon\n */\n\nexport var Branding = /*#__PURE__*/function (_Component) {\n  _inherits(Branding, _Component);\n\n  var _super = _createSuper(Branding);\n\n  function Branding() {\n    _classCallCheck(this, Branding);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Branding, [{\n    key: \"render\",\n\n    /** */\n    value: function render() {\n      var _this$props = this.props,\n          t = _this$props.t,\n          variant = _this$props.variant,\n          ContainerProps = _objectWithoutProperties(_this$props, [\"t\", \"variant\"]);\n\n      return /*#__PURE__*/React.createElement(\"div\", ContainerProps, variant === 'wide' && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Typography, {\n        align: \"center\",\n        component: \"p\",\n        variant: \"h3\"\n      }, t('mirador'))), /*#__PURE__*/React.createElement(Typography, {\n        align: \"center\"\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        component: \"a\",\n        href: \"https://projectmirador.org\",\n        target: \"_blank\",\n        rel: \"noopener\"\n      }, /*#__PURE__*/React.createElement(MiradorIcon, {\n        \"aria-label\": t('aboutMirador'),\n        titleAccess: t('aboutMirador'),\n        fontSize: \"large\"\n      }))));\n    }\n  }]);\n\n  return Branding;\n}(Component);\nBranding.defaultProps = {\n  t: function t(k) {\n    return k;\n  },\n  variant: 'default'\n};","import { withPlugins } from '../extend/withPlugins';\nimport { Branding } from '../components/Branding';\nexport default withPlugins('Branding')(Branding);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport WorkspaceAddButton from '../containers/WorkspaceAddButton';\nimport WorkspaceControlPanelButtons from '../containers/WorkspaceControlPanelButtons';\nimport Branding from '../containers/Branding';\nimport ns from '../config/css-ns';\n/**\n * Provides the panel responsible for controlling the entire workspace\n */\n\nexport var WorkspaceControlPanel = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceControlPanel, _Component);\n\n  var _super = _createSuper(WorkspaceControlPanel);\n\n  function WorkspaceControlPanel() {\n    _classCallCheck(this, WorkspaceControlPanel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceControlPanel, [{\n    key: \"render\",\n\n    /**\n     * render\n     * @return {String} - HTML markup for the component\n     */\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t,\n          variant = _this$props.variant;\n      return /*#__PURE__*/React.createElement(AppBar, {\n        className: classNames(classes.root, ns('workspace-control-panel'), variant === 'wide' ? classes.wide : null),\n        color: \"default\",\n        position: \"absolute\",\n        component: \"nav\",\n        \"aria-label\": t('workspaceNavigation')\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        disableGutters: true,\n        className: classes.toolbar\n      }, /*#__PURE__*/React.createElement(WorkspaceAddButton, null), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.workspaceButtons\n      }, /*#__PURE__*/React.createElement(WorkspaceControlPanelButtons, null))), /*#__PURE__*/React.createElement(Branding, {\n        className: classes.branding,\n        t: t,\n        variant: variant\n      }));\n    }\n  }]);\n\n  return WorkspaceControlPanel;\n}(Component);\nWorkspaceControlPanel.defaultProps = {\n  variant: 'default'\n};","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceControlPanel } from '../components/WorkspaceControlPanel';\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)},\n * drawer: {overflowX: string, height: string}}}\n */\n\nvar styles = function styles(theme) {\n  var _branding;\n\n  return {\n    branding: (_branding = {\n      display: 'flex',\n      position: 'absolute'\n    }, _defineProperty(_branding, theme.breakpoints.up('xs'), {\n      display: 'none'\n    }), _defineProperty(_branding, theme.breakpoints.up('sm'), {\n      bottom: 0,\n      display: 'block',\n      \"float\": 'none',\n      right: 'auto',\n      width: '100%'\n    }), _defineProperty(_branding, \"right\", 0), _branding),\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    },\n    drawer: {\n      overflowX: 'hidden'\n    },\n    root: _defineProperty({\n      height: 64\n    }, theme.breakpoints.up('sm'), {\n      height: '100%',\n      left: 0,\n      right: 'auto',\n      width: 64\n    }),\n    toolbar: _defineProperty({\n      display: 'flex',\n      justifyContent: 'space-between'\n    }, theme.breakpoints.up('sm'), {\n      flexDirection: 'column',\n      justifyContent: 'flex-start',\n      minHeight: 0\n    }),\n    wide: {\n      width: 'auto'\n    },\n    workspaceButtons: _defineProperty({}, theme.breakpoints.up('sm'), {\n      display: 'flex',\n      flexDirection: 'column'\n    })\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withPlugins('WorkspaceControlPanel') // further HOC go here\n);\nexport default enhance(WorkspaceControlPanel);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport { useFormControl } from '../FormControl';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      cursor: 'pointer',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      WebkitTapHighlightColor: 'transparent',\n      marginLeft: -11,\n      marginRight: 16,\n      // used for row presentation of radio/checkbox\n      '&$disabled': {\n        cursor: 'default'\n      }\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"start\"`. */\n    labelPlacementStart: {\n      flexDirection: 'row-reverse',\n      marginLeft: 16,\n      // used for row presentation of radio/checkbox\n      marginRight: -11\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"top\"`. */\n    labelPlacementTop: {\n      flexDirection: 'column-reverse',\n      marginLeft: 16\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"bottom\"`. */\n    labelPlacementBottom: {\n      flexDirection: 'column',\n      marginLeft: 16\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the label's Typography component. */\n    label: {\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    }\n  };\n};\n/**\n * Drop in replacement of the `Radio`, `Switch` and `Checkbox` component.\n * Use this component if you want to display an extra label.\n */\n\nvar FormControlLabel = /*#__PURE__*/React.forwardRef(function FormControlLabel(props, ref) {\n  var checked = props.checked,\n      classes = props.classes,\n      className = props.className,\n      control = props.control,\n      disabledProp = props.disabled,\n      inputRef = props.inputRef,\n      label = props.label,\n      _props$labelPlacement = props.labelPlacement,\n      labelPlacement = _props$labelPlacement === void 0 ? 'end' : _props$labelPlacement,\n      name = props.name,\n      onChange = props.onChange,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"checked\", \"classes\", \"className\", \"control\", \"disabled\", \"inputRef\", \"label\", \"labelPlacement\", \"name\", \"onChange\", \"value\"]);\n\n  var muiFormControl = useFormControl();\n  var disabled = disabledProp;\n\n  if (typeof disabled === 'undefined' && typeof control.props.disabled !== 'undefined') {\n    disabled = control.props.disabled;\n  }\n\n  if (typeof disabled === 'undefined' && muiFormControl) {\n    disabled = muiFormControl.disabled;\n  }\n\n  var controlProps = {\n    disabled: disabled\n  };\n  ['checked', 'name', 'onChange', 'value', 'inputRef'].forEach(function (key) {\n    if (typeof control.props[key] === 'undefined' && typeof props[key] !== 'undefined') {\n      controlProps[key] = props[key];\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"label\", _extends({\n    className: clsx(classes.root, className, labelPlacement !== 'end' && classes[\"labelPlacement\".concat(capitalize(labelPlacement))], disabled && classes.disabled),\n    ref: ref\n  }, other), /*#__PURE__*/React.cloneElement(control, controlProps), /*#__PURE__*/React.createElement(Typography, {\n    component: \"span\",\n    className: clsx(classes.label, disabled && classes.disabled)\n  }, label));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFormControlLabel'\n})(FormControlLabel);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * ThumbnailNavigationBottomIcon ~\n*/\n\nexport default function ThumbnailNavigationBottomIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3,3H21V5H3Z\",\n    transform: \"translate(0 16)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21,5H3V19H21ZM19,17H5V7H19Z\",\n    transform: \"translate(0 -2)\"\n  })));\n}","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * ThumbnailNavigationRightIcon ~\n*/\n\nexport default function ThumbnailNavigationRightIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,0H24V24H0Z\",\n    transform: \"translate(24) rotate(90)\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3,3H21V5H3Z\",\n    transform: \"translate(24) rotate(90)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,3H5V21H19ZM17,19H7V5H17Z\",\n    transform: \"translate(-2)\"\n  })));\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ThumbnailsOffIcon from '@material-ui/icons/CropDinSharp';\nimport ThumbnailNavigationBottomIcon from './icons/ThumbnailNavigationBottomIcon';\nimport ThumbnailNavigationRightIcon from './icons/ThumbnailNavigationRightIcon';\n/**\n *\n */\n\nexport var WindowThumbnailSettings = /*#__PURE__*/function (_Component) {\n  _inherits(WindowThumbnailSettings, _Component);\n\n  var _super = _createSuper(WindowThumbnailSettings);\n  /**\n   * constructor -\n   */\n\n\n  function WindowThumbnailSettings(props) {\n    var _this;\n\n    _classCallCheck(this, WindowThumbnailSettings);\n\n    _this = _super.call(this, props);\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WindowThumbnailSettings, [{\n    key: \"handleChange\",\n    value: function handleChange(value) {\n      var _this$props = this.props,\n          windowId = _this$props.windowId,\n          setWindowThumbnailPosition = _this$props.setWindowThumbnailPosition;\n      setWindowThumbnailPosition(windowId, value);\n    }\n    /**\n     * render\n     *\n     * @return {type}  description\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          handleClose = _this$props2.handleClose,\n          t = _this$props2.t,\n          thumbnailNavigationPosition = _this$props2.thumbnailNavigationPosition,\n          direction = _this$props2.direction;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListSubheader, {\n        role: \"presentation\",\n        disableSticky: true,\n        tabIndex: \"-1\"\n      }, t('thumbnails')), /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.MenuItem,\n        onClick: function onClick() {\n          _this2.handleChange('off');\n\n          handleClose();\n        }\n      }, /*#__PURE__*/React.createElement(FormControlLabel, {\n        value: \"off\",\n        classes: {\n          label: thumbnailNavigationPosition === 'off' ? classes.selectedLabel : classes.label\n        },\n        control: /*#__PURE__*/React.createElement(ThumbnailsOffIcon, {\n          color: thumbnailNavigationPosition === 'off' ? 'secondary' : undefined\n        }),\n        label: t('off'),\n        labelPlacement: \"bottom\"\n      })), /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.MenuItem,\n        onClick: function onClick() {\n          _this2.handleChange('far-bottom');\n\n          handleClose();\n        }\n      }, /*#__PURE__*/React.createElement(FormControlLabel, {\n        value: \"far-bottom\",\n        classes: {\n          label: thumbnailNavigationPosition === 'far-bottom' ? classes.selectedLabel : classes.label\n        },\n        control: /*#__PURE__*/React.createElement(ThumbnailNavigationBottomIcon, {\n          color: thumbnailNavigationPosition === 'far-bottom' ? 'secondary' : undefined\n        }),\n        label: t('bottom'),\n        labelPlacement: \"bottom\"\n      })), /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.MenuItem,\n        onClick: function onClick() {\n          _this2.handleChange('far-right');\n\n          handleClose();\n        }\n      }, /*#__PURE__*/React.createElement(FormControlLabel, {\n        value: \"far-right\",\n        classes: {\n          label: thumbnailNavigationPosition === 'far-right' ? classes.selectedLabel : classes.label\n        },\n        control: /*#__PURE__*/React.createElement(ThumbnailNavigationRightIcon, {\n          color: thumbnailNavigationPosition === 'far-right' ? 'secondary' : undefined,\n          style: direction === 'rtl' ? {\n            transform: 'rotate(180deg)'\n          } : {}\n        }),\n        label: t('right'),\n        labelPlacement: \"bottom\"\n      })));\n    }\n  }]);\n\n  return WindowThumbnailSettings;\n}(Component);\nWindowThumbnailSettings.defaultProps = {\n  handleClose: function handleClose() {},\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getThumbnailNavigationPosition, getThemeDirection } from '../state/selectors';\nimport { WindowThumbnailSettings } from '../components/WindowThumbnailSettings';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\nvar mapDispatchToProps = {\n  setWindowThumbnailPosition: actions.setWindowThumbnailPosition\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowViewer\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    direction: getThemeDirection(state),\n    thumbnailNavigationPosition: getThumbnailNavigationPosition(state, {\n      windowId: windowId\n    })\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    label: {\n      borderBottom: '2px solid transparent'\n    },\n    MenuItem: {\n      display: 'inline-block'\n    },\n    selectedLabel: {\n      borderBottom: \"2px solid \".concat(theme.palette.secondary.main),\n      color: theme.palette.secondary.main\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(null, {\n  withRef: true\n}), connect(mapStateToProps, mapDispatchToProps, null, {\n  forwardRef: true\n}), withPlugins('WindowThumbnailSettings') // further HOC go here\n);\nexport default enhance(WindowThumbnailSettings);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * BookViewIcon ~\n*/\n\nexport default function BookViewIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1,4V21H22.853V4.1ZM3,19V6h8V19Zm18,0H13V6h8ZM14,9.5h6V11H14ZM14,12h6v1.5H14Zm0,2.5h6V16H14Z\"\n  })));\n}","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * GalleryViewIcon ~\n */\n\nexport default function GalleryViewIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.974,2H2V19.974H19.974V2ZM7.392,18.177H3.8V14.582H7.392Zm0-5.392H3.8V9.19H7.392Zm0-5.392H3.8V3.8H7.392Zm5.392,10.785H9.19V14.582h3.595Zm0-5.392H9.19V9.19h3.595Zm0-5.392H9.19V3.8h3.595Zm5.392,10.785H14.582V14.582h3.595Zm0-5.392H14.582V9.19h3.595Zm0-5.392H14.582V3.8h3.595Z\",\n    transform: \"translate(1 1)\"\n  })));\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport SingleIcon from '@material-ui/icons/CropOriginalSharp';\nimport ScrollViewIcon from '@material-ui/icons/ViewColumn';\nimport BookViewIcon from './icons/BookViewIcon';\nimport GalleryViewIcon from './icons/GalleryViewIcon';\n/**\n *\n */\n\nexport var WindowViewSettings = /*#__PURE__*/function (_Component) {\n  _inherits(WindowViewSettings, _Component);\n\n  var _super = _createSuper(WindowViewSettings);\n  /**\n   * constructor -\n   */\n\n\n  function WindowViewSettings(props) {\n    var _this;\n\n    _classCallCheck(this, WindowViewSettings);\n\n    _this = _super.call(this, props);\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WindowViewSettings, [{\n    key: \"handleChange\",\n    value: function handleChange(value) {\n      var _this$props = this.props,\n          windowId = _this$props.windowId,\n          setWindowViewType = _this$props.setWindowViewType;\n      setWindowViewType(windowId, value);\n    }\n    /**\n     * render\n     *\n     * @return {type}  description\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          handleClose = _this$props2.handleClose,\n          t = _this$props2.t,\n          windowViewType = _this$props2.windowViewType,\n          viewTypes = _this$props2.viewTypes;\n      var iconMap = {\n        book: BookViewIcon,\n        gallery: GalleryViewIcon,\n        scroll: ScrollViewIcon,\n        single: SingleIcon\n      };\n      /** Suspiciously similar to a component, yet if it is invoked through JSX\n          none of the click handlers work? */\n\n      var menuItem = function menuItem(_ref) {\n        var value = _ref.value,\n            Icon = _ref.Icon;\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: value,\n          className: classes.MenuItem,\n          autoFocus: windowViewType === value,\n          onClick: function onClick() {\n            _this2.handleChange(value);\n\n            handleClose();\n          }\n        }, /*#__PURE__*/React.createElement(FormControlLabel, {\n          value: value,\n          classes: {\n            label: windowViewType === value ? classes.selectedLabel : classes.label\n          },\n          control: /*#__PURE__*/React.createElement(Icon, {\n            color: windowViewType === value ? 'secondary' : undefined\n          }),\n          label: t(value),\n          labelPlacement: \"bottom\"\n        }));\n      };\n\n      if (viewTypes.length === 0) return null;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListSubheader, {\n        role: \"presentation\",\n        disableSticky: true,\n        tabIndex: \"-1\"\n      }, t('view')), viewTypes.map(function (value) {\n        return menuItem({\n          Icon: iconMap[value],\n          value: value\n        });\n      }));\n    }\n  }]);\n\n  return WindowViewSettings;\n}(Component);\nWindowViewSettings.defaultProps = {\n  handleClose: function handleClose() {},\n  t: function t(key) {\n    return key;\n  },\n  viewTypes: []\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getAllowedWindowViewTypes, getWindowViewType } from '../state/selectors';\nimport { WindowViewSettings } from '../components/WindowViewSettings';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\nvar mapDispatchToProps = {\n  setWindowViewType: actions.setWindowViewType\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowViewer\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    viewTypes: getAllowedWindowViewTypes(state, {\n      windowId: windowId\n    }),\n    windowViewType: getWindowViewType(state, {\n      windowId: windowId\n    })\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    label: {\n      borderBottom: '2px solid transparent'\n    },\n    MenuItem: {\n      display: 'inline-block'\n    },\n    selectedLabel: {\n      borderBottom: \"2px solid \".concat(theme.palette.secondary.main),\n      color: theme.palette.secondary.main\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(null, {\n  withRef: true\n}), connect(mapStateToProps, mapDispatchToProps, null, {\n  forwardRef: true\n}), withPlugins('WindowViewSettings'));\nexport default enhance(WindowViewSettings);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Menu from '@material-ui/core//Menu';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport WindowThumbnailSettings from '../containers/WindowThumbnailSettings';\nimport WindowViewSettings from '../containers/WindowViewSettings';\nimport { PluginHook } from './PluginHook';\nimport ns from '../config/css-ns';\n/** Renders plugins */\n\nfunction PluginHookWithHeader(props) {\n  var PluginComponents = props.PluginComponents,\n      t = props.t; // eslint-disable-line react/prop-types\n\n  return PluginComponents ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListSubheader, {\n    role: \"presentation\",\n    disableSticky: true,\n    tabIndex: \"-1\"\n  }, t('windowPluginButtons')), /*#__PURE__*/React.createElement(PluginHook, props)) : null;\n}\n/**\n */\n\n\nexport var WindowTopMenu = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopMenu, _Component);\n\n  var _super = _createSuper(WindowTopMenu);\n\n  function WindowTopMenu() {\n    _classCallCheck(this, WindowTopMenu);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowTopMenu, [{\n    key: \"render\",\n\n    /**\n     * render\n     * @return\n     */\n    value: function render() {\n      var _this$props = this.props,\n          containerId = _this$props.containerId,\n          handleClose = _this$props.handleClose,\n          anchorEl = _this$props.anchorEl,\n          showThumbnailNavigationSettings = _this$props.showThumbnailNavigationSettings,\n          toggleDraggingEnabled = _this$props.toggleDraggingEnabled,\n          windowId = _this$props.windowId;\n      return /*#__PURE__*/React.createElement(Menu, {\n        id: \"window-menu_\".concat(windowId),\n        container: document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer'))),\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'bottom'\n        },\n        transformOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        getContentAnchorEl: null,\n        open: Boolean(anchorEl),\n        onClose: handleClose,\n        onEntering: toggleDraggingEnabled,\n        onExit: toggleDraggingEnabled,\n        orientation: \"horizontal\"\n      }, /*#__PURE__*/React.createElement(WindowViewSettings, {\n        windowId: windowId,\n        handleClose: handleClose\n      }), showThumbnailNavigationSettings && /*#__PURE__*/React.createElement(WindowThumbnailSettings, {\n        windowId: windowId,\n        handleClose: handleClose\n      }), /*#__PURE__*/React.createElement(PluginHookWithHeader, this.props));\n    }\n  }]);\n\n  return WindowTopMenu;\n}(Component);\nWindowTopMenu.defaultProps = {\n  anchorEl: null,\n  showThumbnailNavigationSettings: true\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { WindowTopMenu } from '../components/WindowTopMenu';\nimport { getConfig, getContainerId } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowTopMenu\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state),\n    showThumbnailNavigationSettings: getConfig(state).thumbnailNavigation.displaySettings\n  };\n};\n/**\n * mapStateToProps - used to hook up connect to state\n * @memberof WindowTopMenu\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    toggleDraggingEnabled: function toggleDraggingEnabled() {\n      return dispatch(actions.toggleDraggingEnabled());\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('WindowTopMenu'));\nexport default enhance(WindowTopMenu);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * WindowMinIcon ~\n*/\n\nexport default function WindowOptionsIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,0H24V24H0Z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.852,17.981,3,18V15.945l21.852-.019Z\",\n    transform: \"translate(-2 5)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1,4V21H22.853V4.1ZM3,19V6h8V19Zm18,0H13V6h8Z\",\n    transform: \"translate(0 -2)\"\n  })));\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport WindowTopMenu from '../containers/WindowTopMenu';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport WindowOptionsIcon from './icons/WindowOptionsIcon';\n/**\n */\n\nexport var WindowTopMenuButton = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopMenuButton, _Component);\n\n  var _super = _createSuper(WindowTopMenuButton);\n  /**\n   * constructor -\n   */\n\n\n  function WindowTopMenuButton(props) {\n    var _this;\n\n    _classCallCheck(this, WindowTopMenuButton);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      anchorEl: null\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuClose = _this.handleMenuClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WindowTopMenuButton, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick(event) {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuClose\",\n    value: function handleMenuClose() {\n      this.setState({\n        anchorEl: null\n      });\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t,\n          windowId = _this$props.windowId;\n      var anchorEl = this.state.anchorEl;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-haspopup\": \"true\",\n        \"aria-label\": t('windowMenu'),\n        \"aria-owns\": anchorEl ? \"window-menu_\".concat(windowId) : undefined,\n        className: anchorEl ? classes.ctrlBtnSelected : null,\n        onClick: this.handleMenuClick\n      }, /*#__PURE__*/React.createElement(WindowOptionsIcon, null)), /*#__PURE__*/React.createElement(WindowTopMenu, {\n        windowId: windowId,\n        anchorEl: anchorEl,\n        handleClose: this.handleMenuClose\n      }));\n    }\n  }]);\n\n  return WindowTopMenuButton;\n}(Component);\nWindowTopMenuButton.defaultProps = {\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowTopMenuButton } from '../components/WindowTopMenuButton';\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withPlugins('WindowTopMenuButtons'));\nexport default enhance(WindowTopMenuButton);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport { PluginHook } from './PluginHook';\n/**\n *\n */\n\nexport var WindowTopBarPluginArea = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopBarPluginArea, _Component);\n\n  var _super = _createSuper(WindowTopBarPluginArea);\n\n  function WindowTopBarPluginArea() {\n    _classCallCheck(this, WindowTopBarPluginArea);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowTopBarPluginArea, [{\n    key: \"render\",\n\n    /** */\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PluginHook, this.props));\n    }\n  }]);\n\n  return WindowTopBarPluginArea;\n}(Component);","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowTopBarPluginArea } from '../components/WindowTopBarPluginArea';\n/**\n */\n\nvar styles = {};\nvar enhance = compose(withTranslation(), withStyles(styles), connect(null, null), withPlugins('WindowTopBarPluginArea'));\nexport default enhance(WindowTopBarPluginArea);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport MoreVertIcon from '@material-ui/icons/MoreVertSharp';\nimport Menu from '@material-ui/core/Menu';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport { PluginHook } from './PluginHook';\nimport ns from '../config/css-ns';\n/**\n *\n */\n\nexport var WindowTopBarPluginMenu = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopBarPluginMenu, _Component);\n\n  var _super = _createSuper(WindowTopBarPluginMenu);\n  /**\n   * constructor -\n   */\n\n\n  function WindowTopBarPluginMenu(props) {\n    var _this;\n\n    _classCallCheck(this, WindowTopBarPluginMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      anchorEl: null\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuClose = _this.handleMenuClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * Set the anchorEl state to the click target\n   */\n\n\n  _createClass(WindowTopBarPluginMenu, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick(event) {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    }\n    /**\n     * Set the anchorEl state to null (closing the menu)\n     */\n\n  }, {\n    key: \"handleMenuClose\",\n    value: function handleMenuClose() {\n      this.setState({\n        anchorEl: null\n      });\n    }\n    /**\n     * render component\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          containerId = _this$props.containerId,\n          PluginComponents = _this$props.PluginComponents,\n          t = _this$props.t,\n          windowId = _this$props.windowId,\n          menuIcon = _this$props.menuIcon;\n      var anchorEl = this.state.anchorEl;\n      if (!PluginComponents || PluginComponents.length === 0) return /*#__PURE__*/React.createElement(React.Fragment, null);\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-haspopup\": \"true\",\n        \"aria-label\": t('windowPluginMenu'),\n        \"aria-owns\": anchorEl ? \"window-plugin-menu_\".concat(windowId) : undefined,\n        className: anchorEl ? classes.ctrlBtnSelected : null,\n        onClick: this.handleMenuClick\n      }, menuIcon), /*#__PURE__*/React.createElement(Menu, {\n        id: \"window-plugin-menu_\".concat(windowId),\n        container: document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer'))),\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'bottom'\n        },\n        transformOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        getContentAnchorEl: null,\n        open: Boolean(anchorEl),\n        onClose: function onClose() {\n          return _this2.handleMenuClose();\n        }\n      }, /*#__PURE__*/React.createElement(PluginHook, Object.assign({\n        handleClose: function handleClose() {\n          return _this2.handleMenuClose();\n        }\n      }, this.props))));\n    }\n  }]);\n\n  return WindowTopBarPluginMenu;\n}(Component);\nWindowTopBarPluginMenu.defaultProps = {\n  classes: {},\n  menuIcon: /*#__PURE__*/React.createElement(MoreVertIcon, null),\n  PluginComponents: []\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowTopBarPluginMenu } from '../components/WindowTopBarPluginMenu';\nimport { getContainerId } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowTopBarPluginMenu\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state)\n  };\n};\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, null), withPlugins('WindowTopBarPluginMenu'));\nexport default enhance(WindowTopBarPluginMenu);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport ErrorIcon from '@material-ui/icons/ErrorOutlineSharp';\n/**\n * WindowTopBarTitle\n */\n\nexport var WindowTopBarTitle = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopBarTitle, _Component);\n\n  var _super = _createSuper(WindowTopBarTitle);\n\n  function WindowTopBarTitle() {\n    _classCallCheck(this, WindowTopBarTitle);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowTopBarTitle, [{\n    key: \"render\",\n\n    /**\n     * render\n     * @return\n     */\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          error = _this$props.error,\n          hideWindowTitle = _this$props.hideWindowTitle,\n          isFetching = _this$props.isFetching,\n          manifestTitle = _this$props.manifestTitle;\n      /** */\n\n      var TitleTypography = function TitleTypography(props) {\n        return /*#__PURE__*/React.createElement(Typography, Object.assign({\n          variant: \"h2\",\n          noWrap: true,\n          color: \"inherit\",\n          className: classes.title\n        }, props), props.children);\n      };\n\n      var title = null;\n\n      if (isFetching) {\n        title = /*#__PURE__*/React.createElement(TitleTypography, null, /*#__PURE__*/React.createElement(Skeleton, {\n          variant: \"text\"\n        }));\n      } else if (error) {\n        title = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ErrorIcon, {\n          color: \"error\"\n        }), /*#__PURE__*/React.createElement(TitleTypography, {\n          color: \"textSecondary\"\n        }, error));\n      } else if (hideWindowTitle) {\n        title = /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.title\n        });\n      } else {\n        title = /*#__PURE__*/React.createElement(TitleTypography, null, manifestTitle);\n      }\n\n      return title;\n    }\n  }]);\n\n  return WindowTopBarTitle;\n}(Component);\nWindowTopBarTitle.defaultProps = {\n  error: null,\n  hideWindowTitle: false,\n  isFetching: false,\n  manifestTitle: ''\n};","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getManifestStatus, getManifestTitle, getWindowConfig } from '../state/selectors';\nimport { WindowTopBarTitle } from '../components/WindowTopBarTitle';\n/** mapStateToProps */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    error: getManifestStatus(state, {\n      windowId: windowId\n    }).error,\n    hideWindowTitle: getWindowConfig(state, {\n      windowId: windowId\n    }).hideWindowTitle,\n    isFetching: getManifestStatus(state, {\n      windowId: windowId\n    }).isFetching,\n    manifestTitle: getManifestTitle(state, {\n      windowId: windowId\n    })\n  };\n};\n/**\n * @param theme\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    title: _objectSpread(_objectSpread({}, theme.typography.h6), {}, {\n      flexGrow: 1,\n      paddingLeft: theme.spacing(0.5)\n    })\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, null), withPlugins('WindowTopBarTitle'));\nexport default enhance(WindowTopBarTitle);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * WindowMaxIcon ~\n*/\n\nexport default function WindowMaxIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7,14H5v5h5V17H7Zm7-9V7h3v3h2V5Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.517,1.524H1.736V22.37H22.517Zm-2,18.845H3.736V3.524H20.517Z\"\n  })));\n}","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * WindowMinIcon ~\n*/\n\nexport default function WindowMinIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5,16H8v3h2V14H5ZM16,8V5H14v5h5V8Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.517,1.524H1.736V22.37H22.517Zm-2,18.845H3.736V3.524H20.517Z\"\n  })));\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport MenuIcon from '@material-ui/icons/MenuSharp';\nimport CloseIcon from '@material-ui/icons/CloseSharp';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AppBar from '@material-ui/core/AppBar';\nimport classNames from 'classnames';\nimport WindowTopMenuButton from '../containers/WindowTopMenuButton';\nimport WindowTopBarPluginArea from '../containers/WindowTopBarPluginArea';\nimport WindowTopBarPluginMenu from '../containers/WindowTopBarPluginMenu';\nimport WindowTopBarTitle from '../containers/WindowTopBarTitle';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport FullScreenButton from '../containers/FullScreenButton';\nimport WindowMaxIcon from './icons/WindowMaxIcon';\nimport WindowMinIcon from './icons/WindowMinIcon';\nimport ns from '../config/css-ns';\n/**\n * WindowTopBar\n */\n\nexport var WindowTopBar = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopBar, _Component);\n\n  var _super = _createSuper(WindowTopBar);\n\n  function WindowTopBar() {\n    _classCallCheck(this, WindowTopBar);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowTopBar, [{\n    key: \"render\",\n\n    /**\n     * render\n     * @return\n     */\n    value: function render() {\n      var _this$props = this.props,\n          removeWindow = _this$props.removeWindow,\n          windowId = _this$props.windowId,\n          classes = _this$props.classes,\n          toggleWindowSideBar = _this$props.toggleWindowSideBar,\n          t = _this$props.t,\n          windowDraggable = _this$props.windowDraggable,\n          maximizeWindow = _this$props.maximizeWindow,\n          maximized = _this$props.maximized,\n          minimizeWindow = _this$props.minimizeWindow,\n          focused = _this$props.focused,\n          allowClose = _this$props.allowClose,\n          allowMaximize = _this$props.allowMaximize,\n          focusWindow = _this$props.focusWindow,\n          allowFullscreen = _this$props.allowFullscreen,\n          allowTopMenuButton = _this$props.allowTopMenuButton,\n          allowWindowSideBar = _this$props.allowWindowSideBar;\n      return /*#__PURE__*/React.createElement(AppBar, {\n        position: \"relative\",\n        color: \"default\"\n      }, /*#__PURE__*/React.createElement(\"nav\", {\n        \"aria-label\": t('windowNavigation')\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        disableGutters: true,\n        onMouseDown: focusWindow,\n        className: classNames(classes.windowTopBarStyle, windowDraggable ? classes.windowTopBarStyleDraggable : null, focused ? classes.focused : null, ns('window-top-bar')),\n        variant: \"dense\"\n      }, allowWindowSideBar && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('toggleWindowSideBar'),\n        onClick: toggleWindowSideBar\n      }, /*#__PURE__*/React.createElement(MenuIcon, null)), /*#__PURE__*/React.createElement(WindowTopBarTitle, {\n        windowId: windowId\n      }), allowTopMenuButton && /*#__PURE__*/React.createElement(WindowTopMenuButton, {\n        className: ns('window-menu-btn'),\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(WindowTopBarPluginArea, {\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(WindowTopBarPluginMenu, {\n        windowId: windowId\n      }), allowMaximize && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": maximized ? t('minimizeWindow') : t('maximizeWindow'),\n        className: ns('window-maximize'),\n        onClick: maximized ? minimizeWindow : maximizeWindow\n      }, maximized ? /*#__PURE__*/React.createElement(WindowMinIcon, null) : /*#__PURE__*/React.createElement(WindowMaxIcon, null)), allowFullscreen && /*#__PURE__*/React.createElement(FullScreenButton, null), allowClose && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('closeWindow'),\n        className: ns('window-close'),\n        onClick: removeWindow\n      }, /*#__PURE__*/React.createElement(CloseIcon, null)))));\n    }\n  }]);\n\n  return WindowTopBar;\n}(Component);\nWindowTopBar.defaultProps = {\n  allowClose: true,\n  allowFullscreen: false,\n  allowMaximize: true,\n  allowTopMenuButton: true,\n  allowWindowSideBar: true,\n  focused: false,\n  focusWindow: function focusWindow() {},\n  maximized: false,\n  maximizeWindow: function maximizeWindow() {},\n  minimizeWindow: function minimizeWindow() {},\n  t: function t(key) {\n    return key;\n  },\n  windowDraggable: true\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getWindowConfig, isFocused } from '../state/selectors';\nimport { WindowTopBar } from '../components/WindowTopBar';\n/** mapStateToProps */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  var config = getWindowConfig(state, {\n    windowId: windowId\n  });\n  return {\n    allowClose: config.allowClose,\n    allowFullscreen: config.allowFullscreen,\n    allowMaximize: config.allowMaximize,\n    allowTopMenuButton: config.allowTopMenuButton,\n    allowWindowSideBar: config.allowWindowSideBar,\n    focused: isFocused(state, {\n      windowId: windowId\n    }),\n    maximized: config.maximized\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {\n  var windowId = _ref2.windowId;\n  return {\n    focusWindow: function focusWindow() {\n      return dispatch(actions.focusWindow(windowId));\n    },\n    maximizeWindow: function maximizeWindow() {\n      return dispatch(actions.maximizeWindow(windowId));\n    },\n    minimizeWindow: function minimizeWindow() {\n      return dispatch(actions.minimizeWindow(windowId));\n    },\n    removeWindow: function removeWindow() {\n      return dispatch(actions.removeWindow(windowId));\n    },\n    toggleWindowSideBar: function toggleWindowSideBar() {\n      return dispatch(actions.toggleWindowSideBar(windowId));\n    }\n  };\n};\n/**\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: number|string},\n * windowTopBarStyle: {minHeight: number, paddingLeft: number, backgroundColor: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    focused: {},\n    windowTopBarStyle: {\n      '&$focused': {\n        borderTop: \"2px solid \".concat(theme.palette.primary.main)\n      },\n      backgroundColor: theme.palette.shades.main,\n      borderTop: '2px solid transparent',\n      minHeight: 32,\n      paddingLeft: theme.spacing(0.5),\n      paddingRight: theme.spacing(0.5)\n    },\n    windowTopBarStyleDraggable: {\n      cursor: 'move'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WindowTopBar'));\nexport default enhance(WindowTopBar);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport debounce from '../utils/debounce';\nimport { Transition } from 'react-transition-group';\nimport { elementAcceptingRef } from '@material-ui/utils';\nimport useForkRef from '../utils/useForkRef';\nimport useTheme from '../styles/useTheme';\nimport { duration } from '../styles/transitions';\nimport { reflow, getTransitionProps } from '../transitions/utils'; // Translate the node so he can't be seen on the screen.\n// Later, we gonna translate back the node to his original location\n// with `none`.`\n\nfunction getTranslateValue(direction, node) {\n  var rect = node.getBoundingClientRect();\n  var transform;\n\n  if (node.fakeTransform) {\n    transform = node.fakeTransform;\n  } else {\n    var computedStyle = window.getComputedStyle(node);\n    transform = computedStyle.getPropertyValue('-webkit-transform') || computedStyle.getPropertyValue('transform');\n  }\n\n  var offsetX = 0;\n  var offsetY = 0;\n\n  if (transform && transform !== 'none' && typeof transform === 'string') {\n    var transformValues = transform.split('(')[1].split(')')[0].split(',');\n    offsetX = parseInt(transformValues[4], 10);\n    offsetY = parseInt(transformValues[5], 10);\n  }\n\n  if (direction === 'left') {\n    return \"translateX(\".concat(window.innerWidth, \"px) translateX(\").concat(offsetX - rect.left, \"px)\");\n  }\n\n  if (direction === 'right') {\n    return \"translateX(-\".concat(rect.left + rect.width - offsetX, \"px)\");\n  }\n\n  if (direction === 'up') {\n    return \"translateY(\".concat(window.innerHeight, \"px) translateY(\").concat(offsetY - rect.top, \"px)\");\n  } // direction === 'down'\n\n\n  return \"translateY(-\".concat(rect.top + rect.height - offsetY, \"px)\");\n}\n\nexport function setTranslateValue(direction, node) {\n  var transform = getTranslateValue(direction, node);\n\n  if (transform) {\n    node.style.webkitTransform = transform;\n    node.style.transform = transform;\n  }\n}\nvar defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Slide transition is used by the [Drawer](/components/drawers/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Slide = /*#__PURE__*/React.forwardRef(function Slide(props, ref) {\n  var children = props.children,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'down' : _props$direction,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? defaultTimeout : _props$timeout,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"direction\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"]);\n\n  var theme = useTheme();\n  var childrenRef = React.useRef(null);\n  /**\n   * used in cloneElement(children, { ref: handleRef })\n   */\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    childrenRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRefIntermediary = useForkRef(children.ref, handleOwnRef);\n  var handleRef = useForkRef(handleRefIntermediary, ref);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (isAppearing) {\n      if (callback) {\n        // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n        if (isAppearing === undefined) {\n          callback(childrenRef.current);\n        } else {\n          callback(childrenRef.current, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    setTranslateValue(direction, node);\n    reflow(node);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntering = normalizedTransitionCallback(function (node, isAppearing) {\n    var transitionProps = getTransitionProps({\n      timeout: timeout,\n      style: style\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.easeOut\n    }));\n    node.style.transition = theme.transitions.create('transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.easeOut\n    }));\n    node.style.webkitTransform = 'none';\n    node.style.transform = 'none';\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(onEntered);\n  var handleExiting = normalizedTransitionCallback(onExiting);\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var transitionProps = getTransitionProps({\n      timeout: timeout,\n      style: style\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.sharp\n    }));\n    node.style.transition = theme.transitions.create('transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.sharp\n    }));\n    setTranslateValue(direction, node);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(function (node) {\n    // No need for transitions when the component is hidden\n    node.style.webkitTransition = '';\n    node.style.transition = '';\n\n    if (onExited) {\n      onExited(node);\n    }\n  });\n  var updatePosition = React.useCallback(function () {\n    if (childrenRef.current) {\n      setTranslateValue(direction, childrenRef.current);\n    }\n  }, [direction]);\n  React.useEffect(function () {\n    // Skip configuration where the position is screen size invariant.\n    if (inProp || direction === 'down' || direction === 'right') {\n      return undefined;\n    }\n\n    var handleResize = debounce(function () {\n      if (childrenRef.current) {\n        setTranslateValue(direction, childrenRef.current);\n      }\n    });\n    window.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [direction, inProp]);\n  React.useEffect(function () {\n    if (!inProp) {\n      // We need to update the position of the drawer when the direction change and\n      // when it's hidden.\n      updatePosition();\n    }\n  }, [inProp, updatePosition]);\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    nodeRef: childrenRef,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    appear: true,\n    in: inProp,\n    timeout: timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.cloneElement(children, _extends({\n      ref: handleRef,\n      style: _extends({\n        visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n      }, style, children.props.style)\n    }, childProps));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default Slide;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport Modal from '../Modal';\nimport Backdrop from '../Backdrop';\nimport withStyles from '../styles/withStyles';\nimport Slide from '../Slide';\nimport Paper from '../Paper';\nimport capitalize from '../utils/capitalize';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {},\n\n    /* Styles applied to the root element if `variant=\"permanent or persistent\"`. */\n    docked: {\n      flex: '0 0 auto'\n    },\n\n    /* Styles applied to the `Paper` component. */\n    paper: {\n      overflowY: 'auto',\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      flex: '1 0 auto',\n      zIndex: theme.zIndex.drawer,\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      // temporary style\n      position: 'fixed',\n      top: 0,\n      // We disable the focus ring for mouse, touch and keyboard users.\n      // At some point, it would be better to keep it for keyboard users.\n      // :focus-ring CSS pseudo-class will help.\n      outline: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"`. */\n    paperAnchorLeft: {\n      left: 0,\n      right: 'auto'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"`. */\n    paperAnchorRight: {\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"`. */\n    paperAnchorTop: {\n      top: 0,\n      left: 0,\n      bottom: 'auto',\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"`. */\n    paperAnchorBottom: {\n      top: 'auto',\n      left: 0,\n      bottom: 0,\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedLeft: {\n      borderRight: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedTop: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedRight: {\n      borderLeft: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedBottom: {\n      borderTop: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Modal` component. */\n    modal: {}\n  };\n};\nvar oppositeDirection = {\n  left: 'right',\n  right: 'left',\n  top: 'down',\n  bottom: 'up'\n};\nexport function isHorizontal(anchor) {\n  return ['left', 'right'].indexOf(anchor) !== -1;\n}\nexport function getAnchor(theme, anchor) {\n  return theme.direction === 'rtl' && isHorizontal(anchor) ? oppositeDirection[anchor] : anchor;\n}\nvar defaultTransitionDuration = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The props of the [Modal](/api/modal/) component are available\n * when `variant=\"temporary\"` is set.\n */\n\nvar Drawer = /*#__PURE__*/React.forwardRef(function Drawer(props, ref) {\n  var _props$anchor = props.anchor,\n      anchorProp = _props$anchor === void 0 ? 'left' : _props$anchor,\n      BackdropProps = props.BackdropProps,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$elevation = props.elevation,\n      elevation = _props$elevation === void 0 ? 16 : _props$elevation,\n      _props$ModalProps = props.ModalProps;\n  _props$ModalProps = _props$ModalProps === void 0 ? {} : _props$ModalProps;\n\n  var BackdropPropsProp = _props$ModalProps.BackdropProps,\n      ModalProps = _objectWithoutProperties(_props$ModalProps, [\"BackdropProps\"]),\n      onClose = props.onClose,\n      _props$open = props.open,\n      open = _props$open === void 0 ? false : _props$open,\n      _props$PaperProps = props.PaperProps,\n      PaperProps = _props$PaperProps === void 0 ? {} : _props$PaperProps,\n      SlideProps = props.SlideProps,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Slide : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? defaultTransitionDuration : _props$transitionDura,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'temporary' : _props$variant,\n      other = _objectWithoutProperties(props, [\"anchor\", \"BackdropProps\", \"children\", \"classes\", \"className\", \"elevation\", \"ModalProps\", \"onClose\", \"open\", \"PaperProps\", \"SlideProps\", \"TransitionComponent\", \"transitionDuration\", \"variant\"]);\n\n  var theme = useTheme(); // Let's assume that the Drawer will always be rendered on user space.\n  // We use this state is order to skip the appear transition during the\n  // initial mount of the component.\n\n  var mounted = React.useRef(false);\n  React.useEffect(function () {\n    mounted.current = true;\n  }, []);\n  var anchor = getAnchor(theme, anchorProp);\n  var drawer = /*#__PURE__*/React.createElement(Paper, _extends({\n    elevation: variant === 'temporary' ? elevation : 0,\n    square: true\n  }, PaperProps, {\n    className: clsx(classes.paper, classes[\"paperAnchor\".concat(capitalize(anchor))], PaperProps.className, variant !== 'temporary' && classes[\"paperAnchorDocked\".concat(capitalize(anchor))])\n  }), children);\n\n  if (variant === 'permanent') {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), drawer);\n  }\n\n  var slidingDrawer = /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: open,\n    direction: oppositeDirection[anchor],\n    timeout: transitionDuration,\n    appear: mounted.current\n  }, SlideProps), drawer);\n\n  if (variant === 'persistent') {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), slidingDrawer);\n  } // variant === temporary\n\n\n  return /*#__PURE__*/React.createElement(Modal, _extends({\n    BackdropProps: _extends({}, BackdropProps, BackdropPropsProp, {\n      transitionDuration: transitionDuration\n    }),\n    BackdropComponent: Backdrop,\n    className: clsx(classes.root, classes.modal, className),\n    open: open,\n    onClose: onClose,\n    ref: ref\n  }, other, ModalProps), slidingDrawer);\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDrawer',\n  flip: false\n})(Drawer);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * Render the canvas index svg\n */\n\nexport default function CanvasIndexIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.924,21H21V19H6.924ZM3,17H21V15H3Zm3.924-4H21V11H6.924Zm0-4H21V7H6.924ZM3,3V5H21V3Z\"\n  })));\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Badge from '@material-ui/core/Badge';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport InfoIcon from '@material-ui/icons/InfoSharp';\nimport AnnotationIcon from '@material-ui/icons/CommentSharp';\nimport AttributionIcon from '@material-ui/icons/CopyrightSharp';\nimport LayersIcon from '@material-ui/icons/LayersSharp';\nimport SearchIcon from '@material-ui/icons/SearchSharp';\nimport CanvasIndexIcon from './icons/CanvasIndexIcon';\n/**\n *\n */\n\nexport var WindowSideBarButtons = /*#__PURE__*/function (_Component) {\n  _inherits(WindowSideBarButtons, _Component);\n\n  var _super = _createSuper(WindowSideBarButtons);\n  /** */\n\n\n  function WindowSideBarButtons(props) {\n    var _this;\n\n    _classCallCheck(this, WindowSideBarButtons);\n\n    _this = _super.call(this, props);\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @param {object} event the change event\n   * @param {string} value the tab's value\n  */\n\n\n  _createClass(WindowSideBarButtons, [{\n    key: \"handleChange\",\n    value: function handleChange(event, value) {\n      var addCompanionWindow = this.props.addCompanionWindow;\n      addCompanionWindow(value);\n    }\n    /**\n     * render\n     *\n     * @return {type}  description\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          hasAnnotations = _this$props.hasAnnotations,\n          hasAnyAnnotations = _this$props.hasAnyAnnotations,\n          hasAnyLayers = _this$props.hasAnyLayers,\n          hasCurrentLayers = _this$props.hasCurrentLayers,\n          hasSearchResults = _this$props.hasSearchResults,\n          hasSearchService = _this$props.hasSearchService,\n          panels = _this$props.panels,\n          PluginComponents = _this$props.PluginComponents,\n          sideBarPanel = _this$props.sideBarPanel,\n          t = _this$props.t;\n      /** */\n\n      var TabButton = function TabButton(props) {\n        return /*#__PURE__*/React.createElement(Tooltip, {\n          title: t('openCompanionWindow', {\n            context: props.value\n          })\n        }, /*#__PURE__*/React.createElement(Tab, Object.assign({}, props, {\n          classes: {\n            root: classes.tab,\n            selected: classes.tabSelected\n          },\n          \"aria-label\": t('openCompanionWindow', {\n            context: props.value\n          }),\n          disableRipple: true,\n          onKeyUp: _this2.handleKeyUp\n        })));\n      };\n\n      return /*#__PURE__*/React.createElement(Tabs, {\n        classes: {\n          flexContainer: classes.tabsFlexContainer,\n          indicator: classes.tabsIndicator\n        },\n        value: sideBarPanel === 'closed' ? false : sideBarPanel,\n        onChange: this.handleChange,\n        variant: \"fullWidth\",\n        indicatorColor: \"primary\",\n        textColor: \"primary\",\n        orientation: \"vertical\",\n        \"aria-orientation\": \"vertical\",\n        \"aria-label\": t('sidebarPanelsNavigation')\n      }, panels.info && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"info\",\n        icon: /*#__PURE__*/React.createElement(InfoIcon, null)\n      }), panels.attribution && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"attribution\",\n        icon: /*#__PURE__*/React.createElement(AttributionIcon, null)\n      }), panels.canvas && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"canvas\",\n        icon: /*#__PURE__*/React.createElement(CanvasIndexIcon, null)\n      }), panels.annotations && (hasAnnotations || hasAnyAnnotations) && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"annotations\",\n        icon: /*#__PURE__*/React.createElement(Badge, {\n          classes: {\n            badge: classes.badge\n          },\n          invisible: !hasAnnotations,\n          variant: \"dot\"\n        }, /*#__PURE__*/React.createElement(AnnotationIcon, null))\n      }), panels.search && hasSearchService && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"search\",\n        icon: /*#__PURE__*/React.createElement(Badge, {\n          classes: {\n            badge: classes.badge\n          },\n          invisible: !hasSearchResults,\n          variant: \"dot\"\n        }, /*#__PURE__*/React.createElement(SearchIcon, null))\n      }), panels.layers && hasAnyLayers && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"layers\",\n        icon: /*#__PURE__*/React.createElement(Badge, {\n          classes: {\n            badge: classes.badge\n          },\n          invisible: !hasCurrentLayers,\n          variant: \"dot\"\n        }, /*#__PURE__*/React.createElement(LayersIcon, null))\n      }), PluginComponents && PluginComponents.map(function (PluginComponent) {\n        return /*#__PURE__*/React.createElement(TabButton, {\n          key: PluginComponent.value,\n          value: PluginComponent.value,\n          icon: /*#__PURE__*/React.createElement(PluginComponent, null)\n        });\n      }));\n    }\n  }]);\n\n  return WindowSideBarButtons;\n}(Component);\nWindowSideBarButtons.defaultProps = {\n  classes: {},\n  hasAnnotations: false,\n  hasAnyAnnotations: false,\n  hasAnyLayers: false,\n  hasCurrentLayers: false,\n  hasSearchResults: false,\n  hasSearchService: false,\n  panels: [],\n  PluginComponents: null,\n  sideBarPanel: 'closed',\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport MiradorCanvas from '../lib/MiradorCanvas';\nimport { getCanvases, getVisibleCanvases, getCompanionWindowsForPosition, getAnnotationResourcesByMotivation, getManifestSearchService, getSearchQuery, getWindow, getWindowConfig } from '../state/selectors';\nimport { WindowSideBarButtons } from '../components/WindowSideBarButtons';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof WindowSideButtons\n * @private\n */\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    addCompanionWindow: function addCompanionWindow(content) {\n      return dispatch(actions.addOrUpdateCompanionWindow(windowId, {\n        content: content,\n        position: 'left'\n      }));\n    }\n  };\n};\n/** */\n\n\nfunction hasLayers(canvases) {\n  return canvases && canvases.some(function (c) {\n    return new MiradorCanvas(c).imageResources.length > 1;\n  });\n}\n/** */\n\n\nfunction hasAnnotations(canvases) {\n  return canvases && canvases.some(function (c) {\n    var canvas = new MiradorCanvas(c);\n    return canvas.annotationListUris.length > 0 || canvas.canvasAnnotationPages.length > 0;\n  });\n}\n/**\n * mapStateToProps - used to hook up connect to state\n * @memberof WindowSideButtons\n * @private\n */\n\n\nvar mapStateToProps = function mapStateToProps(state, _ref2) {\n  var windowId = _ref2.windowId;\n  return {\n    hasAnnotations: getAnnotationResourcesByMotivation(state, {\n      windowId: windowId\n    }).length > 0,\n    hasAnyAnnotations: hasAnnotations(getCanvases(state, {\n      windowId: windowId\n    })),\n    hasAnyLayers: hasLayers(getCanvases(state, {\n      windowId: windowId\n    })),\n    hasCurrentLayers: hasLayers(getVisibleCanvases(state, {\n      windowId: windowId\n    })),\n    hasSearchResults: getWindow(state, {\n      windowId: windowId\n    }).suggestedSearches || getSearchQuery(state, {\n      companionWindowId: (getCompanionWindowsForPosition(state, {\n        position: 'left',\n        windowId: windowId\n      })[0] || {}).id,\n      windowId: windowId\n    }),\n    hasSearchService: getManifestSearchService(state, {\n      windowId: windowId\n    }) !== null,\n    panels: getWindowConfig(state, {\n      windowId: windowId\n    }).panels,\n    sideBarPanel: (getCompanionWindowsForPosition(state, {\n      position: 'left',\n      windowId: windowId\n    })[0] || {}).content\n  };\n};\n/** */\n\n\nvar style = function style(theme) {\n  return {\n    badge: {\n      backgroundColor: theme.palette.notification.main\n    },\n    tab: {\n      '&:active': {\n        backgroundColor: theme.palette.action.active\n      },\n      '&:focus': {\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        },\n        backgroundColor: theme.palette.action.hover,\n        textDecoration: 'none' // Reset on touch devices, it doesn't add specificity\n\n      },\n      '&:hover': {\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        },\n        backgroundColor: theme.palette.action.hover,\n        textDecoration: 'none' // Reset on touch devices, it doesn't add specificity\n\n      },\n      borderRight: '2px solid transparent',\n      minWidth: 'auto'\n    },\n    tabSelected: {\n      borderRight: \"2px solid \".concat(theme.palette.primary.main)\n    },\n    tabsFlexContainer: {\n      flexDirection: 'column'\n    },\n    tabsIndicator: {\n      display: 'none'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(style), connect(mapStateToProps, mapDispatchToProps), withPlugins('WindowSideBarButtons'));\nexport default enhance(WindowSideBarButtons);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport Drawer from '@material-ui/core/Drawer';\nimport WindowSideBarButtons from '../containers/WindowSideBarButtons';\n/**\n * WindowSideBar\n */\n\nexport var WindowSideBar = /*#__PURE__*/function (_Component) {\n  _inherits(WindowSideBar, _Component);\n\n  var _super = _createSuper(WindowSideBar);\n\n  function WindowSideBar() {\n    _classCallCheck(this, WindowSideBar);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowSideBar, [{\n    key: \"render\",\n\n    /**\n     * render\n     * @return\n     */\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          direction = _this$props.direction,\n          t = _this$props.t,\n          windowId = _this$props.windowId,\n          sideBarOpen = _this$props.sideBarOpen;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Drawer, {\n        variant: \"persistent\",\n        className: classNames(classes.drawer),\n        classes: {\n          paper: classNames(classes.paper)\n        },\n        anchor: direction === 'rtl' ? 'right' : 'left',\n        PaperProps: {\n          'aria-label': t('sidebarPanelsNavigation'),\n          component: 'nav',\n          style: {\n            height: '100%',\n            position: 'relative'\n          }\n        },\n        SlideProps: {\n          direction: direction === 'rtl' ? 'left' : 'right',\n          mountOnEnter: true,\n          unmountOnExit: true\n        },\n        open: sideBarOpen\n      }, /*#__PURE__*/React.createElement(WindowSideBarButtons, {\n        windowId: windowId\n      })));\n    }\n  }]);\n\n  return WindowSideBar;\n}(Component);\nWindowSideBar.defaultProps = {\n  sideBarOpen: false\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowSideBar } from '../components/WindowSideBar';\nimport { getThemeDirection, getWindow } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowSideBar\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    direction: getThemeDirection(state),\n    sideBarOpen: (getWindow(state, {\n      windowId: windowId\n    }) || {}).sideBarOpen,\n    sideBarPanel: (getWindow(state, {\n      windowId: windowId\n    }) || {}).sideBarPanel\n  };\n};\n/**\n *\n * @param theme\n * @returns {{toolbar: CSSProperties | toolbar | {minHeight}, grow: {flexGrow: number},\n * drawer: {overflowX: string, left: number, flexShrink: number, width: number, height: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    drawer: {\n      flexShrink: 0,\n      height: '100%',\n      order: -1000,\n      zIndex: theme.zIndex.appBar - 1\n    },\n    grow: {\n      flexGrow: 1\n    },\n    paper: {\n      borderInlineEnd: \"1px solid \".concat(theme.palette.divider),\n      overflowX: 'hidden',\n      width: 48\n    },\n    toolbar: theme.mixins.toolbar\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(), connect(mapStateToProps, null), withPlugins('WindowSideBar'));\nexport default enhance(WindowSideBar);","import * as React from 'react';\n/**\n * @ignore - internal component.\n * @type {React.Context<{} | {expanded: boolean, disabled: boolean, toggle: () => void}>}\n */\n\nvar AccordionContext = React.createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  AccordionContext.displayName = 'AccordionContext';\n}\n\nexport default AccordionContext;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toArray from \"@babel/runtime/helpers/esm/toArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport Collapse from '../Collapse';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nimport AccordionContext from './AccordionContext';\nimport useControlled from '../utils/useControlled';\nexport var styles = function styles(theme) {\n  var transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      transition: theme.transitions.create(['margin'], transition),\n      '&:before': {\n        position: 'absolute',\n        left: 0,\n        top: -1,\n        right: 0,\n        height: 1,\n        content: '\"\"',\n        opacity: 1,\n        backgroundColor: theme.palette.divider,\n        transition: theme.transitions.create(['opacity', 'background-color'], transition)\n      },\n      '&:first-child': {\n        '&:before': {\n          display: 'none'\n        }\n      },\n      '&$expanded': {\n        margin: '16px 0',\n        '&:first-child': {\n          marginTop: 0\n        },\n        '&:last-child': {\n          marginBottom: 0\n        },\n        '&:before': {\n          opacity: 0\n        }\n      },\n      '&$expanded + &': {\n        '&:before': {\n          display: 'none'\n        }\n      },\n      '&$disabled': {\n        backgroundColor: theme.palette.action.disabledBackground\n      }\n    },\n\n    /* Styles applied to the root element if `square={false}`. */\n    rounded: {\n      borderRadius: 0,\n      '&:first-child': {\n        borderTopLeftRadius: theme.shape.borderRadius,\n        borderTopRightRadius: theme.shape.borderRadius\n      },\n      '&:last-child': {\n        borderBottomLeftRadius: theme.shape.borderRadius,\n        borderBottomRightRadius: theme.shape.borderRadius,\n        // Fix a rendering issue on Edge\n        '@supports (-ms-ime-align: auto)': {\n          borderBottomLeftRadius: 0,\n          borderBottomRightRadius: 0\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `expanded={true}`. */\n    expanded: {},\n\n    /* Styles applied to the root element if `disabled={true}`. */\n    disabled: {}\n  };\n};\nvar Accordion = /*#__PURE__*/React.forwardRef(function Accordion(props, ref) {\n  var childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$defaultExpande = props.defaultExpanded,\n      defaultExpanded = _props$defaultExpande === void 0 ? false : _props$defaultExpande,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      expandedProp = props.expanded,\n      onChange = props.onChange,\n      _props$square = props.square,\n      square = _props$square === void 0 ? false : _props$square,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Collapse : _props$TransitionComp,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"defaultExpanded\", \"disabled\", \"expanded\", \"onChange\", \"square\", \"TransitionComponent\", \"TransitionProps\"]);\n\n  var _useControlled = useControlled({\n    controlled: expandedProp,\n    default: defaultExpanded,\n    name: 'Accordion',\n    state: 'expanded'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      expanded = _useControlled2[0],\n      setExpandedState = _useControlled2[1];\n\n  var handleChange = React.useCallback(function (event) {\n    setExpandedState(!expanded);\n\n    if (onChange) {\n      onChange(event, !expanded);\n    }\n  }, [expanded, onChange, setExpandedState]);\n\n  var _React$Children$toArr = React.Children.toArray(childrenProp),\n      _React$Children$toArr2 = _toArray(_React$Children$toArr),\n      summary = _React$Children$toArr2[0],\n      children = _React$Children$toArr2.slice(1);\n\n  var contextValue = React.useMemo(function () {\n    return {\n      expanded: expanded,\n      disabled: disabled,\n      toggle: handleChange\n    };\n  }, [expanded, disabled, handleChange]);\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    className: clsx(classes.root, className, expanded && classes.expanded, disabled && classes.disabled, !square && classes.rounded),\n    ref: ref,\n    square: square\n  }, other), /*#__PURE__*/React.createElement(AccordionContext.Provider, {\n    value: contextValue\n  }, summary), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: expanded,\n    timeout: \"auto\"\n  }, TransitionProps), /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-labelledby\": summary.props.id,\n    id: summary.props['aria-controls'],\n    role: \"region\"\n  }, children)));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAccordion'\n})(Accordion);","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n/* eslint-disable jsx-a11y/aria-role */\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport ButtonBase from '../ButtonBase';\nimport IconButton from '../IconButton';\nimport withStyles from '../styles/withStyles';\nimport AccordionContext from '../Accordion/AccordionContext';\nexport var styles = function styles(theme) {\n  var transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      minHeight: 8 * 6,\n      transition: theme.transitions.create(['min-height', 'background-color'], transition),\n      padding: theme.spacing(0, 2),\n      '&:hover:not($disabled)': {\n        cursor: 'pointer'\n      },\n      '&$expanded': {\n        minHeight: 64\n      },\n      '&$focused': {\n        backgroundColor: theme.palette.action.focus\n      },\n      '&$disabled': {\n        opacity: theme.palette.action.disabledOpacity\n      }\n    },\n\n    /* Pseudo-class applied to the root element, children wrapper element and `IconButton` component if `expanded={true}`. */\n    expanded: {},\n\n    /* Pseudo-class applied to the root element if `focused={true}`. */\n    focused: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the children wrapper element. */\n    content: {\n      display: 'flex',\n      flexGrow: 1,\n      transition: theme.transitions.create(['margin'], transition),\n      margin: '12px 0',\n      '&$expanded': {\n        margin: '20px 0'\n      }\n    },\n\n    /* Styles applied to the `IconButton` component when `expandIcon` is supplied. */\n    expandIcon: {\n      transform: 'rotate(0deg)',\n      transition: theme.transitions.create('transform', transition),\n      '&:hover': {\n        // Disable the hover effect for the IconButton,\n        // because a hover effect should apply to the entire Expand button and\n        // not only to the IconButton.\n        backgroundColor: 'transparent'\n      },\n      '&$expanded': {\n        transform: 'rotate(180deg)'\n      }\n    }\n  };\n};\nvar AccordionSummary = /*#__PURE__*/React.forwardRef(function AccordionSummary(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      expandIcon = props.expandIcon,\n      IconButtonProps = props.IconButtonProps,\n      onBlur = props.onBlur,\n      onClick = props.onClick,\n      onFocusVisible = props.onFocusVisible,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"expandIcon\", \"IconButtonProps\", \"onBlur\", \"onClick\", \"onFocusVisible\"]);\n\n  var _React$useState = React.useState(false),\n      focusedState = _React$useState[0],\n      setFocusedState = _React$useState[1];\n\n  var handleFocusVisible = function handleFocusVisible(event) {\n    setFocusedState(true);\n\n    if (onFocusVisible) {\n      onFocusVisible(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    setFocusedState(false);\n\n    if (onBlur) {\n      onBlur(event);\n    }\n  };\n\n  var _React$useContext = React.useContext(AccordionContext),\n      _React$useContext$dis = _React$useContext.disabled,\n      disabled = _React$useContext$dis === void 0 ? false : _React$useContext$dis,\n      expanded = _React$useContext.expanded,\n      toggle = _React$useContext.toggle;\n\n  var handleChange = function handleChange(event) {\n    if (toggle) {\n      toggle(event);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    focusRipple: false,\n    disableRipple: true,\n    disabled: disabled,\n    component: \"div\",\n    \"aria-expanded\": expanded,\n    className: clsx(classes.root, className, disabled && classes.disabled, expanded && classes.expanded, focusedState && classes.focused),\n    onFocusVisible: handleFocusVisible,\n    onBlur: handleBlur,\n    onClick: handleChange,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.content, expanded && classes.expanded)\n  }, children), expandIcon && /*#__PURE__*/React.createElement(IconButton, _extends({\n    className: clsx(classes.expandIcon, expanded && classes.expanded),\n    edge: \"end\",\n    component: \"div\",\n    tabIndex: null,\n    role: null,\n    \"aria-hidden\": true\n  }, IconButtonProps), expandIcon));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAccordionSummary'\n})(AccordionSummary);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      padding: theme.spacing(1, 2, 2)\n    }\n  };\n};\nvar AccordionDetails = /*#__PURE__*/React.forwardRef(function AccordionDetails(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAccordionDetails'\n})(AccordionDetails);","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z\"\n}), 'SuccessOutlined');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z\"\n}), 'ReportProblemOutlined');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutline');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z\"\n}), 'InfoOutlined');","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { withStyles, lighten, darken } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport SuccessOutlinedIcon from '../internal/svg-icons/SuccessOutlined';\nimport ReportProblemOutlinedIcon from '../internal/svg-icons/ReportProblemOutlined';\nimport ErrorOutlineIcon from '../internal/svg-icons/ErrorOutline';\nimport InfoOutlinedIcon from '../internal/svg-icons/InfoOutlined';\nimport CloseIcon from '../internal/svg-icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport { capitalize } from '@material-ui/core/utils';\nexport var styles = function styles(theme) {\n  var getColor = theme.palette.type === 'light' ? darken : lighten;\n  var getBackgroundColor = theme.palette.type === 'light' ? lighten : darken;\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body2, {\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: 'transparent',\n      display: 'flex',\n      padding: '6px 16px'\n    }),\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"success\"`. */\n    standardSuccess: {\n      color: getColor(theme.palette.success.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.success.main, 0.9),\n      '& $icon': {\n        color: theme.palette.success.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"info\"`. */\n    standardInfo: {\n      color: getColor(theme.palette.info.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.info.main, 0.9),\n      '& $icon': {\n        color: theme.palette.info.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"warning\"`. */\n    standardWarning: {\n      color: getColor(theme.palette.warning.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.warning.main, 0.9),\n      '& $icon': {\n        color: theme.palette.warning.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"error\"`. */\n    standardError: {\n      color: getColor(theme.palette.error.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.error.main, 0.9),\n      '& $icon': {\n        color: theme.palette.error.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"success\"`. */\n    outlinedSuccess: {\n      color: getColor(theme.palette.success.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.success.main),\n      '& $icon': {\n        color: theme.palette.success.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"info\"`. */\n    outlinedInfo: {\n      color: getColor(theme.palette.info.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.info.main),\n      '& $icon': {\n        color: theme.palette.info.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"warning\"`. */\n    outlinedWarning: {\n      color: getColor(theme.palette.warning.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.warning.main),\n      '& $icon': {\n        color: theme.palette.warning.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"error\"`. */\n    outlinedError: {\n      color: getColor(theme.palette.error.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.error.main),\n      '& $icon': {\n        color: theme.palette.error.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"success\"`. */\n    filledSuccess: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.success.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"info\"`. */\n    filledInfo: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.info.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"warning\"`. */\n    filledWarning: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.warning.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"error\"`. */\n    filledError: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.error.main\n    },\n\n    /* Styles applied to the icon wrapper element. */\n    icon: {\n      marginRight: 12,\n      padding: '7px 0',\n      display: 'flex',\n      fontSize: 22,\n      opacity: 0.9\n    },\n\n    /* Styles applied to the message wrapper element. */\n    message: {\n      padding: '8px 0'\n    },\n\n    /* Styles applied to the action wrapper element if `action` is provided. */\n    action: {\n      display: 'flex',\n      alignItems: 'center',\n      marginLeft: 'auto',\n      paddingLeft: 16,\n      marginRight: -8\n    }\n  };\n};\nvar defaultIconMapping = {\n  success: /*#__PURE__*/React.createElement(SuccessOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  warning: /*#__PURE__*/React.createElement(ReportProblemOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  error: /*#__PURE__*/React.createElement(ErrorOutlineIcon, {\n    fontSize: \"inherit\"\n  }),\n  info: /*#__PURE__*/React.createElement(InfoOutlinedIcon, {\n    fontSize: \"inherit\"\n  })\n};\n\nvar _ref = /*#__PURE__*/React.createElement(CloseIcon, {\n  fontSize: \"small\"\n});\n\nvar Alert = /*#__PURE__*/React.forwardRef(function Alert(props, ref) {\n  var action = props.action,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$closeText = props.closeText,\n      closeText = _props$closeText === void 0 ? 'Close' : _props$closeText,\n      color = props.color,\n      icon = props.icon,\n      _props$iconMapping = props.iconMapping,\n      iconMapping = _props$iconMapping === void 0 ? defaultIconMapping : _props$iconMapping,\n      onClose = props.onClose,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'alert' : _props$role,\n      _props$severity = props.severity,\n      severity = _props$severity === void 0 ? 'success' : _props$severity,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"action\", \"children\", \"classes\", \"className\", \"closeText\", \"color\", \"icon\", \"iconMapping\", \"onClose\", \"role\", \"severity\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    role: role,\n    square: true,\n    elevation: 0,\n    className: clsx(classes.root, classes[\"\".concat(variant).concat(capitalize(color || severity))], className),\n    ref: ref\n  }, other), icon !== false ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.icon\n  }, icon || iconMapping[severity] || defaultIconMapping[severity]) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, children), action != null ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action) : null, action == null && onClose ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    \"aria-label\": closeText,\n    title: closeText,\n    color: \"inherit\",\n    onClick: onClose\n  }, _ref)) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAlert'\n})(Alert);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport Alert from '@material-ui/lab/Alert';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { PluginHook } from './PluginHook';\n/** */\n\nexport var ErrorContent = /*#__PURE__*/function (_Component) {\n  _inherits(ErrorContent, _Component);\n\n  var _super = _createSuper(ErrorContent);\n\n  function ErrorContent() {\n    _classCallCheck(this, ErrorContent);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ErrorContent, [{\n    key: \"render\",\n\n    /** */\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          error = _this$props.error,\n          metadata = _this$props.metadata,\n          showJsError = _this$props.showJsError,\n          t = _this$props.t;\n      if (!showJsError) return null;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n        elevation: 6,\n        variant: \"filled\",\n        severity: \"error\"\n      }, t('errorDialogTitle')), showJsError && /*#__PURE__*/React.createElement(Accordion, {\n        square: true,\n        className: classes.alert\n      }, /*#__PURE__*/React.createElement(AccordionSummary, {\n        expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, null)\n      }, /*#__PURE__*/React.createElement(Typography, null, t('jsError', {\n        message: error.message,\n        name: error.name\n      }))), /*#__PURE__*/React.createElement(AccordionDetails, {\n        className: classes.details\n      }, /*#__PURE__*/React.createElement(\"pre\", null, t('jsStack', {\n        stack: error.stack\n      })), metadata && /*#__PURE__*/React.createElement(\"pre\", null, JSON.stringify(metadata, null, 2)))), /*#__PURE__*/React.createElement(PluginHook, this.props));\n    }\n  }]);\n\n  return ErrorContent;\n}(Component);\nErrorContent.defaultProps = {\n  metadata: null,\n  showJsError: true,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { ErrorContent } from '../components/ErrorContent';\nimport { getCompanionWindow, getManifest, getWindow, getViewer, getConfig } from '../state/selectors';\n/** mapStateToProps */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var companionWindowId = _ref.companionWindowId,\n      windowId = _ref.windowId;\n  return {\n    metadata: {\n      companionWindow: companionWindowId && getCompanionWindow(state, {\n        companionWindowId: companionWindowId\n      }),\n      manifest: getManifest(state, {\n        windowId: windowId\n      }),\n      viewer: getViewer(state, {\n        windowId: windowId\n      }),\n      window: getWindow(state, {\n        windowId: windowId\n      })\n    },\n    showJsError: getConfig(state).window.showJsError\n  };\n};\n/**\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: number|string},\n * windowTopBarStyle: {minHeight: number, paddingLeft: number, backgroundColor: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    alert: {\n      '& $icon': {\n        color: theme.palette.error.main\n      },\n      backgroundColor: theme.palette.error.main,\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium\n    },\n    details: {\n      '& pre': {\n        height: '100px',\n        overflowY: 'scroll'\n      },\n      flexDirection: 'column'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps), withPlugins('ErrorContent'));\nexport default enhance(ErrorContent);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport CompanionWindowRegistry from '../lib/CompanionWindowRegistry';\nimport CompanionWindow from '../containers/CompanionWindow';\nimport ErrorContent from '../containers/ErrorContent';\n/**\n * Render a companion window using the appropriate component for the content\n */\n\nexport var CompanionWindowFactory = /*#__PURE__*/function (_Component) {\n  _inherits(CompanionWindowFactory, _Component);\n\n  var _super = _createSuper(CompanionWindowFactory);\n  /** */\n\n\n  function CompanionWindowFactory(props) {\n    var _this;\n\n    _classCallCheck(this, CompanionWindowFactory);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n  /** */\n\n\n  _createClass(CompanionWindowFactory, [{\n    key: \"componentDidUpdate\",\n\n    /**\n     * Clear the error state if the internal content changes; this is a rare\n     * case, only when we reuse an existing companionWindow instance for\n     * the left-anchored companion area (anti-pattern?)\n     */\n    value: function componentDidUpdate(prevProps) {\n      var content = this.props.content; // Typical usage (don't forget to compare props):\n\n      if (content !== prevProps.content) {\n        this.setState({\n          // eslint-disable-line react/no-did-update-set-state\n          error: null,\n          hasError: false\n        });\n      }\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          content = _this$props.content,\n          windowId = _this$props.windowId,\n          id = _this$props.id,\n          t = _this$props.t;\n      var _this$state = this.state,\n          error = _this$state.error,\n          hasError = _this$state.hasError;\n\n      if (hasError) {\n        return /*#__PURE__*/React.createElement(CompanionWindow, {\n          title: t('error'),\n          windowId: windowId,\n          id: id\n        }, /*#__PURE__*/React.createElement(ErrorContent, {\n          error: error,\n          windowId: windowId,\n          companionWindowId: id\n        }));\n      }\n\n      var type = CompanionWindowRegistry[content];\n      if (!type) return /*#__PURE__*/React.createElement(React.Fragment, null);\n      return /*#__PURE__*/React.createElement(type, {\n        id: id,\n        windowId: windowId\n      });\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      // Update state so the next render will show the fallback UI.\n      return {\n        error: error,\n        hasError: true\n      };\n    }\n  }]);\n\n  return CompanionWindowFactory;\n}(Component);\nCompanionWindowFactory.defaultProps = {\n  content: null,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getCompanionWindow } from '../state/selectors';\nimport { CompanionWindowFactory } from '../components/CompanionWindowFactory';\n/**\n * mapStateToProps - to hook up connect\n * @memberof CompanionWindow\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var id = _ref.id;\n  var companionWindow = getCompanionWindow(state, {\n    companionWindowId: id\n  });\n  return {\n    content: companionWindow.content,\n    id: id\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps), withPlugins('CompanionWindowFactory'));\nexport default enhance(CompanionWindowFactory);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Slide from '@material-ui/core/Slide';\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeftSharp';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRightSharp';\nimport CompanionWindowFactory from '../containers/CompanionWindowFactory';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport ns from '../config/css-ns';\n/** */\n\nexport var CompanionArea = /*#__PURE__*/function (_Component) {\n  _inherits(CompanionArea, _Component);\n\n  var _super = _createSuper(CompanionArea);\n\n  function CompanionArea() {\n    _classCallCheck(this, CompanionArea);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CompanionArea, [{\n    key: \"areaLayoutClass\",\n\n    /** */\n    value: function areaLayoutClass() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          position = _this$props.position;\n      return position === 'bottom' || position === 'far-bottom' ? classes.horizontal : null;\n    }\n    /** */\n\n  }, {\n    key: \"collapseIcon\",\n    value: function collapseIcon() {\n      var _this$props2 = this.props,\n          companionAreaOpen = _this$props2.companionAreaOpen,\n          direction = _this$props2.direction;\n\n      if (direction === 'rtl') {\n        if (companionAreaOpen) return /*#__PURE__*/React.createElement(ArrowRightIcon, null);\n        return /*#__PURE__*/React.createElement(ArrowLeftIcon, null);\n      }\n\n      if (companionAreaOpen) return /*#__PURE__*/React.createElement(ArrowLeftIcon, null);\n      return /*#__PURE__*/React.createElement(ArrowRightIcon, null);\n    }\n    /** @private */\n\n  }, {\n    key: \"slideDirection\",\n    value: function slideDirection() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          position = _this$props3.position;\n      var defaultPosition = direction === 'rtl' ? 'left' : 'right';\n      var oppositePosition = direction === 'rtl' ? 'right' : 'left';\n\n      switch (position) {\n        case 'right':\n        case 'far-right':\n          return oppositePosition;\n\n        case 'bottom':\n        case 'far-bottom':\n          return 'up';\n\n        default:\n          return defaultPosition;\n      }\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          classes = _this$props4.classes,\n          companionWindowIds = _this$props4.companionWindowIds,\n          companionAreaOpen = _this$props4.companionAreaOpen,\n          setCompanionAreaOpen = _this$props4.setCompanionAreaOpen,\n          position = _this$props4.position,\n          sideBarOpen = _this$props4.sideBarOpen,\n          t = _this$props4.t,\n          windowId = _this$props4.windowId;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: [classes.root, this.areaLayoutClass(), ns(\"companion-area-\".concat(position))].join(' ')\n      }, /*#__PURE__*/React.createElement(Slide, {\n        \"in\": companionAreaOpen,\n        direction: this.slideDirection()\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: [ns('companion-windows'), companionWindowIds.length > 0 && classes[position], this.areaLayoutClass()].join(' '),\n        style: {\n          display: companionAreaOpen ? 'flex' : 'none'\n        }\n      }, companionWindowIds.map(function (id) {\n        return /*#__PURE__*/React.createElement(CompanionWindowFactory, {\n          id: id,\n          key: id,\n          windowId: windowId\n        });\n      }))), setCompanionAreaOpen && position === 'left' && sideBarOpen && companionWindowIds.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.toggle\n      }, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-expanded\": companionAreaOpen,\n        \"aria-label\": companionAreaOpen ? t('collapseSidePanel') : t('expandSidePanel'),\n        className: classes.toggleButton,\n        key: companionAreaOpen ? 'collapse' : 'expand',\n        onClick: function onClick() {\n          setCompanionAreaOpen(windowId, !companionAreaOpen);\n        },\n        TooltipProps: {\n          placement: 'right'\n        }\n      }, this.collapseIcon())));\n    }\n  }]);\n\n  return CompanionArea;\n}(Component);\nCompanionArea.defaultProps = {\n  classes: {},\n  setCompanionAreaOpen: function setCompanionAreaOpen() {},\n  sideBarOpen: false\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getCompanionWindowIdsForPosition, getCompanionAreaVisibility, getThemeDirection, getWindow } from '../state/selectors';\nimport * as actions from '../state/actions';\nimport { CompanionArea } from '../components/CompanionArea';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId,\n      position = _ref.position;\n  return {\n    companionAreaOpen: getCompanionAreaVisibility(state, {\n      position: position,\n      windowId: windowId\n    }),\n    companionWindowIds: getCompanionWindowIdsForPosition(state, {\n      position: position,\n      windowId: windowId\n    }),\n    direction: getThemeDirection(state),\n    sideBarOpen: (getWindow(state, {\n      windowId: windowId\n    }) || {}).sideBarOpen\n  };\n};\n\nvar mapDispatchToProps = {\n  setCompanionAreaOpen: actions.setCompanionAreaOpen\n};\n/** */\n\nvar styles = function styles(theme) {\n  return {\n    horizontal: {\n      flexDirection: 'column',\n      width: '100%'\n    },\n    left: {\n      minWidth: 235\n    },\n    root: {\n      display: 'flex',\n      minHeight: 0,\n      position: 'relative',\n      zIndex: theme.zIndex.appBar - 2\n    },\n    toggle: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"1px solid \".concat(theme.palette.shades.dark),\n      borderRadius: 0,\n      height: '48px',\n      left: '100%',\n      marginTop: '1rem',\n      padding: 2,\n      position: 'absolute',\n      width: '23px',\n      zIndex: theme.zIndex.drawer\n    },\n    toggleButton: {\n      marginBottom: 12,\n      marginTop: 12,\n      padding: 0\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('CompanionArea'));\nexport default enhance(CompanionArea);","function _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport { Button, Chip, Dialog, DialogActions, DialogTitle, Link, MenuList, MenuItem, Typography } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBackSharp';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { LabelValueMetadata } from './LabelValueMetadata';\nimport CollapsibleSection from '../containers/CollapsibleSection';\nimport ScrollIndicatedDialogContent from '../containers/ScrollIndicatedDialogContent';\nimport ManifestInfo from '../containers/ManifestInfo';\n/**\n */\n\nfunction asArray(value) {\n  if (!Array.isArray(value)) {\n    return [value];\n  }\n\n  return value;\n}\n/**\n * a dialog providing the possibility to select the collection\n */\n\n\nexport var CollectionDialog = /*#__PURE__*/function (_Component) {\n  _inherits(CollectionDialog, _Component);\n\n  var _super = _createSuper(CollectionDialog);\n\n  _createClass(CollectionDialog, null, [{\n    key: \"getUseableLabel\",\n\n    /** */\n    value: function getUseableLabel(resource, index) {\n      return resource && resource.getLabel && resource.getLabel().length > 0 ? resource.getLabel().getValue() : String(index + 1);\n    }\n    /** */\n\n  }]);\n\n  function CollectionDialog(props) {\n    var _this;\n\n    _classCallCheck(this, CollectionDialog);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      filter: null\n    };\n    _this.hideDialog = _this.hideDialog.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(CollectionDialog, [{\n    key: \"setFilter\",\n    value: function setFilter(filter) {\n      this.setState({\n        filter: filter\n      });\n    }\n    /** */\n\n  }, {\n    key: \"hideDialog\",\n    value: function hideDialog() {\n      var _this$props = this.props,\n          hideCollectionDialog = _this$props.hideCollectionDialog,\n          windowId = _this$props.windowId;\n      hideCollectionDialog(windowId);\n    }\n    /** */\n\n  }, {\n    key: \"selectCollection\",\n    value: function selectCollection(c) {\n      var _this$props2 = this.props,\n          collectionPath = _this$props2.collectionPath,\n          manifestId = _this$props2.manifestId,\n          showCollectionDialog = _this$props2.showCollectionDialog,\n          windowId = _this$props2.windowId;\n      showCollectionDialog(c.id, [].concat(_toConsumableArray(collectionPath), [manifestId]), windowId);\n    }\n    /** */\n\n  }, {\n    key: \"goToPreviousCollection\",\n    value: function goToPreviousCollection() {\n      var _this$props3 = this.props,\n          collectionPath = _this$props3.collectionPath,\n          showCollectionDialog = _this$props3.showCollectionDialog,\n          windowId = _this$props3.windowId;\n      showCollectionDialog(collectionPath[collectionPath.length - 1], collectionPath.slice(0, -1), windowId);\n    }\n    /** */\n\n  }, {\n    key: \"selectManifest\",\n    value: function selectManifest(m) {\n      var _this$props4 = this.props,\n          addWindow = _this$props4.addWindow,\n          collectionPath = _this$props4.collectionPath,\n          manifestId = _this$props4.manifestId,\n          setWorkspaceAddVisibility = _this$props4.setWorkspaceAddVisibility,\n          updateWindow = _this$props4.updateWindow,\n          windowId = _this$props4.windowId;\n\n      if (windowId) {\n        updateWindow(windowId, {\n          canvasId: null,\n          collectionPath: [].concat(_toConsumableArray(collectionPath), [manifestId]),\n          manifestId: m.id\n        });\n      } else {\n        addWindow({\n          collectionPath: [].concat(_toConsumableArray(collectionPath), [manifestId]),\n          manifestId: m.id\n        });\n      }\n\n      this.hideDialog();\n      setWorkspaceAddVisibility(false);\n    }\n    /** */\n\n  }, {\n    key: \"dialogContainer\",\n    value: function dialogContainer() {\n      var _this$props5 = this.props,\n          containerId = _this$props5.containerId,\n          windowId = _this$props5.windowId;\n      return document.querySelector(\"#\".concat(containerId, \" #\").concat(windowId));\n    }\n    /** */\n\n  }, {\n    key: \"placeholder\",\n    value: function placeholder() {\n      var classes = this.props.classes;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        className: classes.dialog,\n        onClose: this.hideDialog,\n        open: true,\n        container: this.dialogContainer(),\n        BackdropProps: this.backdropProps()\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"select-collection\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      })), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, null, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      }), /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      })));\n    }\n    /** */\n\n  }, {\n    key: \"backdropProps\",\n    value: function backdropProps() {\n      var classes = this.props.classes;\n      return {\n        classes: {\n          root: classes.dialog\n        }\n      };\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props6 = this.props,\n          classes = _this$props6.classes,\n          collection = _this$props6.collection,\n          error = _this$props6.error,\n          isMultipart = _this$props6.isMultipart,\n          manifest = _this$props6.manifest,\n          ready = _this$props6.ready,\n          t = _this$props6.t;\n      var filter = this.state.filter;\n      if (error) return null; // If this component is optimistically rendering ahead of the window its in\n      // force a re-render so that it is placed correctly. The right thing here is\n      // to maybe pass a ref.\n\n      if (!this.dialogContainer()) {\n        this.forceUpdate();\n        return /*#__PURE__*/React.createElement(React.Fragment, null);\n      }\n\n      if (!ready) return this.placeholder();\n      var rights = manifest && asArray(manifest.getProperty('rights') || manifest.getProperty('license'));\n      var requiredStatement = manifest && asArray(manifest.getRequiredStatement()).filter(function (l) {\n        return l.getValue();\n      }).map(function (labelValuePair) {\n        return {\n          label: null,\n          values: labelValuePair.getValues()\n        };\n      });\n      var collections = manifest.getCollections();\n      var currentFilter = filter || (collections.length > 0 ? 'collections' : 'manifests');\n      return /*#__PURE__*/React.createElement(Dialog, {\n        className: classes.dialog,\n        onClose: this.hideDialog,\n        container: this.dialogContainer(),\n        BackdropProps: this.backdropProps(),\n        open: true\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"select-collection\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        component: \"div\",\n        variant: \"overline\"\n      }, t(isMultipart ? 'multipartCollection' : 'collection')), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h3\"\n      }, CollectionDialog.getUseableLabel(manifest))), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, {\n        className: classes.dialogContent\n      }, collection && /*#__PURE__*/React.createElement(Button, {\n        startIcon: /*#__PURE__*/React.createElement(ArrowBackIcon, null),\n        onClick: function onClick() {\n          return _this2.goToPreviousCollection();\n        }\n      }, CollectionDialog.getUseableLabel(collection)), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.collectionMetadata\n      }, /*#__PURE__*/React.createElement(ManifestInfo, {\n        manifestId: manifest.id\n      }), /*#__PURE__*/React.createElement(CollapsibleSection, {\n        id: \"select-collection-rights\",\n        label: t('attributionTitle')\n      }, requiredStatement && /*#__PURE__*/React.createElement(LabelValueMetadata, {\n        labelValuePairs: requiredStatement,\n        defaultLabel: t('attribution')\n      }), rights && rights.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"subtitle2\",\n        component: \"dt\"\n      }, t('rights')), rights.map(function (v) {\n        return /*#__PURE__*/React.createElement(Typography, {\n          variant: \"body1\",\n          component: \"dd\",\n          key: v\n        }, /*#__PURE__*/React.createElement(Link, {\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          href: v\n        }, v));\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.collectionFilter\n      }, manifest.getTotalCollections() > 0 && /*#__PURE__*/React.createElement(Chip, {\n        clickable: true,\n        color: currentFilter === 'collections' ? 'primary' : 'default',\n        onClick: function onClick() {\n          return _this2.setFilter('collections');\n        },\n        label: t('totalCollections', {\n          count: manifest.getTotalCollections()\n        })\n      }), manifest.getTotalManifests() > 0 && /*#__PURE__*/React.createElement(Chip, {\n        clickable: true,\n        color: currentFilter === 'manifests' ? 'primary' : 'default',\n        onClick: function onClick() {\n          return _this2.setFilter('manifests');\n        },\n        label: t('totalManifests', {\n          count: manifest.getTotalManifests()\n        })\n      })), currentFilter === 'collections' && /*#__PURE__*/React.createElement(MenuList, null, collections.map(function (c) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: c.id,\n          onClick: function onClick() {\n            _this2.selectCollection(c);\n          }\n        }, CollectionDialog.getUseableLabel(c));\n      })), currentFilter === 'manifests' && /*#__PURE__*/React.createElement(MenuList, null, manifest.getManifests().map(function (m) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: m.id,\n          onClick: function onClick() {\n            _this2.selectManifest(m);\n          }\n        }, CollectionDialog.getUseableLabel(m));\n      }))), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.hideDialog\n      }, t('close'))));\n    }\n  }]);\n\n  return CollectionDialog;\n}(Component);\nCollectionDialog.defaultProps = {\n  collection: null,\n  collectionPath: [],\n  containerId: null,\n  error: null,\n  isMultipart: false,\n  ready: false,\n  windowId: null\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getContainerId, getManifest, getManifestoInstance, getSequenceBehaviors, getWindow } from '../state/selectors';\nimport { CollectionDialog } from '../components/CollectionDialog';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof CollectionDialog\n * @private\n */\n\nvar mapDispatchToProps = {\n  addWindow: actions.addWindow,\n  hideCollectionDialog: actions.hideCollectionDialog,\n  setWorkspaceAddVisibility: actions.setWorkspaceAddVisibility,\n  showCollectionDialog: actions.showCollectionDialog,\n  updateWindow: actions.updateWindow\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof CollectionDialog\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n\n  var _getWindow = getWindow(state, {\n    windowId: windowId\n  }),\n      collectionPath = _getWindow.collectionPath,\n      manifestId = _getWindow.collectionManifestId;\n\n  var manifest = getManifest(state, {\n    manifestId: manifestId\n  });\n  var collectionId = collectionPath && collectionPath[collectionPath.length - 1];\n  var collection = collectionId && getManifest(state, {\n    manifestId: collectionId\n  });\n  return {\n    collection: collection && getManifestoInstance(state, {\n      manifestId: collection.id\n    }),\n    collectionPath: collectionPath,\n    containerId: getContainerId(state),\n    error: manifest && manifest.error,\n    isMultipart: getSequenceBehaviors(state, {\n      manifestId: manifestId\n    }).includes('multi-part'),\n    manifest: manifest && getManifestoInstance(state, {\n      manifestId: manifestId\n    }),\n    manifestId: manifestId,\n    open: state.workspace.collectionDialogOn,\n    ready: manifest && !!manifest.json,\n    windowId: windowId\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    collectionFilter: {\n      padding: '16px',\n      paddingTop: 0\n    },\n    collectionMetadata: {\n      padding: '16px'\n    },\n    dark: {\n      color: '#000000'\n    },\n    dialog: {\n      position: 'absolute !important'\n    },\n    dialogContent: {\n      padding: 0\n    },\n    light: {\n      color: theme.palette.grey[400]\n    },\n    listitem: {\n      '&:focus': {\n        backgroundColor: theme.palette.action.focus\n      },\n      '&:hover': {\n        backgroundColor: theme.palette.action.hover\n      },\n      cursor: 'pointer'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('CollectionDialog'));\nexport default enhance(CollectionDialog);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component, lazy, Suspense } from 'react';\nimport classNames from 'classnames';\nimport WindowSideBar from '../containers/WindowSideBar';\nimport CompanionArea from '../containers/CompanionArea';\nimport CollectionDialog from '../containers/CollectionDialog';\nimport ns from '../config/css-ns';\nvar AudioViewer = /*#__PURE__*/lazy(function () {\n  return import('../containers/AudioViewer');\n});\nvar GalleryView = /*#__PURE__*/lazy(function () {\n  return import('../containers/GalleryView');\n});\nvar SelectCollection = /*#__PURE__*/lazy(function () {\n  return import('../containers/SelectCollection');\n});\nvar WindowViewer = /*#__PURE__*/lazy(function () {\n  return import('../containers/WindowViewer');\n});\nvar VideoViewer = /*#__PURE__*/lazy(function () {\n  return import('../containers/VideoViewer');\n});\nGalleryView.displayName = 'GalleryView';\nSelectCollection.displayName = 'SelectCollection';\nWindowViewer.displayName = 'WindowViewer';\n/**\n * PrimaryWindow - component that renders the primary content of a Mirador\n * window. Right now this differentiates between a Image, Video, or Audio viewer.\n */\n\nexport var PrimaryWindow = /*#__PURE__*/function (_Component) {\n  _inherits(PrimaryWindow, _Component);\n\n  var _super = _createSuper(PrimaryWindow);\n\n  function PrimaryWindow() {\n    _classCallCheck(this, PrimaryWindow);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PrimaryWindow, [{\n    key: \"renderViewer\",\n\n    /**\n     * renderViewer - logic used to determine what type of view to show\n     *\n     * @return {(String|null)}\n     */\n    value: function renderViewer() {\n      var _this$props = this.props,\n          audioResources = _this$props.audioResources,\n          isCollection = _this$props.isCollection,\n          isFetching = _this$props.isFetching,\n          videoResources = _this$props.videoResources,\n          view = _this$props.view,\n          windowId = _this$props.windowId;\n\n      if (isCollection) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SelectCollection, {\n          windowId: windowId\n        }));\n      }\n\n      if (isFetching === false) {\n        if (view === 'gallery') {\n          return /*#__PURE__*/React.createElement(GalleryView, {\n            windowId: windowId\n          });\n        }\n\n        if (videoResources.length > 0) {\n          return /*#__PURE__*/React.createElement(VideoViewer, {\n            windowId: windowId\n          });\n        }\n\n        if (audioResources.length > 0) {\n          return /*#__PURE__*/React.createElement(AudioViewer, {\n            windowId: windowId\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(WindowViewer, {\n          windowId: windowId\n        });\n      }\n\n      return null;\n    }\n    /**\n     * Render the component\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          isCollectionDialogVisible = _this$props2.isCollectionDialogVisible,\n          windowId = _this$props2.windowId,\n          classes = _this$props2.classes;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(ns('primary-window'), classes.primaryWindow)\n      }, /*#__PURE__*/React.createElement(WindowSideBar, {\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"left\"\n      }), isCollectionDialogVisible && /*#__PURE__*/React.createElement(CollectionDialog, {\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(Suspense, {\n        fallback: /*#__PURE__*/React.createElement(\"div\", null)\n      }, this.renderViewer()));\n    }\n  }]);\n\n  return PrimaryWindow;\n}(Component);\nPrimaryWindow.defaultProps = {\n  audioResources: [],\n  isCollection: false,\n  isCollectionDialogVisible: false,\n  isFetching: false,\n  videoResources: [],\n  view: undefined\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getManifestoInstance, getVisibleCanvasAudioResources, getVisibleCanvasVideoResources, getWindow } from '../state/selectors';\nimport { PrimaryWindow } from '../components/PrimaryWindow';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  var manifestoInstance = getManifestoInstance(state, {\n    windowId: windowId\n  });\n  return {\n    audioResources: getVisibleCanvasAudioResources(state, {\n      windowId: windowId\n    }) || [],\n    isCollection: manifestoInstance && manifestoInstance.isCollection(),\n    isCollectionDialogVisible: getWindow(state, {\n      windowId: windowId\n    }).collectionDialogOn,\n    videoResources: getVisibleCanvasVideoResources(state, {\n      windowId: windowId\n    }) || []\n  };\n};\n\nvar styles = {\n  primaryWindow: {\n    display: 'flex',\n    flex: 1,\n    position: 'relative'\n  }\n};\nvar enhance = compose(withStyles(styles), connect(mapStateToProps, null), withPlugins('PrimaryWindow'));\nexport default enhance(PrimaryWindow);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport MenuIcon from '@material-ui/icons/MenuSharp';\nimport cn from 'classnames';\nimport Paper from '@material-ui/core/Paper';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/CloseSharp';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport ns from '../config/css-ns';\n/** */\n\nexport var MinimalWindow = /*#__PURE__*/function (_Component) {\n  _inherits(MinimalWindow, _Component);\n\n  var _super = _createSuper(MinimalWindow);\n\n  function MinimalWindow() {\n    _classCallCheck(this, MinimalWindow);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MinimalWindow, [{\n    key: \"render\",\n\n    /** */\n    value: function render() {\n      var _this$props = this.props,\n          allowClose = _this$props.allowClose,\n          allowWindowSideBar = _this$props.allowWindowSideBar,\n          ariaLabel = _this$props.ariaLabel,\n          children = _this$props.children,\n          classes = _this$props.classes,\n          label = _this$props.label,\n          removeWindow = _this$props.removeWindow,\n          t = _this$props.t,\n          windowId = _this$props.windowId;\n      return /*#__PURE__*/React.createElement(Paper, {\n        component: \"section\",\n        elevation: 1,\n        id: windowId,\n        className: cn(classes.window, ns('placeholder-window')),\n        \"aria-label\": label && ariaLabel ? t('window', {\n          label: label\n        }) : null\n      }, /*#__PURE__*/React.createElement(AppBar, {\n        position: \"relative\",\n        color: \"default\"\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        disableGutters: true,\n        className: cn(classes.windowTopBarStyle, ns('window-top-bar')),\n        variant: \"dense\"\n      }, allowWindowSideBar && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('toggleWindowSideBar'),\n        disabled: true\n      }, /*#__PURE__*/React.createElement(MenuIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\",\n        noWrap: true,\n        color: \"inherit\",\n        className: classes.title\n      }, label), allowClose && removeWindow && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('closeWindow'),\n        className: cn(classes.button, ns('window-close')),\n        onClick: removeWindow,\n        TooltipProps: {\n          tabIndex: ariaLabel ? '0' : '-1'\n        }\n      }, /*#__PURE__*/React.createElement(CloseIcon, null)))), children);\n    }\n  }]);\n\n  return MinimalWindow;\n}(Component);\nMinimalWindow.defaultProps = {\n  allowClose: true,\n  allowWindowSideBar: true,\n  ariaLabel: true,\n  children: null,\n  classes: {},\n  label: '',\n  removeWindow: function removeWindow() {},\n  t: function t(key) {\n    return key;\n  }\n};","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { MinimalWindow } from '../components/MinimalWindow';\nimport { getWindowConfig } from '../state/selectors';\n/** mapStateToProps */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    allowClose: getWindowConfig(state, {\n      windowId: windowId\n    }).allowClose,\n    allowWindowSideBar: getWindowConfig(state, {\n      windowId: windowId\n    }).allowWindowSideBar\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {\n  var windowId = _ref2.windowId;\n  return {\n    removeWindow: function removeWindow() {\n      return dispatch(actions.removeWindow(windowId));\n    }\n  };\n};\n/**\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: number|string},\n * windowTopBarStyle: {minHeight: number, paddingLeft: number, backgroundColor: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    button: {\n      marginLeft: 'auto'\n    },\n    title: _objectSpread(_objectSpread({}, theme.typography.h6), {}, {\n      flexGrow: 1,\n      paddingLeft: theme.spacing(0.5)\n    }),\n    window: {\n      backgroundColor: theme.palette.shades.dark,\n      borderRadius: 0,\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      minHeight: 0,\n      overflow: 'hidden',\n      width: '100%'\n    },\n    windowTopBarStyle: {\n      backgroundColor: theme.palette.shades.main,\n      borderTop: '2px solid transparent',\n      minHeight: 32,\n      paddingLeft: theme.spacing(0.5),\n      paddingRight: theme.spacing(0.5)\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('MinimalWindow'));\nexport default enhance(MinimalWindow);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport IComCom from 'icomcom-react';\n/**\n * Opens a new window for click\n */\n\nexport var AccessTokenSender = /*#__PURE__*/function (_Component) {\n  _inherits(AccessTokenSender, _Component);\n\n  var _super = _createSuper(AccessTokenSender);\n  /** */\n\n\n  function AccessTokenSender(props) {\n    var _this;\n\n    _classCallCheck(this, AccessTokenSender);\n\n    _this = _super.call(this, props);\n    _this.onReceiveAccessTokenMessage = _this.onReceiveAccessTokenMessage.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** @private */\n\n\n  _createClass(AccessTokenSender, [{\n    key: \"onReceiveAccessTokenMessage\",\n    value: function onReceiveAccessTokenMessage(e) {\n      var _this$props = this.props,\n          handleAccessTokenMessage = _this$props.handleAccessTokenMessage,\n          url = _this$props.url;\n      if (e.data && e.data.messageId && e.data.messageId === url) handleAccessTokenMessage(e.data);\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var url = this.props.url;\n      if (!url) return /*#__PURE__*/React.createElement(React.Fragment, null);\n      /**\n      login, clickthrough/kiosk open @id, wait for close\n      external, no-op\n      */\n\n      return /*#__PURE__*/React.createElement(IComCom, {\n        attributes: {\n          'aria-hidden': true,\n          height: 1,\n          src: \"\".concat(url, \"?origin=\").concat(window.origin, \"&messageId=\").concat(url),\n          style: {\n            visibility: 'hidden'\n          },\n          width: 1\n        },\n        handleReceiveMessage: this.onReceiveAccessTokenMessage\n      });\n    }\n  }]);\n\n  return AccessTokenSender;\n}(Component);\nAccessTokenSender.defaultProps = {\n  url: undefined\n};","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport { Component } from 'react';\n/**\n * Opens a new window for click\n */\n\nexport var NewWindow = /*#__PURE__*/function (_Component) {\n  _inherits(NewWindow, _Component);\n\n  var _super = _createSuper(NewWindow);\n  /** */\n\n\n  function NewWindow(props) {\n    var _this;\n\n    _classCallCheck(this, NewWindow);\n\n    _this = _super.call(this, props);\n    _this.released = undefined;\n    _this.window = null;\n    _this.checkIfWindowClosed = null;\n    return _this;\n  }\n  /** */\n\n\n  _createClass(NewWindow, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.openWindow();\n    }\n    /**\n     * Close the opened window we unmount\n     */\n\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.window) {\n        this.window.close();\n      }\n    }\n    /** @private */\n\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      var _this$props = this.props,\n          onClose = _this$props.onClose,\n          url = _this$props.url;\n      if (this.released) return;\n      this.released = true;\n      clearInterval(this.checkIfWindowClosed);\n      onClose(url);\n    }\n    /** */\n\n  }, {\n    key: \"openWindow\",\n    value: function openWindow() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          depWindow = _this$props2.depWindow,\n          features = _this$props2.features,\n          name = _this$props2.name,\n          url = _this$props2.url;\n      this.window = (depWindow || window).open(url, name, features);\n      this.released = false;\n      this.checkIfWindowClosed = setInterval(function () {\n        if (!_this2.window || _this2.window.closed) {\n          _this2.onClose();\n        }\n      }, 250);\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return NewWindow;\n}(Component);\nNewWindow.defaultProps = {\n  depWindow: undefined,\n  features: undefined,\n  name: undefined\n};","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Collapse from '@material-ui/core/Collapse';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Typography from '@material-ui/core/Typography';\nimport LockIcon from '@material-ui/icons/LockSharp';\nimport SanitizedHtml from '../containers/SanitizedHtml';\nimport { PluginHook } from './PluginHook';\n/** */\n\nexport var WindowAuthenticationBar = /*#__PURE__*/function (_Component) {\n  _inherits(WindowAuthenticationBar, _Component);\n\n  var _super = _createSuper(WindowAuthenticationBar);\n  /** */\n\n\n  function WindowAuthenticationBar(props) {\n    var _this;\n\n    _classCallCheck(this, WindowAuthenticationBar);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      open: false\n    };\n    _this.setOpen = _this.setOpen.bind(_assertThisInitialized(_this));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(WindowAuthenticationBar, [{\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      var onConfirm = this.props.onConfirm;\n      this.setOpen(false);\n      onConfirm();\n    }\n    /** Toggle the full description */\n\n  }, {\n    key: \"setOpen\",\n    value: function setOpen(open) {\n      this.setState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          open: open\n        });\n      });\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          confirmButton = _this$props.confirmButton,\n          continueLabel = _this$props.continueLabel,\n          header = _this$props.header,\n          description = _this$props.description,\n          icon = _this$props.icon,\n          label = _this$props.label,\n          t = _this$props.t,\n          ruleSet = _this$props.ruleSet,\n          hasLogoutService = _this$props.hasLogoutService,\n          status = _this$props.status,\n          ConfirmProps = _this$props.ConfirmProps;\n      if (status === 'ok' && !hasLogoutService) return null;\n      var open = this.state.open;\n      var button = /*#__PURE__*/React.createElement(Button, Object.assign({\n        onClick: this.onSubmit,\n        className: classes.buttonInvert,\n        color: \"secondary\"\n      }, ConfirmProps), confirmButton || t('login'));\n\n      if (!description && !header) {\n        return /*#__PURE__*/React.createElement(Paper, {\n          square: true,\n          elevation: 4,\n          color: \"secondary\",\n          classes: {\n            root: classes.paper\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.topBar\n        }, icon || /*#__PURE__*/React.createElement(LockIcon, {\n          className: classes.icon\n        }), /*#__PURE__*/React.createElement(Typography, {\n          className: classes.label,\n          component: \"h3\",\n          variant: \"body1\",\n          color: \"inherit\"\n        }, ruleSet ? /*#__PURE__*/React.createElement(SanitizedHtml, {\n          htmlString: label,\n          ruleSet: ruleSet\n        }) : label), /*#__PURE__*/React.createElement(PluginHook, this.props), button));\n      }\n\n      return /*#__PURE__*/React.createElement(Paper, {\n        square: true,\n        elevation: 4,\n        color: \"secondary\",\n        classes: {\n          root: classes.paper\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        fullWidth: true,\n        className: classes.topBar,\n        onClick: function onClick() {\n          return _this2.setOpen(true);\n        },\n        component: \"div\",\n        color: \"inherit\"\n      }, icon || /*#__PURE__*/React.createElement(LockIcon, {\n        className: classes.icon\n      }), /*#__PURE__*/React.createElement(Typography, {\n        className: classes.label,\n        component: \"h3\",\n        variant: \"body1\",\n        color: \"inherit\"\n      }, ruleSet ? /*#__PURE__*/React.createElement(SanitizedHtml, {\n        htmlString: label,\n        ruleSet: ruleSet\n      }) : label), /*#__PURE__*/React.createElement(PluginHook, this.props), /*#__PURE__*/React.createElement(\"span\", {\n        className: classes.fauxButton\n      }, !open && /*#__PURE__*/React.createElement(Typography, {\n        variant: \"button\",\n        color: \"inherit\"\n      }, continueLabel || t('continue')))), /*#__PURE__*/React.createElement(Collapse, {\n        \"in\": open,\n        onClose: function onClose() {\n          return _this2.setOpen(false);\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\",\n        color: \"inherit\",\n        className: classes.expanded\n      }, ruleSet ? /*#__PURE__*/React.createElement(SanitizedHtml, {\n        htmlString: header,\n        ruleSet: ruleSet\n      }) : header, header && description ? ': ' : '', ruleSet ? /*#__PURE__*/React.createElement(SanitizedHtml, {\n        htmlString: description,\n        ruleSet: ruleSet\n      }) : description), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          return _this2.setOpen(false);\n        },\n        color: \"inherit\"\n      }, t('cancel')), button)));\n    }\n  }]);\n\n  return WindowAuthenticationBar;\n}(Component);\nWindowAuthenticationBar.defaultProps = {\n  confirmButton: undefined,\n  ConfirmProps: {},\n  continueLabel: undefined,\n  description: undefined,\n  hasLogoutService: true,\n  header: undefined,\n  icon: undefined,\n  ruleSet: 'iiif',\n  status: undefined,\n  t: function t(k) {\n    return k;\n  }\n};","import { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowAuthenticationBar } from '../components/WindowAuthenticationBar';\n/**\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: number|string},\n * windowTopBarStyle: {minHeight: number, paddingLeft: number, backgroundColor: string}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    buttonInvert: {\n      '&:hover': {\n        backgroundColor: fade(theme.palette.secondary.contrastText, 1 - theme.palette.action.hoverOpacity)\n      },\n      backgroundColor: theme.palette.secondary.contrastText,\n      marginLeft: theme.spacing(5),\n      paddingBottom: 0,\n      paddingTop: 0\n    },\n    expanded: {\n      paddingLeft: theme.spacing(),\n      paddingRight: theme.spacing()\n    },\n    failure: {\n      backgroundColor: theme.palette.error.dark\n    },\n    fauxButton: {\n      marginLeft: theme.spacing(2.5)\n    },\n    icon: {\n      marginRight: theme.spacing(1.5),\n      verticalAlign: 'text-bottom'\n    },\n    label: {\n      lineHeight: 2.25\n    },\n    paper: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText,\n      cursor: 'pointer'\n    },\n    topBar: {\n      '&:hover': {\n        backgroundColor: theme.palette.secondary.main\n      },\n      alignItems: 'center',\n      display: 'flex',\n      justifyContent: 'inherit',\n      padding: theme.spacing(1),\n      textTransform: 'none'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withPlugins('WindowAuthenticationBar'));\nexport default enhance(WindowAuthenticationBar);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport { AccessTokenSender } from './AccessTokenSender';\nimport { NewWindow } from './NewWindow';\nimport WindowAuthenticationBar from '../containers/WindowAuthenticationBar';\n/**\n * Opens a new window for click\n */\n\nexport var IIIFAuthentication = /*#__PURE__*/function (_Component) {\n  _inherits(IIIFAuthentication, _Component);\n\n  var _super = _createSuper(IIIFAuthentication);\n  /** */\n\n\n  function IIIFAuthentication(props) {\n    var _this;\n\n    _classCallCheck(this, IIIFAuthentication);\n\n    _this = _super.call(this, props);\n    _this.performLogout = _this.performLogout.bind(_assertThisInitialized(_this));\n    _this.onReceiveAccessTokenMessage = _this.onReceiveAccessTokenMessage.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(IIIFAuthentication, [{\n    key: \"onReceiveAccessTokenMessage\",\n    value: function onReceiveAccessTokenMessage(payload) {\n      var _this$props = this.props,\n          authServiceId = _this$props.authServiceId,\n          accessTokenServiceId = _this$props.accessTokenServiceId,\n          resolveAccessTokenRequest = _this$props.resolveAccessTokenRequest;\n      resolveAccessTokenRequest(authServiceId, accessTokenServiceId, payload);\n    }\n    /** */\n\n  }, {\n    key: \"defaultAuthBarProps\",\n    value: function defaultAuthBarProps() {\n      var _this$props2 = this.props,\n          authServiceId = _this$props2.authServiceId,\n          windowId = _this$props2.windowId,\n          status = _this$props2.status,\n          logoutServiceId = _this$props2.logoutServiceId;\n      return {\n        authServiceId: authServiceId,\n        hasLogoutService: !!logoutServiceId,\n        status: status,\n        windowId: windowId\n      };\n    }\n    /** handle the IIIF logout workflow */\n\n  }, {\n    key: \"performLogout\",\n    value: function performLogout() {\n      var _this$props3 = this.props,\n          accessTokenServiceId = _this$props3.accessTokenServiceId,\n          authServiceId = _this$props3.authServiceId,\n          features = _this$props3.features,\n          logoutServiceId = _this$props3.logoutServiceId,\n          resetAuthenticationState = _this$props3.resetAuthenticationState,\n          openWindow = _this$props3.openWindow;\n      openWindow(logoutServiceId, undefined, features);\n      resetAuthenticationState({\n        authServiceId: authServiceId,\n        tokenServiceId: accessTokenServiceId\n      });\n    }\n    /** Render the auth bar for logged in users */\n\n  }, {\n    key: \"renderLoggedIn\",\n    value: function renderLoggedIn() {\n      var _this$props4 = this.props,\n          isInteractive = _this$props4.isInteractive,\n          logoutConfirm = _this$props4.logoutConfirm,\n          t = _this$props4.t;\n      if (!isInteractive) return null;\n      return /*#__PURE__*/React.createElement(WindowAuthenticationBar, Object.assign({\n        confirmButton: logoutConfirm || t('logout'),\n        onConfirm: this.performLogout\n      }, this.defaultAuthBarProps()));\n    }\n    /** Render whatever shows up after the interactive login attempt fails */\n\n  }, {\n    key: \"renderFailure\",\n    value: function renderFailure() {\n      var _this$props5 = this.props,\n          handleAuthInteraction = _this$props5.handleAuthInteraction,\n          header = _this$props5.failureHeader,\n          description = _this$props5.failureDescription,\n          t = _this$props5.t,\n          authServiceId = _this$props5.authServiceId,\n          windowId = _this$props5.windowId;\n      return /*#__PURE__*/React.createElement(WindowAuthenticationBar, Object.assign({\n        header: header,\n        description: description,\n        confirmButton: t('retry'),\n        onConfirm: function onConfirm() {\n          return handleAuthInteraction(windowId, authServiceId);\n        }\n      }, this.defaultAuthBarProps()));\n    }\n    /** Render the login bar after we're logging in */\n\n  }, {\n    key: \"renderLoggingInCookie\",\n    value: function renderLoggingInCookie() {\n      var _this$props6 = this.props,\n          accessTokenServiceId = _this$props6.accessTokenServiceId,\n          authServiceId = _this$props6.authServiceId,\n          resolveAuthenticationRequest = _this$props6.resolveAuthenticationRequest,\n          features = _this$props6.features;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.renderLogin(), /*#__PURE__*/React.createElement(NewWindow, {\n        name: \"IiifLoginSender\",\n        url: \"\".concat(authServiceId, \"?origin=\").concat(window.origin),\n        features: features,\n        onClose: function onClose() {\n          return resolveAuthenticationRequest(authServiceId, accessTokenServiceId);\n        }\n      }));\n    }\n    /** Render the login bar after we're logging in */\n\n  }, {\n    key: \"renderLoggingInToken\",\n    value: function renderLoggingInToken() {\n      var accessTokenServiceId = this.props.accessTokenServiceId;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.renderLogin(), /*#__PURE__*/React.createElement(AccessTokenSender, {\n        handleAccessTokenMessage: this.onReceiveAccessTokenMessage,\n        url: accessTokenServiceId\n      }));\n    }\n    /** Render a login bar */\n\n  }, {\n    key: \"renderLogin\",\n    value: function renderLogin() {\n      var _this$props7 = this.props,\n          confirm = _this$props7.confirm,\n          description = _this$props7.description,\n          handleAuthInteraction = _this$props7.handleAuthInteraction,\n          header = _this$props7.header,\n          isInteractive = _this$props7.isInteractive,\n          label = _this$props7.label,\n          authServiceId = _this$props7.authServiceId,\n          windowId = _this$props7.windowId;\n      if (!isInteractive) return null;\n      return /*#__PURE__*/React.createElement(WindowAuthenticationBar, Object.assign({\n        header: header,\n        description: description,\n        label: label,\n        confirmButton: confirm,\n        onConfirm: function onConfirm() {\n          return handleAuthInteraction(windowId, authServiceId);\n        }\n      }, this.defaultAuthBarProps()));\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props8 = this.props,\n          authServiceId = _this$props8.authServiceId,\n          status = _this$props8.status;\n      if (!authServiceId) return null;\n      if (status === null) return this.renderLogin();\n      if (status === 'cookie') return this.renderLoggingInCookie();\n      if (status === 'token') return this.renderLoggingInToken();\n      if (status === 'failed') return this.renderFailure();\n      if (status === 'ok') return this.renderLoggedIn();\n      return null;\n    }\n  }]);\n\n  return IIIFAuthentication;\n}(Component);\nIIIFAuthentication.defaultProps = {\n  confirm: undefined,\n  description: undefined,\n  failureDescription: undefined,\n  failureHeader: undefined,\n  features: 'centerscreen',\n  header: undefined,\n  isInteractive: true,\n  label: undefined,\n  logoutConfirm: undefined,\n  logoutServiceId: undefined,\n  openWindow: window.open,\n  status: null,\n  t: function t(k) {\n    return k;\n  }\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { Utils } from 'manifesto.js/dist-esmodule/Utils';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getAuth, getAuthProfiles, selectCurrentAuthServices, getAccessTokens } from '../state/selectors';\nimport { IIIFAuthentication } from '../components/IIIFAuthentication';\n/**\n * mapStateToProps - to hook up connect\n * @memberof FullScreenButton\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  var services = selectCurrentAuthServices(state, {\n    windowId: windowId\n  }); // TODO: get the most actionable auth service...\n\n  var service = services[0];\n  var accessTokenService = service && (Utils.getService(service, 'http://iiif.io/api/auth/1/token') || Utils.getService(service, 'http://iiif.io/api/auth/0/token'));\n  var logoutService = service && (Utils.getService(service, 'http://iiif.io/api/auth/1/logout') || Utils.getService(service, 'http://iiif.io/api/auth/0/logout'));\n  var authStatuses = getAuth(state);\n  var authStatus = service && authStatuses[service.id];\n  var accessTokens = getAccessTokens(state);\n  var accessTokenStatus = accessTokenService && accessTokens[accessTokenService.id];\n  var status = null;\n\n  if (!authStatus) {\n    status = null;\n  } else if (authStatus.isFetching) {\n    if (authStatus.windowId === windowId) status = 'cookie';\n  } else if (accessTokenStatus && accessTokenStatus.isFetching) {\n    if (authStatus.windowId === windowId) status = 'token';\n  } else if (authStatus.ok) {\n    status = 'ok';\n  } else if (authStatus.ok === false) {\n    status = 'failed';\n  }\n\n  var authProfiles = getAuthProfiles(state);\n  var profile = service && service.getProfile();\n  var isInteractive = authProfiles.some(function (config) {\n    return config.profile === profile && !(config.external || config.kiosk);\n  });\n  return {\n    accessTokenServiceId: accessTokenService && accessTokenService.id,\n    authServiceId: service && service.id,\n    confirm: service && service.getConfirmLabel(),\n    description: service && service.getDescription(),\n    failureDescription: service && service.getFailureDescription(),\n    failureHeader: service && service.getFailureHeader(),\n    header: service && service.getHeader(),\n    isInteractive: isInteractive,\n    label: service && service.getLabel()[0].value,\n    logoutConfirm: logoutService && logoutService.getLabel()[0] && logoutService.getLabel()[0].value,\n    logoutServiceId: logoutService && logoutService.id,\n    profile: profile,\n    status: status\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  handleAuthInteraction: actions.addAuthenticationRequest,\n  resetAuthenticationState: actions.resetAuthenticationState,\n  resolveAccessTokenRequest: actions.resolveAccessTokenRequest,\n  resolveAuthenticationRequest: actions.resolveAuthenticationRequest\n};\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('IIIFAuthentication'));\nexport default enhance(IIIFAuthentication);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport cn from 'classnames';\nimport Paper from '@material-ui/core/Paper';\nimport { MosaicWindowContext } from 'react-mosaic-component/lib/contextTypes';\nimport ns from '../config/css-ns';\nimport WindowTopBar from '../containers/WindowTopBar';\nimport PrimaryWindow from '../containers/PrimaryWindow';\nimport CompanionArea from '../containers/CompanionArea';\nimport MinimalWindow from '../containers/MinimalWindow';\nimport ErrorContent from '../containers/ErrorContent';\nimport IIIFAuthentication from '../containers/IIIFAuthentication';\nimport { PluginHook } from './PluginHook';\n/**\n * Represents a Window in the mirador workspace\n * @param {object} window\n */\n\nexport var Window = /*#__PURE__*/function (_Component) {\n  _inherits(Window, _Component);\n\n  var _super = _createSuper(Window);\n  /** */\n\n\n  function Window(props) {\n    var _this;\n\n    _classCallCheck(this, Window);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n  /** */\n\n\n  _createClass(Window, [{\n    key: \"wrappedTopBar\",\n\n    /**\n     * wrappedTopBar - will conditionally wrap a WindowTopBar for needed\n     * additional functionality based on workspace type\n     */\n    value: function wrappedTopBar() {\n      var _this$props = this.props,\n          windowId = _this$props.windowId,\n          workspaceType = _this$props.workspaceType,\n          windowDraggable = _this$props.windowDraggable;\n      var topBar = /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(WindowTopBar, {\n        windowId: windowId,\n        windowDraggable: windowDraggable\n      }), /*#__PURE__*/React.createElement(IIIFAuthentication, {\n        windowId: windowId\n      }));\n\n      if (workspaceType === 'mosaic' && windowDraggable) {\n        var mosaicWindowActions = this.context.mosaicWindowActions;\n        return mosaicWindowActions.connectDragSource(topBar);\n      }\n\n      return topBar;\n    }\n    /**\n     * Renders things\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          focusWindow = _this$props2.focusWindow,\n          label = _this$props2.label,\n          isFetching = _this$props2.isFetching,\n          maximized = _this$props2.maximized,\n          sideBarOpen = _this$props2.sideBarOpen,\n          view = _this$props2.view,\n          windowId = _this$props2.windowId,\n          classes = _this$props2.classes,\n          t = _this$props2.t,\n          manifestError = _this$props2.manifestError;\n      var _this$state = this.state,\n          error = _this$state.error,\n          hasError = _this$state.hasError;\n\n      if (hasError) {\n        return /*#__PURE__*/React.createElement(MinimalWindow, {\n          windowId: windowId\n        }, /*#__PURE__*/React.createElement(ErrorContent, {\n          error: error,\n          windowId: windowId\n        }));\n      }\n\n      return /*#__PURE__*/React.createElement(Paper, {\n        onFocus: focusWindow,\n        component: \"section\",\n        elevation: 1,\n        id: windowId,\n        className: cn(classes.window, ns('window'), maximized ? classes.maximized : null),\n        \"aria-label\": t('window', {\n          label: label\n        })\n      }, this.wrappedTopBar(), manifestError && /*#__PURE__*/React.createElement(ErrorContent, {\n        error: {\n          stack: manifestError\n        },\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.middle\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.middleLeft\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.primaryWindow\n      }, /*#__PURE__*/React.createElement(PrimaryWindow, {\n        view: view,\n        windowId: windowId,\n        isFetching: isFetching,\n        sideBarOpen: sideBarOpen\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.companionAreaBottom\n      }, /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"bottom\"\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.companionAreaRight\n      }, /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"right\"\n      }), /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"far-right\"\n      }))), /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"far-bottom\"\n      }), /*#__PURE__*/React.createElement(PluginHook, this.props));\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      // Update state so the next render will show the fallback UI.\n      return {\n        error: error,\n        hasError: true\n      };\n    }\n  }]);\n\n  return Window;\n}(Component);\nWindow.contextType = MosaicWindowContext;\nWindow.defaultProps = {\n  classes: {},\n  focusWindow: function focusWindow() {},\n  isFetching: false,\n  label: null,\n  manifestError: null,\n  maximized: false,\n  sideBarOpen: false,\n  view: undefined,\n  windowDraggable: null,\n  workspaceType: null\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { Window } from '../components/Window';\nimport { getManifestStatus, getManifestTitle, getThumbnailNavigationPosition, getWindow, getWorkspaceType, getWindowDraggability, getWindowViewType, getManifestError } from '../state/selectors';\n/**\n * mapStateToProps - used to hook up connect to action creators\n * @memberof Window\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    isFetching: getManifestStatus(state, {\n      windowId: windowId\n    }).isFetching,\n    label: getManifestTitle(state, {\n      windowId: windowId\n    }),\n    manifestError: getManifestError(state, {\n      windowId: windowId\n    }),\n    maximized: (getWindow(state, {\n      windowId: windowId\n    }) || {}).maximized,\n    sideBarOpen: (getWindow(state, {\n      windowId: windowId\n    }) || {}).sideBarOpen,\n    thumbnailNavigationPosition: getThumbnailNavigationPosition(state, {\n      windowId: windowId\n    }),\n    view: getWindowViewType(state, {\n      windowId: windowId\n    }),\n    window: getWindow(state, {\n      windowId: windowId\n    }),\n    windowDraggable: getWindowDraggability(state, {\n      windowId: windowId\n    }),\n    workspaceType: getWorkspaceType(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {\n  var windowId = _ref2.windowId;\n  return {\n    focusWindow: function focusWindow() {\n      return dispatch(actions.focusWindow(windowId));\n    }\n  };\n};\n/**\n * @param theme\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    companionAreaBottom: {\n      display: 'flex',\n      flex: '0',\n      flexBasis: 'auto',\n      minHeight: 0\n    },\n    companionAreaRight: {\n      display: 'flex',\n      flex: '0 1 auto',\n      minHeight: 0\n    },\n    maximized: {},\n    middle: {\n      display: 'flex',\n      flex: '1',\n      flexDirection: 'row',\n      minHeight: 0\n    },\n    middleLeft: {\n      display: 'flex',\n      flex: '1',\n      flexDirection: 'column',\n      minHeight: 0\n    },\n    primaryWindow: {\n      display: 'flex',\n      flex: '1',\n      height: '300px',\n      minHeight: 0,\n      position: 'relative'\n    },\n    thumbnailArea: {\n      backgroundColor: theme.palette.shades.dark\n    },\n    thumbnailAreaBottom: {},\n    thumbnailAreaRight: {\n      minWidth: 100\n    },\n    window: {\n      '&$maximized': {\n        left: 0,\n        position: 'absolute',\n        top: 0,\n        zIndex: theme.zIndex.modal - 1\n      },\n      backgroundColor: theme.palette.shades.dark,\n      borderRadius: 0,\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      minHeight: 0,\n      overflow: 'hidden',\n      width: '100%'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('Window'));\nexport default enhance(Window);","import React from 'react';\nimport MinimalWindow from '../containers/MinimalWindow';\n/**\n * MosaicRenderPreview is used to for the preview when dragging a mosaic window/tile\n*/\n\nexport function MosaicRenderPreview(props) {\n  var t = props.t,\n      title = props.title,\n      windowId = props.windowId;\n  return /*#__PURE__*/React.createElement(MinimalWindow, {\n    windowId: \"\".concat(windowId, \"-preview\"),\n    label: t('previewWindowTitle', {\n      title: title\n    }),\n    ariaLabel: false\n  });\n}\nMosaicRenderPreview.defaultProps = {\n  t: function t(k) {\n    return k;\n  },\n  title: ''\n};","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getManifestTitle } from '../state/selectors';\nimport { MosaicRenderPreview } from '../components/MosaicRenderPreview';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    title: getManifestTitle(state, {\n      windowId: windowId\n    })\n  };\n};\n/**\n *\n * @param theme\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    preview: _objectSpread({}, theme.typography.h4)\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(), connect(mapStateToProps, null), withPlugins('MosaicRenderPreview'));\nexport default enhance(MosaicRenderPreview);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { createRemoveUpdate, updateTree } from 'react-mosaic-component/lib/util/mosaicUpdates';\nimport { getNodeAtPath, getOtherDirection, getPathToCorner, Corner } from 'react-mosaic-component/lib/util/mosaicUtilities';\nimport dropRight from 'lodash/dropRight';\n/** */\n\nvar MosaicLayout = /*#__PURE__*/function () {\n  /** */\n  function MosaicLayout(layout) {\n    _classCallCheck(this, MosaicLayout);\n\n    this.layout = layout;\n  }\n  /** */\n\n\n  _createClass(MosaicLayout, [{\n    key: \"pathToCorner\",\n    value: function pathToCorner() {\n      var corner = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Corner.TOP_RIGHT;\n      return getPathToCorner(this.layout, corner);\n    }\n    /** */\n\n  }, {\n    key: \"pathToParent\",\n    value: function pathToParent(path) {\n      return getNodeAtPath(this.layout, dropRight(path));\n    }\n    /** */\n\n  }, {\n    key: \"nodeAtPath\",\n    value: function nodeAtPath(path) {\n      return getNodeAtPath(this.layout, path);\n    }\n    /**\n     * addWindows - updates the layout with new windows using an algorithm ported\n     * from the react-mosaic-components examples. Will always add to the Top Right\n     * https://github.com/nomcopter/react-mosaic/blob/5081df8d1528d4c3b83a72763a46a30b3048fe95/demo/ExampleApp.tsx#L119-L154\n     * @param {Array} addedWindowIds [description]\n     */\n\n  }, {\n    key: \"addWindows\",\n    value: function addWindows(addedWindowIds) {\n      var _this = this;\n\n      addedWindowIds.forEach(function (windowId, i) {\n        var path = _this.pathToCorner();\n\n        var parent = _this.pathToParent(path);\n\n        var destination = _this.nodeAtPath(path);\n\n        var direction = parent ? getOtherDirection(parent.direction) : 'row';\n        var first;\n        var second;\n\n        if (direction === 'row') {\n          first = destination;\n          second = addedWindowIds[i];\n        } else {\n          first = addedWindowIds[i];\n          second = destination;\n        }\n\n        var update = {\n          path: path,\n          spec: {\n            $set: {\n              direction: direction,\n              first: first,\n              second: second\n            }\n          }\n        }; // We cannot batch the updates together because we need to recalculate\n        // the new location for each new window\n\n        _this.layout = updateTree(_this.layout, [update]);\n      });\n    }\n    /**\n     * removeWindows - Generate a set of \"removeUpdates\" to update layout binary\n     * tree. Then update the layout.\n     * @param  {Array} removedWindowIds\n     * @param  {Object} windowPaths - a lookup table for window paths\n     */\n\n  }, {\n    key: \"removeWindows\",\n    value: function removeWindows(removedWindowIds, windowPaths) {\n      var _this2 = this;\n\n      var removeUpdates = removedWindowIds.map(function (windowId) {\n        return createRemoveUpdate(_this2.layout, windowPaths[windowId]);\n      });\n      this.layout = updateTree(this.layout, removeUpdates);\n    }\n  }]);\n\n  return MosaicLayout;\n}();\n\nexport { MosaicLayout as default };","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React from 'react';\nimport { MosaicWithoutDragDropContext, MosaicWindow, getLeaves, createBalancedTreeFromLeaves } from 'react-mosaic-component';\nimport difference from 'lodash/difference';\nimport isEqual from 'lodash/isEqual';\nimport classNames from 'classnames';\nimport MosaicRenderPreview from '../containers/MosaicRenderPreview';\nimport Window from '../containers/Window';\nimport MosaicLayout from '../lib/MosaicLayout';\n/**\n * Represents a work area that contains any number of windows\n * @memberof Workspace\n * @private\n */\n\nexport var WorkspaceMosaic = /*#__PURE__*/function (_React$Component) {\n  _inherits(WorkspaceMosaic, _React$Component);\n\n  var _super = _createSuper(WorkspaceMosaic);\n  /**\n   */\n\n\n  function WorkspaceMosaic(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceMosaic);\n\n    _this = _super.call(this, props);\n    _this.tileRenderer = _this.tileRenderer.bind(_assertThisInitialized(_this));\n    _this.mosaicChange = _this.mosaicChange.bind(_assertThisInitialized(_this));\n    _this.determineWorkspaceLayout = _this.determineWorkspaceLayout.bind(_assertThisInitialized(_this));\n    _this.zeroStateView = /*#__PURE__*/React.createElement(\"div\", null);\n    _this.windowPaths = {};\n    _this.toolbarControls = [];\n    _this.additionalControls = [];\n    return _this;\n  }\n  /** */\n\n\n  _createClass(WorkspaceMosaic, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var updateWorkspaceMosaicLayout = this.props.updateWorkspaceMosaicLayout;\n      var newLayout = this.determineWorkspaceLayout();\n      if (newLayout) updateWorkspaceMosaicLayout(newLayout);\n    }\n    /** */\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          windowIds = _this$props.windowIds,\n          layout = _this$props.layout,\n          updateWorkspaceMosaicLayout = _this$props.updateWorkspaceMosaicLayout;\n      var prevWindows = prevProps.windowIds; // Handles when Windows are added (not via Add Resource UI) Could be a workspace import\n\n      if (!windowIds.every(function (e) {\n        return prevWindows.includes(e);\n      })) {\n        var newLayout = this.determineWorkspaceLayout();\n        if (!isEqual(newLayout, layout)) updateWorkspaceMosaicLayout(newLayout);\n        return;\n      } // Handles when Windows are removed from the state\n\n\n      if (!prevWindows.every(function (e) {\n        return windowIds.includes(e);\n      })) {\n        // There are no more remaining Windows, just return an empty layout\n        if (windowIds.length === 0) {\n          updateWorkspaceMosaicLayout(null);\n          return;\n        }\n\n        var removedWindows = difference(prevWindows, windowIds);\n\n        var _newLayout = new MosaicLayout(layout);\n\n        _newLayout.removeWindows(removedWindows, this.windowPaths);\n\n        updateWorkspaceMosaicLayout(_newLayout.layout);\n      }\n    }\n    /**\n     * bookkeepPath - used to book keep Window's path's\n     * @param  {String} windowId   [description]\n     * @param  {Array} path [description]\n     */\n\n  }, {\n    key: \"bookkeepPath\",\n    value: function bookkeepPath(windowId, path) {\n      this.windowPaths[windowId] = path;\n    }\n    /**\n     * Used to determine whether or not a \"new\" layout should be autogenerated.\n     */\n\n  }, {\n    key: \"determineWorkspaceLayout\",\n    value: function determineWorkspaceLayout() {\n      var _this$props2 = this.props,\n          windowIds = _this$props2.windowIds,\n          layout = _this$props2.layout;\n      var leaveKeys = getLeaves(layout); // Windows were added\n\n      if (!windowIds.every(function (e) {\n        return leaveKeys.includes(e);\n      })) {\n        // No current layout, so just generate a new one\n        if (leaveKeys.length < 2) {\n          return createBalancedTreeFromLeaves(windowIds);\n        } // Add new windows to layout\n\n\n        var addedWindows = difference(windowIds, leaveKeys);\n        var newLayout = new MosaicLayout(layout);\n        newLayout.addWindows(addedWindows);\n        return newLayout.layout;\n      } // Windows were removed (perhaps in a different Workspace). We don't have a\n      // way to reconfigure.. so we have to random generate\n\n\n      if (!leaveKeys.every(function (e) {\n        return windowIds.includes(e);\n      })) {\n        return createBalancedTreeFromLeaves(windowIds);\n      }\n\n      return layout;\n    }\n    /** */\n\n  }, {\n    key: \"tileRenderer\",\n\n    /**\n     * Render a tile (Window) in the Mosaic.\n     */\n    value: function tileRenderer(id, path) {\n      var _this$props3 = this.props,\n          windowIds = _this$props3.windowIds,\n          workspaceId = _this$props3.workspaceId;\n      if (!windowIds.includes(id)) return null;\n      this.bookkeepPath(id, path);\n      return /*#__PURE__*/React.createElement(MosaicWindow, {\n        toolbarControls: this.toolbarControls,\n        additionalControls: this.additionalControls,\n        path: path,\n        windowId: id,\n        renderPreview: WorkspaceMosaic.renderPreview\n      }, /*#__PURE__*/React.createElement(Window, {\n        key: \"\".concat(id, \"-\").concat(workspaceId),\n        windowId: id\n      }));\n    }\n    /**\n     * Update the redux store when the Mosaic is changed.\n     */\n\n  }, {\n    key: \"mosaicChange\",\n    value: function mosaicChange(newLayout) {\n      var updateWorkspaceMosaicLayout = this.props.updateWorkspaceMosaicLayout;\n      updateWorkspaceMosaicLayout(newLayout);\n    }\n    /**\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          layout = _this$props4.layout,\n          classes = _this$props4.classes;\n      return /*#__PURE__*/React.createElement(MosaicWithoutDragDropContext, {\n        renderTile: this.tileRenderer,\n        initialValue: layout || this.determineWorkspaceLayout(),\n        onChange: this.mosaicChange,\n        className: classNames('mirador-mosaic', classes.root),\n        zeroStateView: this.zeroStateView\n      });\n    }\n  }], [{\n    key: \"renderPreview\",\n    value: function renderPreview(mosaicProps) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mosaic-preview\",\n        \"aria-hidden\": true\n      }, /*#__PURE__*/React.createElement(MosaicRenderPreview, {\n        windowId: mosaicProps.windowId\n      }));\n    }\n  }]);\n\n  return WorkspaceMosaic;\n}(React.Component);\nWorkspaceMosaic.defaultProps = {\n  layout: undefined,\n  windowIds: []\n};","// Generated using jss convert node_modules/react-mosaic-component/react-mosaic-component.css > src/styles/react-mosaic-component.js\n// .mosaic-blueprint-theme styles have also been removed\nvar globalReactMosaicStyles = {\n  '@global': {\n    '.mosaic': {\n      height: '100%',\n      width: '100%'\n    },\n    '.mosaic, .mosaic > *': {\n      boxSizing: 'border-box'\n    },\n    '.mosaic .mosaic-zero-state': {\n      position: 'absolute',\n      top: 6,\n      right: 6,\n      bottom: 6,\n      left: 6,\n      width: 'auto',\n      height: 'auto',\n      zIndex: '1'\n    },\n    '.mosaic-root': {\n      position: 'absolute',\n      top: 3,\n      right: 3,\n      bottom: 3,\n      left: 3\n    },\n    '.mosaic-split': {\n      position: 'absolute',\n      zIndex: '1',\n      touchAction: 'none'\n    },\n    '.mosaic-split:hover': {\n      background: 'black'\n    },\n    '.mosaic-split .mosaic-split-line': {\n      position: 'absolute'\n    },\n    '.mosaic-split.-row': {\n      marginLeft: -3,\n      width: 6,\n      cursor: 'ew-resize'\n    },\n    '.mosaic-split.-row .mosaic-split-line': {\n      top: '0',\n      bottom: '0',\n      left: 3,\n      right: 3\n    },\n    '.mosaic-split.-column': {\n      marginTop: -3,\n      height: 6,\n      cursor: 'ns-resize'\n    },\n    '.mosaic-split.-column .mosaic-split-line': {\n      top: 3,\n      bottom: 3,\n      left: '0',\n      right: '0'\n    },\n    '.mosaic-tile': {\n      position: 'absolute',\n      margin: 3\n    },\n    '.mosaic-tile > *': {\n      height: '100%',\n      width: '100%'\n    },\n    '.mosaic-drop-target': {\n      position: 'relative'\n    },\n    '.mosaic-drop-target.drop-target-hover .drop-target-container': {\n      display: 'block'\n    },\n    '.mosaic-drop-target.mosaic > .drop-target-container .drop-target.left': {\n      right: 'calc(100% -  10px )'\n    },\n    '.mosaic-drop-target.mosaic > .drop-target-container .drop-target.right': {\n      left: 'calc(100% -  10px )'\n    },\n    '.mosaic-drop-target.mosaic > .drop-target-container .drop-target.bottom': {\n      top: 'calc(100% -  10px )'\n    },\n    '.mosaic-drop-target.mosaic > .drop-target-container .drop-target.top': {\n      bottom: 'calc(100% -  10px )'\n    },\n    '.mosaic-drop-target .drop-target-container': {\n      position: 'absolute',\n      top: '0',\n      right: '0',\n      bottom: '0',\n      left: '0',\n      display: 'none'\n    },\n    '.mosaic-drop-target .drop-target-container.-dragging': {\n      display: 'block'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target': {\n      position: 'absolute',\n      top: '0',\n      right: '0',\n      bottom: '0',\n      left: '0',\n      background: 'rgba(0, 0, 0, 0.2)',\n      border: '2px solid black',\n      opacity: '0',\n      zIndex: '5'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.left': {\n      right: 'calc(100% -  30% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.right': {\n      left: 'calc(100% -  30% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.bottom': {\n      top: 'calc(100% -  30% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.top': {\n      bottom: 'calc(100% -  30% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover': {\n      opacity: '1'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.left': {\n      right: 'calc(100% -  50% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.right': {\n      left: 'calc(100% -  50% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.bottom': {\n      top: 'calc(100% -  50% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.top': {\n      bottom: 'calc(100% -  50% )'\n    },\n    '.mosaic-window, .mosaic-preview': {\n      position: 'relative',\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      webkitBoxOrient: 'vertical',\n      webkitBoxDirection: 'normal',\n      flexDirection: 'column',\n      overflow: 'hidden',\n      boxShadow: '0 0 1px rgba(0, 0, 0, 0.2)'\n    },\n    '.mosaic-window .mosaic-window-toolbar, .mosaic-preview .mosaic-window-toolbar': {\n      zIndex: '4',\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      webkitBoxPack: 'justify',\n      justifyContent: 'space-between',\n      webkitBoxAlign: 'center',\n      alignItems: 'center',\n      flexShrink: '0',\n      height: 30,\n      background: 'white',\n      boxShadow: '0 1px 1px rgba(0, 0, 0, 0.2)'\n    },\n    '.mosaic-window .mosaic-window-toolbar.draggable, .mosaic-preview .mosaic-window-toolbar.draggable': {\n      cursor: 'move'\n    },\n    '.mosaic-window .mosaic-window-title, .mosaic-preview .mosaic-window-title': {\n      paddingLeft: 15,\n      webkitBoxFlex: '1',\n      flex: '1',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      minHeight: 18\n    },\n    '.mosaic-window .mosaic-window-controls, .mosaic-preview .mosaic-window-controls': {\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      height: '100%'\n    },\n    '.mosaic-window .mosaic-window-controls .separator, .mosaic-preview .mosaic-window-controls .separator': {\n      height: 20,\n      borderLeft: '1px solid black',\n      margin: '5px 4px'\n    },\n    '.mosaic-window .mosaic-window-body, .mosaic-preview .mosaic-window-body': {\n      position: 'relative',\n      webkitBoxFlex: '1',\n      flex: '1',\n      height: '0',\n      background: 'white',\n      zIndex: '1',\n      overflow: 'hidden'\n    },\n    '.mosaic-window .mosaic-window-additional-actions-bar, .mosaic-preview .mosaic-window-additional-actions-bar': {\n      position: 'absolute',\n      top: 30,\n      right: '0',\n      bottom: 'initial',\n      left: '0',\n      height: '0',\n      overflow: 'hidden',\n      background: 'white',\n      webkitBoxPack: 'end',\n      justifyContent: 'flex-end',\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      zIndex: '3'\n    },\n    '.mosaic-window .mosaic-window-additional-actions-bar .bp3-button, .mosaic-preview .mosaic-window-additional-actions-bar .bp3-button': {\n      margin: '0'\n    },\n    '.mosaic-window .mosaic-window-additional-actions-bar .bp3-button:after, .mosaic-preview .mosaic-window-additional-actions-bar .bp3-button:after': {\n      display: 'none'\n    },\n    '.mosaic-window .mosaic-window-body-overlay, .mosaic-preview .mosaic-window-body-overlay': {\n      position: 'absolute',\n      top: '0',\n      right: '0',\n      bottom: '0',\n      left: '0',\n      opacity: '0',\n      background: 'white',\n      display: 'none',\n      zIndex: '2'\n    },\n    '.mosaic-window.additional-controls-open .mosaic-window-additional-actions-bar, .mosaic-preview.additional-controls-open .mosaic-window-additional-actions-bar': {\n      height: 30\n    },\n    '.mosaic-window.additional-controls-open .mosaic-window-body-overlay, .mosaic-preview.additional-controls-open .mosaic-window-body-overlay': {\n      display: 'block'\n    },\n    '.mosaic-window .mosaic-preview, .mosaic-preview .mosaic-preview': {\n      height: '100%',\n      width: '100%',\n      position: 'absolute',\n      zIndex: '0',\n      border: '1px solid black',\n      maxHeight: 400\n    },\n    '.mosaic-window .mosaic-preview .mosaic-window-body, .mosaic-preview .mosaic-preview .mosaic-window-body': {\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      webkitBoxOrient: 'vertical',\n      webkitBoxDirection: 'normal',\n      flexDirection: 'column',\n      webkitBoxAlign: 'center',\n      alignItems: 'center',\n      webkitBoxPack: 'center',\n      justifyContent: 'center'\n    },\n    '.mosaic-window .mosaic-preview h4, .mosaic-preview .mosaic-preview h4': {\n      marginBottom: 10\n    },\n    '.mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.close-button:before': {\n      content: '\\'Close\\''\n    },\n    '.mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.split-button:before': {\n      content: '\\'Split\\''\n    },\n    '.mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.replace-button:before': {\n      content: '\\'Replace\\''\n    },\n    '.mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.expand-button:before': {\n      content: '\\'Expand\\''\n    }\n  }\n};\nexport default globalReactMosaicStyles;","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getWorkspace } from '../state/selectors';\nimport * as actions from '../state/actions';\nimport { WorkspaceMosaic } from '../components/WorkspaceMosaic';\nimport globalReactMosaicStyles from '../styles/react-mosaic-component';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    layout: getWorkspace(state).layout,\n    windowIds: getWorkspace(state).windowIds,\n    workspaceId: getWorkspace(state).id\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  updateWorkspaceMosaicLayout: actions.updateWorkspaceMosaicLayout\n};\n\nvar styles = _objectSpread({\n  root: {\n    '& .mosaic-preview': {\n      boxShadow: 'none'\n    },\n    '& .mosaic-tile': {\n      boxShadow: '0 1px 3px 0 rgba(0, 0, 0, .2), 0 1px 1px 0 rgba(0, 0, 0, .2), 0 2px 1px -1px rgba(0, 0, 0, .2)'\n    },\n    '& .mosaic-window': {\n      boxShadow: 'none'\n    },\n    '& .mosaic-window-toolbar': {\n      display: 'none !important'\n    }\n  }\n}, globalReactMosaicStyles);\n\nvar enhance = compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceMosaic') // further HOC go here\n);\nexport default enhance(WorkspaceMosaic);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React from 'react';\nimport { Rnd } from 'react-rnd';\nimport Window from '../containers/Window';\nimport ns from '../config/css-ns';\n/**\n * Represents a work area that contains any number of windows\n * @memberof Workspace\n * @private\n */\n\nvar WorkspaceElasticWindow = /*#__PURE__*/function (_React$Component) {\n  _inherits(WorkspaceElasticWindow, _React$Component);\n\n  var _super = _createSuper(WorkspaceElasticWindow);\n\n  function WorkspaceElasticWindow() {\n    _classCallCheck(this, WorkspaceElasticWindow);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceElasticWindow, [{\n    key: \"render\",\n\n    /**\n     */\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          companionWindowDimensions = _this$props.companionWindowDimensions,\n          focused = _this$props.focused,\n          layout = _this$props.layout,\n          workspace = _this$props.workspace,\n          updateElasticWindowLayout = _this$props.updateElasticWindowLayout;\n      var offsetX = workspace.width / 2;\n      var offsetY = workspace.height / 2;\n      return /*#__PURE__*/React.createElement(Rnd, {\n        key: \"\".concat(layout.windowId, \"-\").concat(workspace.id),\n        size: {\n          height: layout.height + companionWindowDimensions.height,\n          width: layout.width + companionWindowDimensions.width\n        },\n        position: {\n          x: layout.x + offsetX,\n          y: layout.y + offsetY\n        },\n        bounds: \"parent\",\n        onDragStop: function onDragStop(e, d) {\n          updateElasticWindowLayout(layout.windowId, {\n            x: d.x - offsetX,\n            y: d.y - offsetY\n          });\n        },\n        onResize: function onResize(e, direction, ref, delta, position) {\n          updateElasticWindowLayout(layout.windowId, {\n            height: Number.parseInt(ref.style.height, 10) - companionWindowDimensions.height,\n            width: Number.parseInt(ref.style.width, 10) - companionWindowDimensions.width,\n            x: position.x - offsetX,\n            y: position.y - offsetY\n          });\n        },\n        dragHandleClassName: ns('window-top-bar'),\n        className: focused ? classes.focused : null\n      }, /*#__PURE__*/React.createElement(Window, {\n        windowId: layout.windowId\n      }));\n    }\n  }]);\n\n  return WorkspaceElasticWindow;\n}(React.Component);\n\nWorkspaceElasticWindow.defaultProps = {\n  classes: {},\n  companionWindowDimensions: {\n    height: 0,\n    width: 0\n  },\n  focused: false\n};\nexport default WorkspaceElasticWindow;","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport * as actions from '../state/actions';\nimport WorkspaceElasticWindow from '../components/WorkspaceElasticWindow';\nimport { selectCompanionWindowDimensions, getWorkspace, isFocused, getElasticLayout } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    companionWindowDimensions: selectCompanionWindowDimensions(state, {\n      windowId: windowId\n    }),\n    focused: isFocused(state, {\n      windowId: windowId\n    }),\n    layout: getElasticLayout(state)[windowId],\n    workspace: getWorkspace(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n  return {\n    updateElasticWindowLayout: function updateElasticWindowLayout(windowId, position) {\n      dispatch(actions.updateElasticWindowLayout(windowId, position));\n    }\n  };\n};\n/**\n * @param theme\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    focused: {\n      zIndex: theme.zIndex.modal - 1\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps) // further HOC go here\n);\nexport default enhance(WorkspaceElasticWindow);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React from 'react';\nimport { Rnd } from 'react-rnd';\nimport ResizeObserver from 'react-resize-observer';\nimport classNames from 'classnames';\nimport WorkspaceElasticWindow from '../containers/WorkspaceElasticWindow';\nimport ns from '../config/css-ns';\n/**\n * Represents a work area that contains any number of windows\n * @memberof Workspace\n * @private\n */\n\nvar WorkspaceElastic = /*#__PURE__*/function (_React$Component) {\n  _inherits(WorkspaceElastic, _React$Component);\n\n  var _super = _createSuper(WorkspaceElastic);\n\n  function WorkspaceElastic() {\n    _classCallCheck(this, WorkspaceElastic);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceElastic, [{\n    key: \"render\",\n\n    /**\n     */\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          workspace = _this$props.workspace,\n          elasticLayout = _this$props.elasticLayout,\n          setWorkspaceViewportDimensions = _this$props.setWorkspaceViewportDimensions,\n          setWorkspaceViewportPosition = _this$props.setWorkspaceViewportPosition;\n      var viewportPosition = workspace.viewportPosition;\n      var offsetX = workspace.width / 2;\n      var offsetY = workspace.height / 2;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: '100%',\n          position: 'relative',\n          width: '100%'\n        }\n      }, /*#__PURE__*/React.createElement(ResizeObserver, {\n        onResize: function onResize(rect) {\n          setWorkspaceViewportDimensions(rect);\n        }\n      }), /*#__PURE__*/React.createElement(Rnd, {\n        size: {\n          height: workspace.height,\n          width: workspace.width\n        },\n        position: {\n          x: -1 * viewportPosition.x - offsetX,\n          y: -1 * viewportPosition.y - offsetY\n        },\n        enableResizing: {\n          bottom: false,\n          bottomLeft: false,\n          bottomRight: false,\n          left: false,\n          right: false,\n          top: false,\n          topLeft: false,\n          topRight: false\n        },\n        onDragStop: function onDragStop(e, d) {\n          setWorkspaceViewportPosition({\n            x: -1 * d.x - offsetX,\n            y: -1 * d.y - offsetY\n          });\n        },\n        cancel: \".\".concat(ns('window')),\n        className: classNames(classes.workspace, ns('workspace')),\n        disableDragging: !workspace.draggingEnabled\n      }, Object.keys(elasticLayout).map(function (windowId) {\n        return /*#__PURE__*/React.createElement(WorkspaceElasticWindow, {\n          key: windowId,\n          windowId: windowId\n        });\n      })));\n    }\n  }]);\n\n  return WorkspaceElastic;\n}(React.Component);\n\nexport default WorkspaceElastic;","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport WorkspaceElastic from '../components/WorkspaceElastic';\nimport { getElasticLayout, getWorkspace } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    elasticLayout: getElasticLayout(state),\n    workspace: getWorkspace(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n  return {\n    setWorkspaceViewportDimensions: function setWorkspaceViewportDimensions(position) {\n      dispatch(actions.setWorkspaceViewportDimensions(position));\n    },\n    setWorkspaceViewportPosition: function setWorkspaceViewportPosition(position) {\n      dispatch(actions.setWorkspaceViewportPosition(position));\n    },\n    updateElasticWindowLayout: function updateElasticWindowLayout(windowId, position) {\n      dispatch(actions.updateElasticWindowLayout(windowId, position));\n    }\n  };\n};\n\nvar styles = {\n  workspace: {\n    boxSizing: 'border-box',\n    margin: 0,\n    position: 'absolute',\n    transitionDuration: '.7s',\n    // order matters\n    // eslint-disable-next-line sort-keys\n    '& .react-draggable-dragging': {\n      transitionDuration: 'unset'\n    }\n  }\n};\nvar enhance = compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceElastic') // further HOC go here\n);\nexport default enhance(WorkspaceElastic);","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport InsertDriveFileSharpIcon from '@material-ui/icons/InsertDriveFileSharp';\nimport { grey } from '@material-ui/core/colors';\nimport { v4 as uuid } from 'uuid';\nimport { NativeTypes } from 'react-dnd-html5-backend';\nimport { useDrop } from 'react-dnd';\nimport { readImageMetadata } from '../lib/readImageMetadata';\n/** */\n\nexport var handleDrop = function handleDrop(item, monitor, props) {\n  var onDrop = props.onDrop;\n\n  if (item.urls) {\n    item.urls.forEach(function (str) {\n      var url = new URL(str);\n      var manifestId = url.searchParams.get('manifest');\n      var canvasId = url.searchParams.get('canvas');\n      if (manifestId) onDrop({\n        canvasId: canvasId,\n        manifestId: manifestId\n      }, props, monitor);\n    });\n  }\n\n  if (item.files) {\n    var manifestFiles = item.files.filter(function (f) {\n      return f.type === 'application/json';\n    });\n    var manifestPromises = manifestFiles.map(function (file) {\n      return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.addEventListener('load', function () {\n          var manifestJson = reader.result;\n          var manifestId = uuid();\n          if (manifestJson) onDrop({\n            manifestId: manifestId,\n            manifestJson: manifestJson\n          }, props, monitor);\n          resolve();\n        });\n        reader.readAsText(file);\n      });\n    });\n    var imageFiles = item.files.filter(function (_ref) {\n      var type = _ref.type;\n      return type.startsWith('image/');\n    });\n    var imagePromise;\n\n    if (imageFiles.length > 0) {\n      var id = uuid();\n      var imageData = imageFiles.map(function (file) {\n        return readImageMetadata(file);\n      });\n      imagePromise = Promise.all(imageData).then(function (images) {\n        var manifestJson = {\n          '@context': 'http://iiif.io/api/presentation/3/context.json',\n          id: id,\n          items: images.map(function (_ref2, index) {\n            var name = _ref2.name,\n                type = _ref2.type,\n                width = _ref2.width,\n                height = _ref2.height,\n                url = _ref2.url;\n            return {\n              height: height,\n              id: \"\".concat(id, \"/canvas/\").concat(index),\n              items: [{\n                id: \"\".concat(id, \"/canvas/\").concat(index, \"/1\"),\n                items: [{\n                  body: {\n                    format: type,\n                    id: url,\n                    type: 'Image'\n                  },\n                  height: height,\n                  id: \"\".concat(id, \"/canvas/\").concat(index, \"/1/image\"),\n                  motivation: 'painting',\n                  target: \"\".concat(id, \"/canvas/\").concat(index, \"/1\"),\n                  type: 'Annotation',\n                  width: width\n                }],\n                type: 'AnnotationPage'\n              }],\n              label: name,\n              type: 'Canvas',\n              width: width\n            };\n          }),\n          label: images[0].name,\n          type: 'Manifest'\n        };\n        var manifestId = uuid();\n        if (manifestJson) onDrop({\n          manifestId: manifestId,\n          manifestJson: manifestJson\n        }, props, monitor);\n      });\n    }\n\n    return Promise.all([].concat(_toConsumableArray(manifestPromises), [imagePromise]));\n  }\n\n  return undefined;\n};\n/** */\n\nexport var IIIFDropTarget = function IIIFDropTarget(props) {\n  var children = props.children,\n      onDrop = props.onDrop;\n\n  var _useDrop = useDrop({\n    accept: [NativeTypes.URL, NativeTypes.FILE],\n    collect: function collect(monitor) {\n      return {\n        canDrop: monitor.canDrop(),\n        isOver: monitor.isOver()\n      };\n    },\n\n    /** */\n    drop: function drop(item, monitor) {\n      if (!onDrop) return;\n      handleDrop(item, monitor, props);\n    }\n  }),\n      _useDrop2 = _slicedToArray(_useDrop, 2),\n      _useDrop2$ = _useDrop2[0],\n      canDrop = _useDrop2$.canDrop,\n      isOver = _useDrop2$.isOver,\n      drop = _useDrop2[1];\n  /**\n   * Safari reports drag+drop'ed urls as both a file and uri-list\n   * which gets mis-classified by react-dnd.\n   */\n\n\n  var hackForSafari = function hackForSafari(e) {\n    if (!window.safari || !onDrop || !e.dataTransfer) return;\n\n    if (e.dataTransfer.types.includes('Files') && e.dataTransfer.types.includes('text/uri-list')) {\n      var url = e.dataTransfer.getData('text/uri-list');\n      if (!url) return;\n      handleDrop({\n        urls: [url]\n      }, null, props);\n    }\n  };\n\n  var isActive = canDrop && isOver;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: drop,\n    onDrop: hackForSafari,\n    style: {\n      height: '100%',\n      width: '100%'\n    }\n  }, children, /*#__PURE__*/React.createElement(Backdrop, {\n    open: isActive,\n    style: {\n      zIndex: 9999\n    }\n  }, /*#__PURE__*/React.createElement(InsertDriveFileSharpIcon, {\n    style: {\n      color: grey[400],\n      fontSize: 256\n    }\n  })));\n};","/** Extract metadata from an image File */\nexport function readImageMetadata(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    reader.addEventListener('load', function () {\n      var image = new Image();\n      image.addEventListener('load', function () {\n        resolve({\n          height: image.height,\n          name: file.name,\n          type: file.type,\n          url: reader.result,\n          width: image.width\n        });\n      });\n      image.src = reader.result;\n    });\n    reader.readAsDataURL(file);\n  });\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Window from '../containers/Window';\nimport WorkspaceMosaic from '../containers/WorkspaceMosaic';\nimport WorkspaceElastic from '../containers/WorkspaceElastic';\nimport ns from '../config/css-ns';\nimport { IIIFDropTarget } from './IIIFDropTarget';\n/**\n * Represents a work area that contains any number of windows\n * @memberof Workspace\n * @private\n */\n\nexport var Workspace = /*#__PURE__*/function (_React$Component) {\n  _inherits(Workspace, _React$Component);\n\n  var _super = _createSuper(Workspace);\n  /** */\n\n\n  function Workspace(props) {\n    var _this;\n\n    _classCallCheck(this, Workspace);\n\n    _this = _super.call(this, props);\n    _this.handleDrop = _this.handleDrop.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(Workspace, [{\n    key: \"handleDrop\",\n    value: function handleDrop(_ref, props, monitor) {\n      var canvasId = _ref.canvasId,\n          manifestId = _ref.manifestId,\n          manifestJson = _ref.manifestJson;\n      var _this$props = this.props,\n          addWindow = _this$props.addWindow,\n          allowNewWindows = _this$props.allowNewWindows;\n      if (!allowNewWindows) return;\n      addWindow({\n        canvasId: canvasId,\n        manifest: manifestJson,\n        manifestId: manifestId\n      });\n    }\n    /**\n     * Determine which workspace to render by configured type\n     */\n\n  }, {\n    key: \"workspaceByType\",\n    value: function workspaceByType() {\n      var _this$props2 = this.props,\n          workspaceId = _this$props2.workspaceId,\n          workspaceType = _this$props2.workspaceType,\n          windowIds = _this$props2.windowIds;\n\n      if (this.maximizedWindows()) {\n        return this.maximizedWindows();\n      }\n\n      if (windowIds.length === 0) return this.zeroWindows();\n\n      switch (workspaceType) {\n        case 'elastic':\n          return /*#__PURE__*/React.createElement(WorkspaceElastic, null);\n\n        case 'mosaic':\n          return /*#__PURE__*/React.createElement(WorkspaceMosaic, null);\n\n        default:\n          return windowIds.map(function (windowId) {\n            return /*#__PURE__*/React.createElement(Window, {\n              key: \"\".concat(windowId, \"-\").concat(workspaceId),\n              windowId: windowId\n            });\n          });\n      }\n    }\n    /** */\n\n  }, {\n    key: \"zeroWindows\",\n    value: function zeroWindows() {\n      var t = this.props.t;\n      return /*#__PURE__*/React.createElement(Grid, {\n        alignItems: \"center\",\n        container: true,\n        style: {\n          height: '100%'\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        xs: 12,\n        item: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h1\",\n        component: \"div\",\n        align: \"center\"\n      }, t('welcome'))));\n    }\n    /**\n     * Determine whether or not there are maximized windows\n     */\n\n  }, {\n    key: \"maximizedWindows\",\n    value: function maximizedWindows() {\n      var _this$props3 = this.props,\n          maximizedWindowIds = _this$props3.maximizedWindowIds,\n          workspaceId = _this$props3.workspaceId;\n\n      if (maximizedWindowIds.length > 0) {\n        return maximizedWindowIds.map(function (windowId) {\n          return /*#__PURE__*/React.createElement(Window, {\n            key: \"\".concat(windowId, \"-\").concat(workspaceId),\n            windowId: windowId,\n            className: classNames(ns('workspace-maximized-window'))\n          });\n        });\n      }\n\n      return false;\n    }\n    /**\n     * render\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          classes = _this$props4.classes,\n          isWorkspaceControlPanelVisible = _this$props4.isWorkspaceControlPanelVisible,\n          t = _this$props4.t;\n      return /*#__PURE__*/React.createElement(IIIFDropTarget, {\n        onDrop: this.handleDrop\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(ns('workspace-viewport'), isWorkspaceControlPanelVisible && ns('workspace-with-control-panel'), isWorkspaceControlPanelVisible && classes.workspaceWithControlPanel, classes.workspaceViewport)\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"srOnly\",\n        component: \"h1\"\n      }, t('miradorViewer')), this.workspaceByType()));\n    }\n  }]);\n\n  return Workspace;\n}(React.Component);\nWorkspace.defaultProps = {\n  addWindow: function addWindow() {},\n  allowNewWindows: true,\n  maximizedWindowIds: [],\n  windowIds: []\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { Workspace } from '../components/Workspace';\nimport { getMaximizedWindowsIds, getWindowIds, getWorkspaceType, getConfig, getWorkspace } from '../state/selectors';\nimport * as actions from '../state/actions';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    allowNewWindows: getConfig(state).workspace.allowNewWindows,\n    isWorkspaceControlPanelVisible: getConfig(state).workspaceControlPanel.enabled,\n    maximizedWindowIds: getMaximizedWindowsIds(state),\n    windowIds: getWindowIds(state),\n    workspaceId: getWorkspace(state).id,\n    workspaceType: getWorkspaceType(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  addWindow: actions.addWindow\n};\n/**\n * @param theme\n */\n\nvar styles = function styles(theme) {\n  return {\n    workspaceViewport: {\n      bottom: 0,\n      left: 0,\n      margin: 0,\n      overflow: 'hidden',\n      position: 'absolute',\n      right: 0,\n      top: 0\n    },\n    workspaceWithControlPanel: {\n      paddingTop: 74\n    },\n    // injection order matters here\n    // eslint-disable-next-line sort-keys\n    '@media (min-width: 600px)': {\n      workspaceWithControlPanel: {\n        paddingLeft: 68,\n        paddingTop: 0\n      }\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('Workspace') // further HOC go here\n);\nexport default enhance(Workspace);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n/**\n * Provides a form for user input of a manifest url\n * @prop {Function} fetchManifest\n */\n\nexport var ManifestForm = /*#__PURE__*/function (_Component) {\n  _inherits(ManifestForm, _Component);\n\n  var _super = _createSuper(ManifestForm);\n  /**\n   * constructor -\n   */\n\n\n  function ManifestForm(props) {\n    var _this;\n\n    _classCallCheck(this, ManifestForm);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      formValue: ''\n    };\n    _this.inputRef = /*#__PURE__*/React.createRef();\n    _this.formSubmit = _this.formSubmit.bind(_assertThisInitialized(_this));\n    _this.handleCancel = _this.handleCancel.bind(_assertThisInitialized(_this));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   *\n   * @param {*} prevProps\n   * @param {*} prevState\n   */\n\n\n  _createClass(ManifestForm, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var addResourcesOpen = this.props.addResourcesOpen;\n\n      if (this.inputRef && this.inputRef.current && addResourcesOpen) {\n        this.inputRef.current.focus();\n      }\n    }\n    /**\n     * Reset the form state\n     */\n\n  }, {\n    key: \"handleCancel\",\n    value: function handleCancel() {\n      var onCancel = this.props.onCancel;\n      onCancel();\n      this.setState({\n        formValue: ''\n      });\n    }\n    /**\n     * handleInputChange - sets state based on input change.\n     * @param  {Event} event\n     * @private\n     */\n\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(event) {\n      var that = this;\n      event.preventDefault();\n      that.setState({\n        formValue: event.target.value\n      });\n    }\n    /**\n     * formSubmit - triggers manifest update and sets lastRequested\n     * @param  {Event} event\n     * @private\n     */\n\n  }, {\n    key: \"formSubmit\",\n    value: function formSubmit(event) {\n      var _this$props = this.props,\n          addResource = _this$props.addResource,\n          onSubmit = _this$props.onSubmit;\n      var formValue = this.state.formValue;\n      event.preventDefault();\n      onSubmit();\n      addResource(formValue);\n      this.setState({\n        formValue: ''\n      });\n    }\n    /**\n     * render\n     * @return {String} - HTML markup for the component\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formValue = this.state.formValue;\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          onCancel = _this$props2.onCancel,\n          t = _this$props2.t;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.formSubmit\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 9\n      }, /*#__PURE__*/React.createElement(TextField, {\n        inputRef: this.inputRef,\n        fullWidth: true,\n        value: formValue,\n        id: \"manifestURL\",\n        type: \"text\",\n        onChange: this.handleInputChange,\n        variant: \"filled\",\n        label: t('addManifestUrl'),\n        helperText: t('addManifestUrlHelp'),\n        InputLabelProps: {\n          shrink: true\n        },\n        InputProps: {\n          className: classes.input\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 4,\n        md: 3,\n        className: classes.buttons\n      }, onCancel && /*#__PURE__*/React.createElement(Button, {\n        onClick: this.handleCancel\n      }, t('cancel')), /*#__PURE__*/React.createElement(Button, {\n        id: \"fetchBtn\",\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\"\n      }, t('fetchManifest')))));\n    }\n  }]);\n\n  return ManifestForm;\n}(Component);\nManifestForm.defaultProps = {\n  classes: {},\n  onCancel: null,\n  onSubmit: function onSubmit() {},\n  t: function t(key) {\n    return key;\n  }\n};","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { ManifestForm } from '../components/ManifestForm';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestForm\n * @private\n */\n\nvar mapDispatchToProps = {\n  addResource: actions.addResource\n};\n/**\n *\n * @param theme\n */\n\nvar styles = function styles(theme) {\n  return {\n    buttons: _defineProperty({\n      textAlign: 'right'\n    }, theme.breakpoints.up('sm'), {\n      textAlign: 'inherit'\n    }),\n    input: _objectSpread({}, theme.typography.body1)\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(), connect(null, mapDispatchToProps), withPlugins('ManifestForm'));\nexport default enhance(ManifestForm);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ErrorIcon from '@material-ui/icons/ErrorOutlineSharp';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n/**\n * ManifestListItemError renders a component displaying a\n * message to the user about a problem loading a manifest\n*/\n\nexport var ManifestListItemError = /*#__PURE__*/function (_Component) {\n  _inherits(ManifestListItemError, _Component);\n\n  var _super = _createSuper(ManifestListItemError);\n\n  function ManifestListItemError() {\n    _classCallCheck(this, ManifestListItemError);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ManifestListItemError, [{\n    key: \"render\",\n\n    /**\n     * Returns the rendered component\n    */\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          manifestId = _this$props.manifestId,\n          onDismissClick = _this$props.onDismissClick,\n          onTryAgainClick = _this$props.onTryAgainClick,\n          t = _this$props.t;\n      return /*#__PURE__*/React.createElement(Grid, {\n        container: true\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        sm: 6\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 3\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        justify: \"center\"\n      }, /*#__PURE__*/React.createElement(ErrorIcon, {\n        className: classes.errorIcon\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        sm: 9\n      }, /*#__PURE__*/React.createElement(Typography, null, t('manifestError')), /*#__PURE__*/React.createElement(Typography, {\n        className: classes.manifestIdText\n      }, manifestId)))), /*#__PURE__*/React.createElement(Grid, {\n        container: true\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        sm: 6,\n        justify: \"flex-end\"\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          onDismissClick(manifestId);\n        }\n      }, t('dismiss')), /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          onTryAgainClick(manifestId);\n        }\n      }, t('tryAgain'))))));\n    }\n  }]);\n\n  return ManifestListItemError;\n}(Component);","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { fetchManifest, removeResource } from '../state/actions';\nimport { ManifestListItemError } from '../components/ManifestListItemError';\n/** */\n\nvar mapDispatchToProps = {\n  onDismissClick: removeResource,\n  onTryAgainClick: fetchManifest\n};\n/**\n *\n * @param theme\n * @returns {{manifestIdText: {wordBreak: string},\n * errorIcon: {color: string, width: string, height: string}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    errorIcon: {\n      color: theme.palette.error.main,\n      height: '2rem',\n      width: '2rem'\n    },\n    manifestIdText: {\n      wordBreak: 'break-all'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(null, mapDispatchToProps), withPlugins('ManifestListItemError'));\nexport default enhance(ManifestListItemError);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { Img } from 'react-image';\nimport ManifestListItemError from '../containers/ManifestListItemError';\nimport ns from '../config/css-ns';\n/**\n * Represents an item in a list of currently-loaded or loading manifests\n * @param {object} props\n * @param {object} [props.manifest = string]\n */\n\n/** */\n\nexport var ManifestListItem = /*#__PURE__*/function (_React$Component) {\n  _inherits(ManifestListItem, _React$Component);\n\n  var _super = _createSuper(ManifestListItem);\n  /** */\n\n\n  function ManifestListItem(props) {\n    var _this;\n\n    _classCallCheck(this, ManifestListItem);\n\n    _this = _super.call(this, props);\n    _this.handleOpenButtonClick = _this.handleOpenButtonClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(ManifestListItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          fetchManifest = _this$props.fetchManifest,\n          manifestId = _this$props.manifestId,\n          ready = _this$props.ready,\n          isFetching = _this$props.isFetching,\n          error = _this$props.error,\n          provider = _this$props.provider;\n      if (!ready && !error && !isFetching && provider !== 'file') fetchManifest(manifestId);\n    }\n    /**\n     * Handling open button click\n     */\n\n  }, {\n    key: \"handleOpenButtonClick\",\n    value: function handleOpenButtonClick() {\n      var _this$props2 = this.props,\n          addWindow = _this$props2.addWindow,\n          handleClose = _this$props2.handleClose,\n          manifestId = _this$props2.manifestId;\n      addWindow({\n        manifestId: manifestId\n      });\n      handleClose();\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          active = _this$props3.active,\n          buttonRef = _this$props3.buttonRef,\n          manifestId = _this$props3.manifestId,\n          ready = _this$props3.ready,\n          title = _this$props3.title,\n          thumbnail = _this$props3.thumbnail,\n          manifestLogo = _this$props3.manifestLogo,\n          size = _this$props3.size,\n          classes = _this$props3.classes,\n          provider = _this$props3.provider,\n          t = _this$props3.t,\n          error = _this$props3.error,\n          isCollection = _this$props3.isCollection,\n          isMultipart = _this$props3.isMultipart;\n      var placeholder = /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        className: ns('manifest-list-item'),\n        spacing: 2\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 3,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"rect\",\n        height: 80,\n        width: 120\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 9,\n        sm: 6\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      }), /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"rect\",\n        height: 60,\n        width: 60\n      })));\n\n      if (error) {\n        return /*#__PURE__*/React.createElement(ListItem, {\n          divider: true,\n          className: classes.root,\n          \"data-manifestid\": manifestId\n        }, /*#__PURE__*/React.createElement(ManifestListItemError, {\n          manifestId: manifestId\n        }));\n      }\n\n      return /*#__PURE__*/React.createElement(ListItem, {\n        divider: true,\n        className: [classes.root, active ? classes.active : ''].join(' '),\n        \"data-manifestid\": manifestId\n      }, ready ? /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        className: ns('manifest-list-item'),\n        spacing: 2\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        className: classes.buttonGrid\n      }, /*#__PURE__*/React.createElement(ButtonBase, {\n        ref: buttonRef,\n        className: ns('manifest-list-item-title'),\n        style: {\n          width: '100%'\n        },\n        onClick: this.handleOpenButtonClick\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        className: classes.label,\n        component: \"span\"\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 3,\n        component: \"span\"\n      }, /*#__PURE__*/React.createElement(Img, {\n        className: [classes.thumbnail, ns('manifest-list-item-thumb')].join(' '),\n        src: [thumbnail],\n        alt: \"\",\n        height: \"80\",\n        unloader: /*#__PURE__*/React.createElement(Skeleton, {\n          variant: \"rect\",\n          animation: false,\n          className: classes.placeholder,\n          height: 80,\n          width: 120\n        })\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        sm: 9,\n        component: \"span\"\n      }, isCollection && /*#__PURE__*/React.createElement(Typography, {\n        component: \"div\",\n        variant: \"overline\"\n      }, t(isMultipart ? 'multipartCollection' : 'collection')), /*#__PURE__*/React.createElement(Typography, {\n        component: \"span\",\n        variant: \"h6\"\n      }, title || manifestId))))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        sm: 4\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: ns('manifest-list-item-provider')\n      }, provider || t('addedFromUrl')), /*#__PURE__*/React.createElement(Typography, null, t('numItems', {\n        number: size\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Img, {\n        src: [manifestLogo],\n        alt: \"\",\n        role: \"presentation\",\n        className: classes.logo,\n        unloader: /*#__PURE__*/React.createElement(Skeleton, {\n          variant: \"rect\",\n          animation: false,\n          className: classes.placeholder,\n          height: 60,\n          width: 60\n        })\n      }))) : placeholder);\n    }\n  }]);\n\n  return ManifestListItem;\n}(React.Component);\nManifestListItem.defaultProps = {\n  active: false,\n  buttonRef: undefined,\n  classes: {},\n  error: null,\n  handleClose: function handleClose() {},\n  isCollection: false,\n  isFetching: false,\n  isMultipart: false,\n  manifestLogo: null,\n  provider: null,\n  ready: false,\n  size: 0,\n  t: function t(key) {\n    return key;\n  },\n  thumbnail: null,\n  title: null\n};","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getManifest, getManifestTitle, getManifestThumbnail, getCanvases, getManifestLogo, getManifestProvider, getWindowManifests, getManifestoInstance, getSequenceBehaviors } from '../state/selectors';\nimport * as actions from '../state/actions';\nimport { ManifestListItem } from '../components/ManifestListItem';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var manifestId = _ref.manifestId,\n      provider = _ref.provider;\n  var manifest = getManifest(state, {\n    manifestId: manifestId\n  }) || {};\n  var manifesto = getManifestoInstance(state, {\n    manifestId: manifestId\n  });\n  var isCollection = (manifesto || {\n    isCollection: function isCollection() {\n      return false;\n    }\n  }).isCollection();\n  var size = isCollection ? manifesto.getTotalItems() : getCanvases(state, {\n    manifestId: manifestId\n  }).length;\n  return {\n    active: getWindowManifests(state).includes(manifestId),\n    error: manifest.error,\n    isCollection: isCollection,\n    isFetching: manifest.isFetching,\n    isMultipart: isCollection && getSequenceBehaviors(state, {\n      manifestId: manifestId\n    }).includes('multi-part'),\n    manifestLogo: getManifestLogo(state, {\n      manifestId: manifestId\n    }),\n    provider: provider || getManifestProvider(state, {\n      manifestId: manifestId\n    }),\n    ready: !!manifest.json,\n    size: size,\n    thumbnail: getManifestThumbnail(state, {\n      manifestId: manifestId\n    }),\n    title: getManifestTitle(state, {\n      manifestId: manifestId\n    })\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  addWindow: actions.addWindow,\n  fetchManifest: actions.fetchManifest\n};\n/**\n *\n * @param theme\n * @returns {{root: {}, label: {textAlign: string, textTransform: string}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    active: {},\n    buttonGrid: {},\n    label: {\n      textAlign: 'left',\n      textTransform: 'initial'\n    },\n    logo: {\n      height: '2.5rem',\n      maxWidth: '100%',\n      objectFit: 'contain',\n      paddingRight: 8\n    },\n    placeholder: {\n      backgroundColor: theme.palette.grey[300]\n    },\n    root: _objectSpread(_objectSpread({}, theme.mixins.gutters()), {}, {\n      '&$active': {\n        borderLeft: \"4px solid \".concat(theme.palette.primary.main)\n      },\n      '&:hover,&:focus-within': {\n        '&$active': {\n          borderLeft: \"4px solid \".concat(theme.palette.primary.main)\n        },\n        backgroundColor: theme.palette.action.hover,\n        borderLeft: \"4px solid \".concat(theme.palette.action.hover)\n      },\n      borderLeft: '4px solid transparent'\n    }),\n    thumbnail: {\n      maxWidth: '100%',\n      objectFit: 'contain'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('ManifestListItem'));\nexport default enhance(ManifestListItem);","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport AddIcon from '@material-ui/icons/AddSharp';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMoreSharp';\nimport AppBar from '@material-ui/core/AppBar';\nimport Drawer from '@material-ui/core/Drawer';\nimport Grid from '@material-ui/core/Grid';\nimport Fab from '@material-ui/core/Fab';\nimport List from '@material-ui/core/List';\nimport Paper from '@material-ui/core/Paper';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport ns from '../config/css-ns';\nimport ManifestForm from '../containers/ManifestForm';\nimport ManifestListItem from '../containers/ManifestListItem';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport { IIIFDropTarget } from './IIIFDropTarget';\nimport { PluginHook } from './PluginHook';\n/**\n * An area for managing manifests and adding them to workspace\n * @memberof Workspace\n * @private\n */\n\nexport var WorkspaceAdd = /*#__PURE__*/function (_React$Component) {\n  _inherits(WorkspaceAdd, _React$Component);\n\n  var _super = _createSuper(WorkspaceAdd);\n  /** */\n\n\n  function WorkspaceAdd(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceAdd);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      addResourcesOpen: false\n    };\n    _this.ref = /*#__PURE__*/React.createRef();\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    _this.setAddResourcesVisibility = _this.setAddResourcesVisibility.bind(_assertThisInitialized(_this));\n    _this.handleDrop = _this.handleDrop.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(WorkspaceAdd, [{\n    key: \"handleDrop\",\n    value: function handleDrop(_ref, props, monitor) {\n      var manifestId = _ref.manifestId,\n          manifestJson = _ref.manifestJson;\n      var addResource = this.props.addResource;\n\n      if (manifestJson) {\n        addResource(manifestId, manifestJson, {\n          provider: 'file'\n        });\n      } else {\n        addResource(manifestId);\n      }\n\n      this.scrollToTop();\n    }\n    /** @private */\n\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      this.setAddResourcesVisibility(false);\n      this.scrollToTop();\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"setAddResourcesVisibility\",\n    value: function setAddResourcesVisibility(bool) {\n      this.setState({\n        addResourcesOpen: bool\n      });\n    }\n    /** Scroll the list back to the top */\n\n  }, {\n    key: \"scrollToTop\",\n    value: function scrollToTop() {\n      if (this.ref.current) {\n        var el = this.ref.current;\n        el.scrollTo({\n          behavior: 'smooth',\n          left: 0,\n          top: 0\n        });\n      }\n    }\n    /**\n     * render\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          catalog = _this$props.catalog,\n          setWorkspaceAddVisibility = _this$props.setWorkspaceAddVisibility,\n          t = _this$props.t,\n          classes = _this$props.classes;\n      var addResourcesOpen = this.state.addResourcesOpen;\n      var manifestList = catalog.map(function (resource, index) {\n        return /*#__PURE__*/React.createElement(ManifestListItem, Object.assign({}, index === 0 && {\n          buttonRef: function buttonRef(ref) {\n            return ref && ref.focus();\n          }\n        }, {\n          key: resource.manifestId,\n          manifestId: resource.manifestId,\n          provider: resource.provider,\n          handleClose: function handleClose() {\n            return setWorkspaceAddVisibility(false);\n          }\n        }));\n      });\n      return /*#__PURE__*/React.createElement(IIIFDropTarget, {\n        onDrop: this.handleDrop\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.ref,\n        className: classNames(ns('workspace-add'), classes.workspaceAdd)\n      }, catalog.length < 1 ? /*#__PURE__*/React.createElement(Grid, {\n        alignItems: \"center\",\n        container: true,\n        style: {\n          height: '100%'\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        xs: 12,\n        item: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h1\",\n        component: \"div\",\n        align: \"center\"\n      }, t('emptyResourceList')))) : /*#__PURE__*/React.createElement(Paper, {\n        className: classes.list\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"srOnly\",\n        component: \"h1\"\n      }, t('miradorResources')), /*#__PURE__*/React.createElement(PluginHook, this.props), /*#__PURE__*/React.createElement(List, {\n        disablePadding: true\n      }, manifestList)), /*#__PURE__*/React.createElement(Fab, {\n        variant: \"extended\",\n        disabled: addResourcesOpen,\n        className: classNames(classes.fab, ns('add-resource-button')),\n        color: \"primary\",\n        onClick: function onClick() {\n          return _this2.setAddResourcesVisibility(true);\n        }\n      }, /*#__PURE__*/React.createElement(AddIcon, null), t('addResource')), /*#__PURE__*/React.createElement(Drawer, {\n        className: classNames(_defineProperty({}, classes.displayNone, !addResourcesOpen)),\n        classes: {\n          paper: classes.paper\n        },\n        variant: \"persistent\",\n        anchor: \"bottom\",\n        open: addResourcesOpen,\n        ModalProps: {\n          disablePortal: true,\n          hideBackdrop: true,\n          style: {\n            position: 'absolute'\n          }\n        }\n      }, /*#__PURE__*/React.createElement(Paper, {\n        className: classes.form\n      }, /*#__PURE__*/React.createElement(AppBar, {\n        position: \"absolute\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return _this2.setAddResourcesVisibility(false);\n        }\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        variant: \"dense\"\n      }, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('closeAddResourceForm'),\n        className: classes.menuButton,\n        color: \"inherit\"\n      }, /*#__PURE__*/React.createElement(ExpandMoreIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\",\n        noWrap: true,\n        color: \"inherit\",\n        className: classes.typographyBody\n      }, t('addResource')))), /*#__PURE__*/React.createElement(ManifestForm, {\n        addResourcesOpen: addResourcesOpen,\n        onSubmit: this.onSubmit,\n        onCancel: function onCancel() {\n          return _this2.setAddResourcesVisibility(false);\n        }\n      })))));\n    }\n  }]);\n\n  return WorkspaceAdd;\n}(React.Component);\nWorkspaceAdd.defaultProps = {\n  addResource: function addResource() {},\n  catalog: [],\n  classes: {},\n  t: function t(key) {\n    return key;\n  }\n};","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { WorkspaceAdd } from '../components/WorkspaceAdd';\nimport { getCatalog } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    catalog: getCatalog(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  addResource: actions.addResource,\n  setWorkspaceAddVisibility: actions.setWorkspaceAddVisibility\n};\n/**\n *\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: string},\n * form: {paddingBottom: number, paddingTop: number, marginTop: number},\n * fab: {bottom: number, position: string, right: number},\n * menuButton: {marginRight: number, marginLeft: number}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    displayNone: {\n      display: 'none'\n    },\n    fab: {\n      bottom: theme.spacing(2),\n      position: 'absolute',\n      right: theme.spacing(2)\n    },\n    form: _objectSpread(_objectSpread({}, theme.mixins.gutters()), {}, {\n      left: '0',\n      marginTop: 48,\n      paddingBottom: theme.spacing(2),\n      paddingTop: theme.spacing(2),\n      right: '0'\n    }),\n    list: {\n      margin: '16px'\n    },\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20\n    },\n    paper: _defineProperty({\n      borderTop: '0',\n      left: '0'\n    }, theme.breakpoints.up('sm'), {\n      left: '65px'\n    }),\n    typographyBody: {\n      flexGrow: 1\n    },\n    workspaceAdd: {\n      boxSizing: 'border-box',\n      height: '100%',\n      overflowX: 'hidden',\n      overflowY: 'auto',\n      paddingTop: 68\n    },\n    // injection order matters\n    // eslint-disable-next-line sort-keys\n    '@media (min-width: 600px)': {\n      workspaceAdd: {\n        paddingLeft: 68,\n        paddingTop: 0\n      }\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceAdd'));\nexport default enhance(WorkspaceAdd);","import React from 'react';\nimport ns from '../config/css-ns';\nimport { PluginHook } from './PluginHook';\n/** invisible area where background plugins can add to */\n\nexport var BackgroundPluginArea = function BackgroundPluginArea(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: ns('background-plugin-area'),\n    style: {\n      display: 'none'\n    }\n  }, /*#__PURE__*/React.createElement(PluginHook, props));\n};\nBackgroundPluginArea.defaultProps = {\n  PluginComponents: []\n};","import { withPlugins } from '../extend/withPlugins';\nimport { BackgroundPluginArea } from '../components/BackgroundPluginArea';\nexport default withPlugins('BackgroundPluginArea')(BackgroundPluginArea);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport ErrorDialog from '../containers/ErrorDialog';\nimport WorkspaceControlPanel from '../containers/WorkspaceControlPanel';\nimport Workspace from '../containers/Workspace';\nimport WorkspaceAdd from '../containers/WorkspaceAdd';\nimport BackgroundPluginArea from '../containers/BackgroundPluginArea';\nimport ns from '../config/css-ns';\n/**\n * This is the top level Mirador component.\n * @prop {Object} manifests\n */\n\nexport var WorkspaceArea = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceArea, _Component);\n\n  var _super = _createSuper(WorkspaceArea);\n\n  function WorkspaceArea() {\n    _classCallCheck(this, WorkspaceArea);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceArea, [{\n    key: \"render\",\n\n    /**\n     * render\n     * @return {String} - HTML markup for the component\n     */\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          controlPanelVariant = _this$props.controlPanelVariant,\n          isWorkspaceAddVisible = _this$props.isWorkspaceAddVisible,\n          isWorkspaceControlPanelVisible = _this$props.isWorkspaceControlPanelVisible,\n          lang = _this$props.lang,\n          t = _this$props.t;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, isWorkspaceControlPanelVisible && /*#__PURE__*/React.createElement(WorkspaceControlPanel, {\n        variant: controlPanelVariant\n      }), /*#__PURE__*/React.createElement(\"main\", {\n        className: classNames(classes.viewer, ns('viewer')),\n        lang: lang,\n        \"aria-label\": t('workspace')\n      }, isWorkspaceAddVisible ? /*#__PURE__*/React.createElement(WorkspaceAdd, null) : /*#__PURE__*/React.createElement(Workspace, null), /*#__PURE__*/React.createElement(ErrorDialog, null), /*#__PURE__*/React.createElement(BackgroundPluginArea, null)));\n    }\n  }]);\n\n  return WorkspaceArea;\n}(Component);\nWorkspaceArea.defaultProps = {\n  controlPanelVariant: undefined,\n  isWorkspaceAddVisible: false,\n  lang: undefined\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles, lighten, darken } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceArea } from '../components/WorkspaceArea';\nimport { getConfig, getWindowIds, getWorkspace } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof App\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    controlPanelVariant: getWorkspace(state).isWorkspaceAddVisible || getWindowIds(state).length > 0 ? undefined : 'wide',\n    isWorkspaceAddVisible: getWorkspace(state).isWorkspaceAddVisible,\n    isWorkspaceControlPanelVisible: getConfig(state).workspaceControlPanel.enabled,\n    lang: getConfig(state).language\n  };\n};\n/**\n *\n * @param theme\n * @returns {{background: {background: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  var getBackgroundColor = theme.palette.type === 'light' ? darken : lighten;\n  return {\n    viewer: {\n      background: getBackgroundColor(theme.palette.shades.light, 0.1),\n      bottom: 0,\n      left: 0,\n      overflow: 'hidden',\n      position: 'absolute',\n      right: 0,\n      top: 0\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps), withPlugins('WorkspaceArea'));\nexport default enhance(WorkspaceArea);","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Split = void 0;\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar clamp_1 = __importDefault(require(\"lodash/clamp\"));\n\nvar throttle_1 = __importDefault(require(\"lodash/throttle\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar BoundingBox_1 = require(\"./util/BoundingBox\");\n\nvar RESIZE_THROTTLE_MS = 1000 / 30; // 30 fps\n\nvar TOUCH_EVENT_OPTIONS = {\n  capture: true,\n  passive: false\n};\n\nvar Split =\n/** @class */\nfunction (_super) {\n  __extends(Split, _super);\n\n  function Split() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.rootElement = react_1.default.createRef();\n    _this.listenersBound = false;\n\n    _this.onMouseDown = function (event) {\n      if (!isTouchEvent(event)) {\n        if (event.button !== 0) {\n          return;\n        }\n      }\n\n      event.preventDefault();\n\n      _this.bindListeners();\n    };\n\n    _this.onMouseUp = function (event) {\n      _this.unbindListeners();\n\n      var percentage = _this.calculateRelativePercentage(event);\n\n      _this.props.onRelease(percentage);\n    };\n\n    _this.onMouseMove = function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      _this.throttledUpdatePercentage(event);\n    };\n\n    _this.throttledUpdatePercentage = throttle_1.default(function (event) {\n      var percentage = _this.calculateRelativePercentage(event);\n\n      if (percentage !== _this.props.splitPercentage) {\n        _this.props.onChange(percentage);\n      }\n    }, RESIZE_THROTTLE_MS);\n    return _this;\n  }\n\n  Split.prototype.render = function () {\n    var direction = this.props.direction;\n    return react_1.default.createElement(\"div\", {\n      className: classnames_1.default('mosaic-split', {\n        '-row': direction === 'row',\n        '-column': direction === 'column'\n      }),\n      ref: this.rootElement,\n      onMouseDown: this.onMouseDown,\n      style: this.computeStyle()\n    }, react_1.default.createElement(\"div\", {\n      className: \"mosaic-split-line\"\n    }));\n  };\n\n  Split.prototype.componentDidMount = function () {\n    this.rootElement.current.addEventListener('touchstart', this.onMouseDown, TOUCH_EVENT_OPTIONS);\n  };\n\n  Split.prototype.componentWillUnmount = function () {\n    this.unbindListeners();\n\n    if (this.rootElement.current) {\n      this.rootElement.current.ownerDocument.removeEventListener('touchstart', this.onMouseDown, TOUCH_EVENT_OPTIONS);\n    }\n  };\n\n  Split.prototype.bindListeners = function () {\n    if (!this.listenersBound) {\n      this.rootElement.current.ownerDocument.addEventListener('mousemove', this.onMouseMove, true);\n      this.rootElement.current.ownerDocument.addEventListener('touchmove', this.onMouseMove, TOUCH_EVENT_OPTIONS);\n      this.rootElement.current.ownerDocument.addEventListener('mouseup', this.onMouseUp, true);\n      this.rootElement.current.ownerDocument.addEventListener('touchend', this.onMouseUp, true);\n      this.listenersBound = true;\n    }\n  };\n\n  Split.prototype.unbindListeners = function () {\n    if (this.rootElement.current) {\n      this.rootElement.current.ownerDocument.removeEventListener('mousemove', this.onMouseMove, true);\n      this.rootElement.current.ownerDocument.removeEventListener('touchmove', this.onMouseMove, TOUCH_EVENT_OPTIONS);\n      this.rootElement.current.ownerDocument.removeEventListener('mouseup', this.onMouseUp, true);\n      this.rootElement.current.ownerDocument.removeEventListener('touchend', this.onMouseUp, true);\n      this.listenersBound = false;\n    }\n  };\n\n  Split.prototype.computeStyle = function () {\n    var _a;\n\n    var _b = this.props,\n        boundingBox = _b.boundingBox,\n        direction = _b.direction,\n        splitPercentage = _b.splitPercentage;\n    var positionStyle = direction === 'column' ? 'top' : 'left';\n    var absolutePercentage = BoundingBox_1.BoundingBox.getAbsoluteSplitPercentage(boundingBox, splitPercentage, direction);\n    return __assign(__assign({}, BoundingBox_1.BoundingBox.asStyles(boundingBox)), (_a = {}, _a[positionStyle] = absolutePercentage + \"%\", _a));\n  };\n\n  Split.prototype.calculateRelativePercentage = function (event) {\n    var _a = this.props,\n        minimumPaneSizePercentage = _a.minimumPaneSizePercentage,\n        direction = _a.direction,\n        boundingBox = _a.boundingBox;\n    var parentBBox = this.rootElement.current.parentElement.getBoundingClientRect();\n    var location = isTouchEvent(event) ? event.changedTouches[0] : event;\n    var absolutePercentage;\n\n    if (direction === 'column') {\n      absolutePercentage = (location.clientY - parentBBox.top) / parentBBox.height * 100.0;\n    } else {\n      absolutePercentage = (location.clientX - parentBBox.left) / parentBBox.width * 100.0;\n    }\n\n    var relativePercentage = BoundingBox_1.BoundingBox.getRelativeSplitPercentage(boundingBox, absolutePercentage, direction);\n    return clamp_1.default(relativePercentage, minimumPaneSizePercentage, 100 - minimumPaneSizePercentage);\n  };\n\n  Split.defaultProps = {\n    onChange: function onChange() {\n      return void 0;\n    },\n    onRelease: function onRelease() {\n      return void 0;\n    },\n    minimumPaneSizePercentage: 20\n  };\n  return Split;\n}(react_1.default.PureComponent);\n\nexports.Split = Split;\n\nfunction isTouchEvent(event) {\n  return event.changedTouches != null;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 18l2 1V1H7v2h12v15zM17 5H3v18l7-3 7 3V5z\"\n}), 'BookmarksSharp');\n\nexports.default = _default;","var baseSlice = require('./_baseSlice'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` with `n` elements dropped from the beginning.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to drop.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.drop([1, 2, 3]);\n * // => [2, 3]\n *\n * _.drop([1, 2, 3], 2);\n * // => [3]\n *\n * _.drop([1, 2, 3], 5);\n * // => []\n *\n * _.drop([1, 2, 3], 0);\n * // => [1, 2, 3]\n */\nfunction drop(array, n, guard) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  return baseSlice(array, n < 0 ? 0 : n, length);\n}\n\nmodule.exports = drop;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutlineSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 12v7H5v-7H3v9h18v-9h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z\"\n}), 'SaveAltSharp');\n\nexports.default = _default;","// shim for using process in browser\nvar process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n}; // v8 likes predictible objects\n\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) {\n  return [];\n};\n\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () {\n  return '/';\n};\n\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\n\nprocess.umask = function () {\n  return 0;\n};","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RemoveButton = void 0;\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar contextTypes_1 = require(\"../contextTypes\");\n\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\n\nvar MosaicButton_1 = require(\"./MosaicButton\");\n\nvar RemoveButton =\n/** @class */\nfunction (_super) {\n  __extends(RemoveButton, _super);\n\n  function RemoveButton() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RemoveButton.prototype.render = function () {\n    var _this = this;\n\n    return react_1.default.createElement(contextTypes_1.MosaicContext.Consumer, null, function (_a) {\n      var mosaicActions = _a.mosaicActions;\n      return MosaicButton_1.createDefaultToolbarButton('Close Window', classnames_1.default('close-button', OptionalBlueprint_1.OptionalBlueprint.getIconClass('CROSS')), _this.createRemove(mosaicActions));\n    });\n  };\n\n  RemoveButton.prototype.createRemove = function (mosaicActions) {\n    var _this = this;\n\n    return function () {\n      mosaicActions.remove(_this.context.mosaicWindowActions.getPath());\n\n      if (_this.props.onClick) {\n        _this.props.onClick();\n      }\n    };\n  };\n\n  RemoveButton.contextType = contextTypes_1.MosaicWindowContext;\n  return RemoveButton;\n}(react_1.default.PureComponent);\n\nexports.RemoveButton = RemoveButton;","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MosaicWindowContext = exports.MosaicContext = void 0;\n\nvar react_1 = __importDefault(require(\"react\"));\n\nexports.MosaicContext = react_1.default.createContext(undefined);\nexports.MosaicWindowContext = react_1.default.createContext(undefined);","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","module.exports = function () {\n  var selection = document.getSelection();\n\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n\n  var active = document.activeElement;\n  var ranges = [];\n\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) {\n    // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' && selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function (range) {\n        selection.addRange(range);\n      });\n    }\n\n    active && active.focus();\n  };\n};","var v1 = require('./v1');\n\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\nmodule.exports = uuid;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 7l-5 5 5 5V7z\"\n}), 'ArrowLeftSharp');\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.assertNever = void 0;\n\nfunction assertNever(shouldBeNever) {\n  throw new Error('Unhandled case: ' + JSON.stringify(shouldBeNever));\n}\n\nexports.assertNever = assertNever;","import * as React from 'react';\n/*\n * A utility for rendering a drag preview image\n */\n\nexport var DragPreviewImage = React.memo(function (_ref) {\n  var connect = _ref.connect,\n      src = _ref.src;\n\n  if (typeof Image !== 'undefined') {\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      return connect(img);\n    };\n  }\n\n  return null;\n});\nDragPreviewImage.displayName = 'DragPreviewImage';","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (!this.handlerId) {\n        this.disconnectDragPreview();\n      } else if (this.dragPreview && didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.disconnectDragPreview();\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport { useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { registerSource } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { DragSourceMonitorImpl } from '../../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../../common/SourceConnector';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDragHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      beginDrag: function beginDrag() {\n        var _spec$current = spec.current,\n            begin = _spec$current.begin,\n            item = _spec$current.item;\n\n        if (begin) {\n          var beginResult = begin(monitor);\n          invariant(beginResult == null || _typeof(beginResult) === 'object', 'dragSpec.begin() must either return an object, undefined, or null');\n          return beginResult || item || {};\n        }\n\n        return item || {};\n      },\n      canDrag: function canDrag() {\n        if (typeof spec.current.canDrag === 'boolean') {\n          return spec.current.canDrag;\n        } else if (typeof spec.current.canDrag === 'function') {\n          return spec.current.canDrag(monitor);\n        } else {\n          return true;\n        }\n      },\n      isDragging: function isDragging(globalMonitor, target) {\n        var isDragging = spec.current.isDragging;\n        return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n      },\n      endDrag: function endDrag() {\n        var end = spec.current.end;\n\n        if (end) {\n          end(monitor.getItem(), monitor);\n        }\n\n        connector.reconnect();\n      }\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerSource = registerSource(spec.current.item.type, handler, manager),\n        _registerSource2 = _slicedToArray(_registerSource, 2),\n        handlerId = _registerSource2[0],\n        unregister = _registerSource2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, []);\n}","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDragSourceMonitor, useDragHandler } from './internal/drag';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification *\n */\n\nexport function useDrag(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec; // TODO: wire options into createSourceConnector\n\n  invariant(spec.item != null, 'item must be defined');\n  invariant(spec.item.type != null, 'item type must be defined');\n\n  var _useDragSourceMonitor = useDragSourceMonitor(),\n      _useDragSourceMonitor2 = _slicedToArray(_useDragSourceMonitor, 2),\n      monitor = _useDragSourceMonitor2[0],\n      connector = _useDragSourceMonitor2[1];\n\n  useDragHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDragSource = useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n  var connectDragPreview = useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = specRef.current.options || null;\n    connector.reconnect();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = specRef.current.previewOptions || null;\n    connector.reconnect();\n  }, [connector]);\n  return [result, connectDragSource, connectDragPreview];\n}","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n} // cheap lodash replacements\n\n\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}","export function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  return C && C.$$typeof && C.$$typeof.toString() === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { isFunction, noop } from '../utils/js_utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nexport var Disposable = /*#__PURE__*/function () {\n  function Disposable(action) {\n    _classCallCheck(this, Disposable);\n\n    this.isDisposed = false;\n    this.action = isFunction(action) ? action : noop;\n  }\n  /**\n   * Validates whether the given object is a disposable\n   * @param {Object} Object to test whether it has a dispose method\n   * @returns {Boolean} true if a disposable object, else false.\n   */\n\n\n  _createClass(Disposable, [{\n    key: \"dispose\",\n\n    /** Performs the task of cleaning up resources. */\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.action();\n        this.isDisposed = true;\n      }\n    }\n  }], [{\n    key: \"isDisposable\",\n    value: function isDisposable(d) {\n      return d && isFunction(d.dispose);\n    }\n  }, {\n    key: \"_fixup\",\n    value: function _fixup(result) {\n      return Disposable.isDisposable(result) ? result : Disposable.empty;\n    }\n    /**\n     * Creates a disposable object that invokes the specified action when disposed.\n     * @param {Function} dispose Action to run during the first call to dispose.\n     * The action is guaranteed to be run at most once.\n     * @return {Disposable} The disposable object that runs the given action upon disposal.\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(action) {\n      return new Disposable(action);\n    }\n  }]);\n\n  return Disposable;\n}();\n/**\n * Gets the disposable that does nothing when disposed.\n */\n\nDisposable.empty = {\n  dispose: noop\n};\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    this.isDisposed = false;\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    this.isDisposed = false;\n  }\n  /**\n   * Gets the underlying disposable.\n   * @returns {Any} the underlying disposable.\n   */\n\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value: function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../index';\nimport { isPlainObject } from '../utils/js_utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nexport default function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer = /*#__PURE__*/function (_React$Component) {\n    _inherits(DragDropContainer, _React$Component);\n\n    function DragDropContainer(props) {\n      var _this;\n\n      _classCallCheck(this, DragDropContainer);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(DragDropContainer).call(this, props));\n      _this.decoratedRef = React.createRef();\n\n      _this.handleChange = function () {\n        var nextState = _this.getCurrentState();\n\n        if (!shallowEqual(nextState, _this.state)) {\n          _this.setState(nextState);\n        }\n      };\n\n      _this.disposable = new SerialDisposable();\n\n      _this.receiveProps(props);\n\n      _this.dispose();\n\n      return _this;\n    }\n\n    _createClass(DragDropContainer, [{\n      key: \"getHandlerId\",\n      value: function getHandlerId() {\n        return this.handlerId;\n      }\n    }, {\n      key: \"getDecoratedComponentInstance\",\n      value: function getDecoratedComponentInstance() {\n        invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n        return this.decoratedRef.current;\n      }\n    }, {\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.disposable = new SerialDisposable();\n        this.currentType = undefined;\n        this.receiveProps(this.props);\n        this.handleChange();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!arePropsEqual(this.props, prevProps)) {\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.dispose();\n      }\n    }, {\n      key: \"receiveProps\",\n      value: function receiveProps(props) {\n        if (!this.handler) {\n          return;\n        }\n\n        this.handler.receiveProps(props);\n        this.receiveType(getType(props));\n      }\n    }, {\n      key: \"receiveType\",\n      value: function receiveType(type) {\n        if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n          return;\n        }\n\n        if (type === this.currentType) {\n          return;\n        }\n\n        this.currentType = type;\n\n        var _registerHandler = registerHandler(type, this.handler, this.manager),\n            _registerHandler2 = _slicedToArray(_registerHandler, 2),\n            handlerId = _registerHandler2[0],\n            unregister = _registerHandler2[1];\n\n        this.handlerId = handlerId;\n        this.handlerMonitor.receiveHandlerId(handlerId);\n        this.handlerConnector.receiveHandlerId(handlerId);\n        var globalMonitor = this.manager.getMonitor();\n        var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n          handlerIds: [handlerId]\n        });\n        this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.disposable.dispose();\n\n        if (this.handlerConnector) {\n          this.handlerConnector.receiveHandlerId(null);\n        }\n      }\n    }, {\n      key: \"getCurrentState\",\n      value: function getCurrentState() {\n        if (!this.handlerConnector) {\n          return {};\n        }\n\n        var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n        if (process.env.NODE_ENV !== 'production') {\n          invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n        }\n\n        return nextState;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return React.createElement(DndContext.Consumer, null, function (_ref2) {\n          var dragDropManager = _ref2.dragDropManager;\n\n          _this2.receiveDragDropManager(dragDropManager);\n\n          if (typeof requestAnimationFrame !== 'undefined') {\n            requestAnimationFrame(function () {\n              return _this2.handlerConnector.reconnect();\n            });\n          }\n\n          return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n            // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n            ref: isRefable(Decorated) ? _this2.decoratedRef : null\n          }));\n        });\n      }\n    }, {\n      key: \"receiveDragDropManager\",\n      value: function receiveDragDropManager(dragDropManager) {\n        if (this.manager !== undefined) {\n          return;\n        }\n\n        invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n        if (dragDropManager === undefined) {\n          return;\n        }\n\n        this.manager = dragDropManager;\n        this.handlerMonitor = createMonitor(dragDropManager);\n        this.handlerConnector = createConnector(dragDropManager.getBackend());\n        this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n      }\n    }]);\n\n    return DragDropContainer;\n  }(React.Component);\n\n  DragDropContainer.DecoratedComponent = DecoratedComponent;\n  DragDropContainer.displayName = \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\");\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    this.props = null;\n\n    this.beginDrag = function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    };\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport default function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { checkDecoratorArguments } from './utils';\nimport decorateHandler from './decorateHandler';\nimport { registerSource } from '../common/registration';\nimport { DragSourceMonitorImpl } from '../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../common/SourceConnector';\nimport { isValidType } from '../utils/isValidType';\nimport createSourceFactory from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    this.props = null;\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport default function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { registerTarget } from '../common/registration';\nimport { isValidType } from '../utils/isValidType';\nimport { TargetConnector } from '../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../common/DropTargetMonitorImpl';\nimport { checkDecoratorArguments } from './utils';\nimport decorateHandler from './decorateHandler';\nimport createTargetFactory from './createTargetFactory';\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../index';\nimport { isPlainObject } from '../utils/js_utils';\nimport { isRefable, checkDecoratorArguments } from './utils';\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer = /*#__PURE__*/function (_React$Component) {\n      _inherits(DragLayerContainer, _React$Component);\n\n      function DragLayerContainer() {\n        var _this;\n\n        _classCallCheck(this, DragLayerContainer);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(DragLayerContainer).apply(this, arguments));\n        _this.isCurrentlyMounted = false;\n        _this.ref = React.createRef();\n\n        _this.handleChange = function () {\n          if (!_this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        };\n\n        return _this;\n      }\n\n      _createClass(DragLayerContainer, [{\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.ref.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n          this.handleChange();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          if (this.unsubscribeFromOffsetChange) {\n            this.unsubscribeFromOffsetChange();\n            this.unsubscribeFromOffsetChange = undefined;\n          }\n\n          if (this.unsubscribeFromStateChange) {\n            this.unsubscribeFromStateChange();\n            this.unsubscribeFromStateChange = undefined;\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(DndContext.Consumer, null, function (_ref) {\n            var dragDropManager = _ref.dragDropManager;\n\n            if (dragDropManager === undefined) {\n              return null;\n            }\n\n            _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n            if (!_this2.isCurrentlyMounted) {\n              return null;\n            }\n\n            return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.state, {\n              ref: isRefable(Decorated) ? _this2.ref : null\n            }));\n          });\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.manager) {\n            return {};\n          }\n\n          var monitor = this.manager.getMonitor();\n          return collect(monitor, this.props);\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(React.Component);\n\n    DragLayerContainer.displayName = \"DragLayer(\".concat(displayName, \")\");\n    DragLayerContainer.DecoratedComponent = DecoratedComponent;\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 3H3v18h18V3zm-2 16H5V5h14v14z\"\n}), 'CropDinSharp');\n\nexports.default = _default;","var baseSlice = require('./_baseSlice'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` with `n` elements dropped from the end.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to drop.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.dropRight([1, 2, 3]);\n * // => [1, 2]\n *\n * _.dropRight([1, 2, 3], 2);\n * // => [1]\n *\n * _.dropRight([1, 2, 3], 5);\n * // => []\n *\n * _.dropRight([1, 2, 3], 0);\n * // => [1, 2, 3]\n */\nfunction dropRight(array, n, guard) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  n = length - n;\n  return baseSlice(array, 0, n < 0 ? 0 : n);\n}\n\nmodule.exports = dropRight;\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mosaic = exports.MosaicWithoutDragDropContext = void 0;\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar countBy_1 = __importDefault(require(\"lodash/countBy\"));\n\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\n\nvar pickBy_1 = __importDefault(require(\"lodash/pickBy\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_dnd_1 = require(\"react-dnd\");\n\nvar react_dnd_multi_backend_1 = __importDefault(require(\"react-dnd-multi-backend\"));\n\nvar HTML5toTouch_1 = __importDefault(require(\"react-dnd-multi-backend/dist/cjs/HTML5toTouch\"));\n\nvar uuid_1 = require(\"uuid\");\n\nvar contextTypes_1 = require(\"./contextTypes\");\n\nvar MosaicRoot_1 = require(\"./MosaicRoot\");\n\nvar MosaicZeroState_1 = require(\"./MosaicZeroState\");\n\nvar RootDropTargets_1 = require(\"./RootDropTargets\");\n\nvar mosaicUpdates_1 = require(\"./util/mosaicUpdates\");\n\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\n\nvar DEFAULT_EXPAND_PERCENTAGE = 70;\n\nfunction isUncontrolled(props) {\n  return props.initialValue != null;\n}\n\nvar MosaicWithoutDragDropContext =\n/** @class */\nfunction (_super) {\n  __extends(MosaicWithoutDragDropContext, _super);\n\n  function MosaicWithoutDragDropContext() {\n    var _a;\n\n    var _this = _super.apply(this, arguments) || this;\n\n    _this.state = {\n      currentNode: null,\n      lastInitialValue: null,\n      mosaicId: (_a = _this.props.mosaicId) !== null && _a !== void 0 ? _a : uuid_1.v4()\n    };\n\n    _this.updateRoot = function (updates, suppressOnRelease) {\n      if (suppressOnRelease === void 0) {\n        suppressOnRelease = false;\n      }\n\n      var currentNode = _this.getRoot() || {};\n\n      _this.replaceRoot(mosaicUpdates_1.updateTree(currentNode, updates), suppressOnRelease);\n    };\n\n    _this.replaceRoot = function (currentNode, suppressOnRelease) {\n      if (suppressOnRelease === void 0) {\n        suppressOnRelease = false;\n      }\n\n      _this.props.onChange(currentNode);\n\n      if (!suppressOnRelease && _this.props.onRelease) {\n        _this.props.onRelease(currentNode);\n      }\n\n      if (isUncontrolled(_this.props)) {\n        _this.setState({\n          currentNode: currentNode\n        });\n      }\n    };\n\n    _this.actions = {\n      updateTree: _this.updateRoot,\n      remove: function remove(path) {\n        if (path.length === 0) {\n          _this.replaceRoot(null);\n        } else {\n          _this.updateRoot([mosaicUpdates_1.createRemoveUpdate(_this.getRoot(), path)]);\n        }\n      },\n      expand: function expand(path, percentage) {\n        if (percentage === void 0) {\n          percentage = DEFAULT_EXPAND_PERCENTAGE;\n        }\n\n        return _this.updateRoot([mosaicUpdates_1.createExpandUpdate(path, percentage)]);\n      },\n      getRoot: function getRoot() {\n        return _this.getRoot();\n      },\n      hide: function hide(path) {\n        return _this.updateRoot([mosaicUpdates_1.createHideUpdate(path)]);\n      },\n      replaceWith: function replaceWith(path, newNode) {\n        return _this.updateRoot([{\n          path: path,\n          spec: {\n            $set: newNode\n          }\n        }]);\n      }\n    };\n    _this.childContext = {\n      mosaicActions: _this.actions,\n      mosaicId: _this.state.mosaicId\n    };\n    return _this;\n  }\n\n  MosaicWithoutDragDropContext.getDerivedStateFromProps = function (nextProps, prevState) {\n    if (nextProps.mosaicId && prevState.mosaicId !== nextProps.mosaicId && process.env.NODE_ENV !== 'production') {\n      throw new Error('Mosaic does not support updating the mosaicId after instantiation');\n    }\n\n    if (isUncontrolled(nextProps) && nextProps.initialValue !== prevState.lastInitialValue) {\n      return {\n        lastInitialValue: nextProps.initialValue,\n        currentNode: nextProps.initialValue\n      };\n    }\n\n    return null;\n  };\n\n  MosaicWithoutDragDropContext.prototype.render = function () {\n    var className = this.props.className;\n    return react_1.default.createElement(contextTypes_1.MosaicContext.Provider, {\n      value: this.childContext\n    }, react_1.default.createElement(\"div\", {\n      className: classnames_1.default(className, 'mosaic mosaic-drop-target')\n    }, this.renderTree(), react_1.default.createElement(RootDropTargets_1.RootDropTargets, null)));\n  };\n\n  MosaicWithoutDragDropContext.prototype.getRoot = function () {\n    if (isUncontrolled(this.props)) {\n      return this.state.currentNode;\n    } else {\n      return this.props.value;\n    }\n  };\n\n  MosaicWithoutDragDropContext.prototype.renderTree = function () {\n    var root = this.getRoot();\n    this.validateTree(root);\n\n    if (root === null || root === undefined) {\n      return this.props.zeroStateView;\n    } else {\n      var _a = this.props,\n          renderTile = _a.renderTile,\n          resize = _a.resize;\n      return react_1.default.createElement(MosaicRoot_1.MosaicRoot, {\n        root: root,\n        renderTile: renderTile,\n        resize: resize\n      });\n    }\n  };\n\n  MosaicWithoutDragDropContext.prototype.validateTree = function (node) {\n    if (process.env.NODE_ENV !== 'production') {\n      var duplicates = keys_1.default(pickBy_1.default(countBy_1.default(mosaicUtilities_1.getLeaves(node)), function (n) {\n        return n > 1;\n      }));\n\n      if (duplicates.length > 0) {\n        throw new Error(\"Duplicate IDs [\" + duplicates.join(', ') + \"] detected. Mosaic does not support leaves with the same ID\");\n      }\n    }\n  };\n\n  MosaicWithoutDragDropContext.defaultProps = {\n    onChange: function onChange() {\n      return void 0;\n    },\n    zeroStateView: react_1.default.createElement(MosaicZeroState_1.MosaicZeroState, null),\n    className: 'mosaic-blueprint-theme'\n  };\n  return MosaicWithoutDragDropContext;\n}(react_1.default.PureComponent);\n\nexports.MosaicWithoutDragDropContext = MosaicWithoutDragDropContext;\n\nvar Mosaic =\n/** @class */\nfunction (_super) {\n  __extends(Mosaic, _super);\n\n  function Mosaic() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Mosaic.prototype.render = function () {\n    return react_1.default.createElement(react_dnd_1.DndProvider, {\n      backend: react_dnd_multi_backend_1.default,\n      options: HTML5toTouch_1.default\n    }, react_1.default.createElement(MosaicWithoutDragDropContext, __assign({}, this.props)));\n  };\n\n  return Mosaic;\n}(react_1.default.PureComponent);\n\nexports.Mosaic = Mosaic;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z\"\n}), 'ViewColumn');\n\nexports.default = _default;","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DEFAULT_CONTROLS_WITHOUT_CREATION = exports.DEFAULT_CONTROLS_WITH_CREATION = void 0;\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar ExpandButton_1 = require(\"./ExpandButton\");\n\nvar RemoveButton_1 = require(\"./RemoveButton\");\n\nvar ReplaceButton_1 = require(\"./ReplaceButton\");\n\nvar SplitButton_1 = require(\"./SplitButton\");\n\nexports.DEFAULT_CONTROLS_WITH_CREATION = react_1.default.Children.toArray([react_1.default.createElement(ReplaceButton_1.ReplaceButton, null), react_1.default.createElement(SplitButton_1.SplitButton, null), react_1.default.createElement(ExpandButton_1.ExpandButton, null), react_1.default.createElement(RemoveButton_1.RemoveButton, null)]);\nexports.DEFAULT_CONTROLS_WITHOUT_CREATION = react_1.default.Children.toArray([react_1.default.createElement(ExpandButton_1.ExpandButton, null), react_1.default.createElement(RemoveButton_1.RemoveButton, null)]);","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExpandButton = void 0;\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar contextTypes_1 = require(\"../contextTypes\");\n\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\n\nvar MosaicButton_1 = require(\"./MosaicButton\");\n\nvar ExpandButton =\n/** @class */\nfunction (_super) {\n  __extends(ExpandButton, _super);\n\n  function ExpandButton() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ExpandButton.prototype.render = function () {\n    var _this = this;\n\n    return react_1.default.createElement(contextTypes_1.MosaicContext.Consumer, null, function (_a) {\n      var mosaicActions = _a.mosaicActions;\n      return MosaicButton_1.createDefaultToolbarButton('Expand', classnames_1.default('expand-button', OptionalBlueprint_1.OptionalBlueprint.getIconClass('MAXIMIZE')), _this.createExpand(mosaicActions));\n    });\n  };\n\n  ExpandButton.prototype.createExpand = function (mosaicActions) {\n    var _this = this;\n\n    return function () {\n      mosaicActions.expand(_this.context.mosaicWindowActions.getPath());\n\n      if (_this.props.onClick) {\n        _this.props.onClick();\n      }\n    };\n  };\n\n  ExpandButton.contextType = contextTypes_1.MosaicWindowContext;\n  return ExpandButton;\n}(react_1.default.PureComponent);\n\nexports.ExpandButton = ExpandButton;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MosaicDragType = void 0;\n/**\n * Used by `react-dnd`\n * @type {{WINDOW: string}}\n */\n\nexports.MosaicDragType = {\n  WINDOW: 'MosaicWindow'\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MosaicDropTargetPosition = void 0;\nexports.MosaicDropTargetPosition = {\n  TOP: 'top',\n  BOTTOM: 'bottom',\n  LEFT: 'left',\n  RIGHT: 'right'\n};","\"use strict\";\n\nvar _require = require('./Component'),\n    CopyToClipboard = _require.CopyToClipboard;\n\nCopyToClipboard.CopyToClipboard = CopyToClipboard;\nmodule.exports = CopyToClipboard;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z\"\n}), 'ExpandMoreSharp');\n\nexports.default = _default;","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return undefined;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction stringifiable(obj) {\n  // Safely stringify Object.create(null)\n\n  /* istanbul ignore next */\n  return typeof obj === 'object' && !('toString' in obj) ? Object.prototype.toString.call(obj).slice(8, -1) : obj;\n}\n\nvar isProduction = typeof process === 'object' && process.env.NODE_ENV === 'production';\n\nfunction invariant(condition, message) {\n  if (!condition) {\n    /* istanbul ignore next */\n    if (isProduction) {\n      throw new Error('Invariant failed');\n    }\n\n    throw new Error(message());\n  }\n}\n\nexports.invariant = invariant;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar splice = Array.prototype.splice;\nvar toString = Object.prototype.toString;\n\nfunction type(obj) {\n  return toString.call(obj).slice(8, -1);\n}\n\nvar assign = Object.assign ||\n/* istanbul ignore next */\nfunction (target, source) {\n  getAllKeys(source).forEach(function (key) {\n    if (hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  });\n  return target;\n};\n\nvar getAllKeys = typeof Object.getOwnPropertySymbols === 'function' ? function (obj) {\n  return Object.keys(obj).concat(Object.getOwnPropertySymbols(obj));\n}\n/* istanbul ignore next */\n: function (obj) {\n  return Object.keys(obj);\n};\n\nfunction copy(object) {\n  return Array.isArray(object) ? assign(object.constructor(object.length), object) : type(object) === 'Map' ? new Map(object) : type(object) === 'Set' ? new Set(object) : object && typeof object === 'object' ? assign(Object.create(Object.getPrototypeOf(object)), object)\n  /* istanbul ignore next */\n  : object;\n}\n\nvar Context =\n/** @class */\nfunction () {\n  function Context() {\n    this.commands = assign({}, defaultCommands);\n    this.update = this.update.bind(this); // Deprecated: update.extend, update.isEquals and update.newContext\n\n    this.update.extend = this.extend = this.extend.bind(this);\n\n    this.update.isEquals = function (x, y) {\n      return x === y;\n    };\n\n    this.update.newContext = function () {\n      return new Context().update;\n    };\n  }\n\n  Object.defineProperty(Context.prototype, \"isEquals\", {\n    get: function get() {\n      return this.update.isEquals;\n    },\n    set: function set(value) {\n      this.update.isEquals = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Context.prototype.extend = function (directive, fn) {\n    this.commands[directive] = fn;\n  };\n\n  Context.prototype.update = function (object, $spec) {\n    var _this = this;\n\n    var spec = typeof $spec === 'function' ? {\n      $apply: $spec\n    } : $spec;\n\n    if (!(Array.isArray(object) && Array.isArray(spec))) {\n      invariant(!Array.isArray(spec), function () {\n        return \"update(): You provided an invalid spec to update(). The spec may \" + \"not contain an array except as the value of $set, $push, $unshift, \" + \"$splice or any custom command allowing an array value.\";\n      });\n    }\n\n    invariant(typeof spec === 'object' && spec !== null, function () {\n      return \"update(): You provided an invalid spec to update(). The spec and \" + \"every included key path must be plain objects containing one of the \" + (\"following commands: \" + Object.keys(_this.commands).join(', ') + \".\");\n    });\n    var nextObject = object;\n    getAllKeys(spec).forEach(function (key) {\n      if (hasOwnProperty.call(_this.commands, key)) {\n        var objectWasNextObject = object === nextObject;\n        nextObject = _this.commands[key](spec[key], nextObject, spec, object);\n\n        if (objectWasNextObject && _this.isEquals(nextObject, object)) {\n          nextObject = object;\n        }\n      } else {\n        var nextValueForKey = type(object) === 'Map' ? _this.update(object.get(key), spec[key]) : _this.update(object[key], spec[key]);\n        var nextObjectValue = type(nextObject) === 'Map' ? nextObject.get(key) : nextObject[key];\n\n        if (!_this.isEquals(nextValueForKey, nextObjectValue) || typeof nextValueForKey === 'undefined' && !hasOwnProperty.call(object, key)) {\n          if (nextObject === object) {\n            nextObject = copy(object);\n          }\n\n          if (type(nextObject) === 'Map') {\n            nextObject.set(key, nextValueForKey);\n          } else {\n            nextObject[key] = nextValueForKey;\n          }\n        }\n      }\n    });\n    return nextObject;\n  };\n\n  return Context;\n}();\n\nexports.Context = Context;\nvar defaultCommands = {\n  $push: function $push(value, nextObject, spec) {\n    invariantPushAndUnshift(nextObject, spec, '$push');\n    return value.length ? nextObject.concat(value) : nextObject;\n  },\n  $unshift: function $unshift(value, nextObject, spec) {\n    invariantPushAndUnshift(nextObject, spec, '$unshift');\n    return value.length ? value.concat(nextObject) : nextObject;\n  },\n  $splice: function $splice(value, nextObject, spec, originalObject) {\n    invariantSplices(nextObject, spec);\n    value.forEach(function (args) {\n      invariantSplice(args);\n\n      if (nextObject === originalObject && args.length) {\n        nextObject = copy(originalObject);\n      }\n\n      splice.apply(nextObject, args);\n    });\n    return nextObject;\n  },\n  $set: function $set(value, _nextObject, spec) {\n    invariantSet(spec);\n    return value;\n  },\n  $toggle: function $toggle(targets, nextObject) {\n    invariantSpecArray(targets, '$toggle');\n    var nextObjectCopy = targets.length ? copy(nextObject) : nextObject;\n    targets.forEach(function (target) {\n      nextObjectCopy[target] = !nextObject[target];\n    });\n    return nextObjectCopy;\n  },\n  $unset: function $unset(value, nextObject, _spec, originalObject) {\n    invariantSpecArray(value, '$unset');\n    value.forEach(function (key) {\n      if (Object.hasOwnProperty.call(nextObject, key)) {\n        if (nextObject === originalObject) {\n          nextObject = copy(originalObject);\n        }\n\n        delete nextObject[key];\n      }\n    });\n    return nextObject;\n  },\n  $add: function $add(values, nextObject, _spec, originalObject) {\n    invariantMapOrSet(nextObject, '$add');\n    invariantSpecArray(values, '$add');\n\n    if (type(nextObject) === 'Map') {\n      values.forEach(function (_a) {\n        var key = _a[0],\n            value = _a[1];\n\n        if (nextObject === originalObject && nextObject.get(key) !== value) {\n          nextObject = copy(originalObject);\n        }\n\n        nextObject.set(key, value);\n      });\n    } else {\n      values.forEach(function (value) {\n        if (nextObject === originalObject && !nextObject.has(value)) {\n          nextObject = copy(originalObject);\n        }\n\n        nextObject.add(value);\n      });\n    }\n\n    return nextObject;\n  },\n  $remove: function $remove(value, nextObject, _spec, originalObject) {\n    invariantMapOrSet(nextObject, '$remove');\n    invariantSpecArray(value, '$remove');\n    value.forEach(function (key) {\n      if (nextObject === originalObject && nextObject.has(key)) {\n        nextObject = copy(originalObject);\n      }\n\n      nextObject.delete(key);\n    });\n    return nextObject;\n  },\n  $merge: function $merge(value, nextObject, _spec, originalObject) {\n    invariantMerge(nextObject, value);\n    getAllKeys(value).forEach(function (key) {\n      if (value[key] !== nextObject[key]) {\n        if (nextObject === originalObject) {\n          nextObject = copy(originalObject);\n        }\n\n        nextObject[key] = value[key];\n      }\n    });\n    return nextObject;\n  },\n  $apply: function $apply(value, original) {\n    invariantApply(value);\n    return value(original);\n  }\n};\nvar defaultContext = new Context();\nexports.isEquals = defaultContext.update.isEquals;\nexports.extend = defaultContext.extend;\nexports.default = defaultContext.update; // @ts-ignore\n\nexports.default.default = module.exports = assign(exports.default, exports); // invariants\n\nfunction invariantPushAndUnshift(value, spec, command) {\n  invariant(Array.isArray(value), function () {\n    return \"update(): expected target of \" + stringifiable(command) + \" to be an array; got \" + stringifiable(value) + \".\";\n  });\n  invariantSpecArray(spec[command], command);\n}\n\nfunction invariantSpecArray(spec, command) {\n  invariant(Array.isArray(spec), function () {\n    return \"update(): expected spec of \" + stringifiable(command) + \" to be an array; got \" + stringifiable(spec) + \". \" + \"Did you forget to wrap your parameter in an array?\";\n  });\n}\n\nfunction invariantSplices(value, spec) {\n  invariant(Array.isArray(value), function () {\n    return \"Expected $splice target to be an array; got \" + stringifiable(value);\n  });\n  invariantSplice(spec.$splice);\n}\n\nfunction invariantSplice(value) {\n  invariant(Array.isArray(value), function () {\n    return \"update(): expected spec of $splice to be an array of arrays; got \" + stringifiable(value) + \". \" + \"Did you forget to wrap your parameters in an array?\";\n  });\n}\n\nfunction invariantApply(fn) {\n  invariant(typeof fn === 'function', function () {\n    return \"update(): expected spec of $apply to be a function; got \" + stringifiable(fn) + \".\";\n  });\n}\n\nfunction invariantSet(spec) {\n  invariant(Object.keys(spec).length === 1, function () {\n    return \"Cannot have more than one key in an object with $set\";\n  });\n}\n\nfunction invariantMerge(target, specValue) {\n  invariant(specValue && typeof specValue === 'object', function () {\n    return \"update(): $merge expects a spec of type 'object'; got \" + stringifiable(specValue);\n  });\n  invariant(target && typeof target === 'object', function () {\n    return \"update(): $merge expects a target of type 'object'; got \" + stringifiable(target);\n  });\n}\n\nfunction invariantMapOrSet(target, command) {\n  var typeOfTarget = type(target);\n  invariant(typeOfTarget === 'Map' || typeOfTarget === 'Set', function () {\n    return \"update(): \" + stringifiable(command) + \" expects a target of type Set or Map; got \" + stringifiable(typeOfTarget);\n  });\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"\n}), 'PaletteSharp');\n\nexports.default = _default;","/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * The base implementation of `_.delay` and `_.defer` which accepts `args`\n * to provide to `func`.\n *\n * @private\n * @param {Function} func The function to delay.\n * @param {number} wait The number of milliseconds to delay invocation.\n * @param {Array} args The arguments to provide to `func`.\n * @returns {number|Object} Returns the timer id or timeout object.\n */\nfunction baseDelay(func, wait, args) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return setTimeout(function() { func.apply(undefined, args); }, wait);\n}\n\nmodule.exports = baseDelay;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreHorizSharp');\n\nexports.default = _default;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && obj.hasOwnProperty('current')\n  );\n}","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDefaultToolbarButton = void 0;\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\n\nfunction createDefaultToolbarButton(title, className, onClick, text) {\n  return react_1.default.createElement(\"button\", {\n    title: title,\n    onClick: onClick,\n    className: classnames_1.default('mosaic-default-control', OptionalBlueprint_1.OptionalBlueprint.getClasses('BUTTON', 'MINIMAL'), className)\n  }, text && react_1.default.createElement(\"span\", {\n    className: \"control-text\"\n  }, text));\n}\n\nexports.createDefaultToolbarButton = createDefaultToolbarButton;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreVertSharp');\n\nexports.default = _default;","var baseSlice = require('./_baseSlice'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` with `n` elements taken from the beginning.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to take.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.take([1, 2, 3]);\n * // => [1]\n *\n * _.take([1, 2, 3], 2);\n * // => [1, 2]\n *\n * _.take([1, 2, 3], 5);\n * // => [1, 2, 3]\n *\n * _.take([1, 2, 3], 0);\n * // => []\n */\nfunction take(array, n, guard) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  return baseSlice(array, 0, n < 0 ? 0 : n);\n}\n\nmodule.exports = take;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  _setPrototypeOf(subClass.prototype, superClass && superClass.prototype);\n\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.getPrototypeOf || function _getPrototypeOf(o) {\n    return o.__proto__;\n  };\n\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar style = {\n  position: 'absolute',\n  left: 0,\n  top: 0,\n  right: 0,\n  bottom: 0,\n  overflow: 'hidden',\n  zIndex: -1,\n  visibility: 'hidden',\n  pointerEvents: 'none'\n};\nvar styleChild = {\n  position: 'absolute',\n  left: 0,\n  top: 0,\n  transition: '0s'\n};\n\nfunction isAncestor(node, ancestor) {\n  var current = node.parentNode;\n\n  while (current) {\n    if (current === ancestor) {\n      return true;\n    }\n\n    current = current.parentNode;\n  }\n\n  return false;\n}\n\nvar ResizeObserver = /*#__PURE__*/function (_React$Component) {\n  function ResizeObserver() {\n    var _getPrototypeOf2;\n\n    var _temp, _this;\n\n    _classCallCheck(this, ResizeObserver);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ResizeObserver)).call.apply(_getPrototypeOf2, [this].concat(args))), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_expandRef\", null), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_shrinkRef\", null), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_node\", null), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_lastWidth\", void 0), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_lastHeight\", void 0), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_lastRect\", void 0), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_hasResize\", false), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleScroll\", function (event) {\n      if ((_this.props.onPosition || _this.props.onReflow || _this.props.onResize) && (_this._globalScollTarget(event.target) || _this._refScrollTarget(event.target) || _this._ancestorScollTarget(event.target))) {\n        _this._reflow();\n      }\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_globalScollTarget\", function (target) {\n      return target instanceof Node && (_this.props.onPosition || _this.props.onReflow) && (target === document || target === document.documentElement || target === document.body);\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_refScrollTarget\", function (target) {\n      if (target instanceof HTMLElement && (target === _this._expandRef || target === _this._shrinkRef)) {\n        var width = target.offsetWidth;\n        var height = target.offsetHeight;\n\n        if (width !== _this._lastWidth || height !== _this._lastHeight) {\n          _this._lastWidth = width;\n          _this._lastHeight = height;\n\n          _this._reset(_this._expandRef);\n\n          _this._reset(_this._shrinkRef);\n\n          return true;\n        }\n      }\n\n      return false;\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_ancestorScollTarget\", function (target) {\n      return target instanceof Node && (_this.props.onPosition || _this.props.onReflow) && _this._node && isAncestor(_this._node, target);\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_reflow\", function () {\n      if (!_this._node || !(_this._node.parentNode instanceof Element)) return;\n\n      var rect = _this._node.parentNode.getBoundingClientRect();\n\n      var sizeChanged = true;\n      var positionChanged = true;\n\n      if (_this._lastRect) {\n        sizeChanged = rect.width !== _this._lastRect.width || rect.height !== _this._lastRect.height;\n        positionChanged = rect.top !== _this._lastRect.top || rect.left !== _this._lastRect.left;\n      }\n\n      _this._lastRect = rect;\n\n      if (sizeChanged && _this.props.onResize) {\n        _this.props.onResize(rect);\n      }\n\n      if (positionChanged && _this.props.onPosition) {\n        _this.props.onPosition(rect);\n      }\n\n      if ((sizeChanged || positionChanged) && _this.props.onReflow) {\n        _this.props.onReflow(rect);\n      }\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleRef\", function (node) {\n      _this._node = node;\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleExpandRef\", function (node) {\n      _this._reset(node);\n\n      _this._expandRef = node;\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleShrinkRef\", function (node) {\n      _this._reset(node);\n\n      _this._shrinkRef = node;\n    }), _temp));\n  }\n\n  _createClass(ResizeObserver, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._reflow();\n\n      window.addEventListener('scroll', this._handleScroll, true);\n\n      if (this.props.onPosition || this.props.onReflow) {\n        window.addEventListener('resize', this._reflow, true);\n        this._hasResize = true;\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if ((this.props.onPosition || this.props.onReflow) && !this._hasResize) {\n        window.addEventListener('resize', this._reflow, true);\n        this._hasResize = true;\n      } else if (!(this.props.onPosition || this.props.onReflow) && this._hasResize) {\n        window.removeEventListener('resize', this._reflow, true);\n        this._hasResize = false;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('scroll', this._handleScroll, true);\n\n      if (this._hasResize) {\n        window.removeEventListener('resize', this._reflow, true);\n      }\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset(node) {\n      if (node) {\n        node.scrollLeft = 100000;\n        node.scrollTop = 100000;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.onResize || this.props.onReflow) {\n        return _react.default.createElement(\"div\", {\n          style: style,\n          ref: this._handleRef\n        }, _react.default.createElement(\"div\", {\n          ref: this._handleExpandRef,\n          style: style\n        }, _react.default.createElement(\"div\", {\n          style: _objectSpread({}, styleChild, {\n            width: 100000,\n            height: 100000\n          })\n        })), _react.default.createElement(\"div\", {\n          ref: this._handleShrinkRef,\n          style: style\n        }, _react.default.createElement(\"div\", {\n          style: _objectSpread({}, styleChild, {\n            width: '200%',\n            height: '200%'\n          })\n        })));\n      }\n\n      return _react.default.createElement(\"noscript\", {\n        ref: this._handleRef\n      });\n    }\n  }]);\n\n  _inherits(ResizeObserver, _React$Component);\n\n  return ResizeObserver;\n}(_react.default.Component);\n\n_defineProperty(ResizeObserver, \"displayName\", 'ResizeObserver');\n\nvar _default = ResizeObserver;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport { useMemo } from 'react';\nimport { registerTarget } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { TargetConnector } from '../../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../../common/DropTargetMonitorImpl';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDropHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      canDrop: function canDrop() {\n        var canDrop = spec.current.canDrop;\n        return canDrop ? canDrop(monitor.getItem(), monitor) : true;\n      },\n      hover: function hover() {\n        var hover = spec.current.hover;\n\n        if (hover) {\n          hover(monitor.getItem(), monitor);\n        }\n      },\n      drop: function drop() {\n        var drop = spec.current.drop;\n\n        if (drop) {\n          return drop(monitor.getItem(), monitor);\n        }\n      }\n    };\n  }, [monitor]);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerTarget = registerTarget(spec.current.accept, handler, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [monitor, connector]);\n}","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDropHandler, useDropTargetMonitor } from './internal/drop';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification\n */\n\nexport function useDrop(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec;\n  invariant(spec.accept != null, 'accept must be defined');\n\n  var _useDropTargetMonitor = useDropTargetMonitor(),\n      _useDropTargetMonitor2 = _slicedToArray(_useDropTargetMonitor, 2),\n      monitor = _useDropTargetMonitor2[0],\n      connector = _useDropTargetMonitor2[1];\n\n  useDropHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDropTarget = useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = spec.options || null;\n    connector.reconnect();\n  }, [spec.options]);\n  return [result, connectDropTarget];\n}","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ReplaceButton = void 0;\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar noop_1 = __importDefault(require(\"lodash/noop\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar contextTypes_1 = require(\"../contextTypes\");\n\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\n\nvar MosaicButton_1 = require(\"./MosaicButton\");\n\nvar ReplaceButton =\n/** @class */\nfunction (_super) {\n  __extends(ReplaceButton, _super);\n\n  function ReplaceButton() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.replace = function () {\n      _this.context.mosaicWindowActions.replaceWithNew().then(function () {\n        if (_this.props.onClick) {\n          _this.props.onClick();\n        }\n      }).catch(noop_1.default); // Swallow rejections (i.e. on user cancel)\n\n    };\n\n    return _this;\n  }\n\n  ReplaceButton.prototype.render = function () {\n    return MosaicButton_1.createDefaultToolbarButton('Replace Window', classnames_1.default('replace-button', OptionalBlueprint_1.OptionalBlueprint.getIconClass('EXCHANGE')), this.replace);\n  };\n\n  ReplaceButton.contextType = contextTypes_1.MosaicWindowContext;\n  return ReplaceButton;\n}(react_1.default.PureComponent);\n\nexports.ReplaceButton = ReplaceButton;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Separator = void 0;\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar Separator =\n/** @class */\nfunction (_super) {\n  __extends(Separator, _super);\n\n  function Separator() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Separator.prototype.render = function () {\n    return react_1.default.createElement(\"div\", {\n      className: \"separator\"\n    });\n  };\n\n  return Separator;\n}(react_1.default.PureComponent);\n\nexports.Separator = Separator;","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    basePickBy = require('./_basePickBy'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  if (object == null) {\n    return {};\n  }\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\n    return [prop];\n  });\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, props, function(value, path) {\n    return predicate(value, path[0]);\n  });\n}\n\nmodule.exports = pickBy;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'AddSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SplitButton = void 0;\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar noop_1 = __importDefault(require(\"lodash/noop\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar contextTypes_1 = require(\"../contextTypes\");\n\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\n\nvar MosaicButton_1 = require(\"./MosaicButton\");\n\nvar SplitButton =\n/** @class */\nfunction (_super) {\n  __extends(SplitButton, _super);\n\n  function SplitButton() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.split = function () {\n      _this.context.mosaicWindowActions.split().then(function () {\n        if (_this.props.onClick) {\n          _this.props.onClick();\n        }\n      }).catch(noop_1.default); // Swallow rejections (i.e. on user cancel)\n\n    };\n\n    return _this;\n  }\n\n  SplitButton.prototype.render = function () {\n    return MosaicButton_1.createDefaultToolbarButton('Split Window', classnames_1.default('split-button', OptionalBlueprint_1.OptionalBlueprint.getIconClass('ADD_COLUMN_RIGHT')), this.split);\n  };\n\n  SplitButton.contextType = contextTypes_1.MosaicWindowContext;\n  return SplitButton;\n}(react_1.default.PureComponent);\n\nexports.SplitButton = SplitButton;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"\n}), 'FullscreenExitSharp');\n\nexports.default = _default;","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","var baseDelay = require('./_baseDelay'),\n    baseRest = require('./_baseRest');\n\n/**\n * Defers invoking the `func` until the current call stack has cleared. Any\n * additional arguments are provided to `func` when it's invoked.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to defer.\n * @param {...*} [args] The arguments to invoke `func` with.\n * @returns {number} Returns the timer id.\n * @example\n *\n * _.defer(function(text) {\n *   console.log(text);\n * }, 'deferred');\n * // => Logs 'deferred' after one millisecond.\n */\nvar defer = baseRest(function(func, args) {\n  return baseDelay(func, 1, args);\n});\n\nmodule.exports = defer;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar IComCom = function (_React$Component) {\n  _inherits(IComCom, _React$Component);\n\n  function IComCom(args) {\n    _classCallCheck(this, IComCom);\n\n    var _this = _possibleConstructorReturn(this, (IComCom.__proto__ || Object.getPrototypeOf(IComCom)).call(this, args));\n\n    _this.onReceiveMessage = _this.onReceiveMessage.bind(_this);\n    _this.onLoad = _this.onLoad.bind(_this);\n    _this.sendMessage = _this.sendMessage.bind(_this);\n    return _this;\n  }\n\n  _createClass(IComCom, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      window.addEventListener('message', this.onReceiveMessage);\n\n      if (this._frame) {\n        this._frame.addEventListener('load', this.onLoad);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      window.removeEventListener('message', this.onReceiveMessage, false);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.postMessageData !== nextProps.postMessageData) {\n        this.sendMessage(nextProps.postMessageData);\n      }\n    }\n  }, {\n    key: 'onReceiveMessage',\n    value: function onReceiveMessage(event) {\n      var handleReceiveMessage = this.props.handleReceiveMessage;\n\n      if (handleReceiveMessage) {\n        handleReceiveMessage(event);\n      }\n    }\n  }, {\n    key: 'onLoad',\n    value: function onLoad() {\n      var handleReady = this.props.handleReady;\n\n      if (handleReady) {\n        handleReady();\n      }\n\n      this.sendMessage(this.props.postMessageData);\n    }\n  }, {\n    key: 'sendMessage',\n    value: function sendMessage(postMessageData) {\n      this._frame.contentWindow.postMessage(postMessageData, this.props.targetOrigin);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var attributes = this.props.attributes;\n      return _react2.default.createElement('iframe', _extends({\n        ref: function ref(el) {\n          _this2._frame = el;\n        }\n      }, Object.assign({}, IComCom.defaultAttributes, attributes)));\n    }\n  }]);\n\n  return IComCom;\n}(_react2.default.Component);\n\nIComCom.propTypes = {\n  attributes: _propTypes2.default.shape({\n    frameBorder: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n    height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n    name: _propTypes2.default.string,\n    scrolling: _propTypes2.default.string,\n    sandbox: _propTypes2.default.string,\n    srcDoc: _propTypes2.default.string,\n    src: _propTypes2.default.string.isRequired,\n    width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number])\n  }),\n  handleReceiveMessage: _propTypes2.default.func,\n  handleReady: _propTypes2.default.func,\n  postMessageData: _propTypes2.default.any,\n  targetOrigin: _propTypes2.default.string\n};\nIComCom.defaultProps = {\n  targetOrigin: '*'\n};\nIComCom.defaultAttributes = {\n  frameBorder: 0\n};\nexports.default = IComCom;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MosaicWindow = exports.SourceDropConnectedInternalMosaicWindow = exports.SourceConnectedInternalMosaicWindow = exports.InternalMosaicWindow = void 0;\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar defer_1 = __importDefault(require(\"lodash/defer\"));\n\nvar dropRight_1 = __importDefault(require(\"lodash/dropRight\"));\n\nvar isEmpty_1 = __importDefault(require(\"lodash/isEmpty\"));\n\nvar isEqual_1 = __importDefault(require(\"lodash/isEqual\"));\n\nvar values_1 = __importDefault(require(\"lodash/values\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_dnd_1 = require(\"react-dnd\");\n\nvar defaultToolbarControls_1 = require(\"./buttons/defaultToolbarControls\");\n\nvar Separator_1 = require(\"./buttons/Separator\");\n\nvar contextTypes_1 = require(\"./contextTypes\");\n\nvar internalTypes_1 = require(\"./internalTypes\");\n\nvar MosaicDropTarget_1 = require(\"./MosaicDropTarget\");\n\nvar types_1 = require(\"./types\");\n\nvar mosaicUpdates_1 = require(\"./util/mosaicUpdates\");\n\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\n\nvar OptionalBlueprint_1 = require(\"./util/OptionalBlueprint\");\n\nvar InternalMosaicWindow =\n/** @class */\nfunction (_super) {\n  __extends(InternalMosaicWindow, _super);\n\n  function InternalMosaicWindow() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      additionalControlsOpen: false\n    };\n    _this.rootElement = null;\n\n    _this.renderDropTarget = function (position) {\n      var path = _this.props.path;\n      return react_1.default.createElement(MosaicDropTarget_1.MosaicDropTarget, {\n        position: position,\n        path: path,\n        key: position\n      });\n    };\n\n    _this.split = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      _this.checkCreateNode();\n\n      var _a = _this.props,\n          createNode = _a.createNode,\n          path = _a.path;\n      var mosaicActions = _this.context.mosaicActions;\n      var root = mosaicActions.getRoot();\n      var direction = _this.rootElement.offsetWidth > _this.rootElement.offsetHeight ? 'row' : 'column';\n      return Promise.resolve(createNode.apply(void 0, args)).then(function (second) {\n        return mosaicActions.replaceWith(path, {\n          direction: direction,\n          second: second,\n          first: mosaicUtilities_1.getAndAssertNodeAtPathExists(root, path)\n        });\n      });\n    };\n\n    _this.swap = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      _this.checkCreateNode();\n\n      var mosaicActions = _this.context.mosaicActions;\n      var _a = _this.props,\n          createNode = _a.createNode,\n          path = _a.path;\n      return Promise.resolve(createNode.apply(void 0, args)).then(function (node) {\n        return mosaicActions.replaceWith(path, node);\n      });\n    };\n\n    _this.setAdditionalControlsOpen = function (additionalControlsOpen) {\n      _this.setState({\n        additionalControlsOpen: additionalControlsOpen\n      });\n    };\n\n    _this.getPath = function () {\n      return _this.props.path;\n    };\n\n    _this.connectDragSource = function (connectedElements) {\n      var connectDragSource = _this.props.connectDragSource;\n      return connectDragSource(connectedElements);\n    };\n\n    _this.childContext = {\n      mosaicWindowActions: {\n        split: _this.split,\n        replaceWithNew: _this.swap,\n        setAdditionalControlsOpen: _this.setAdditionalControlsOpen,\n        getPath: _this.getPath,\n        connectDragSource: _this.connectDragSource\n      }\n    };\n    return _this;\n  }\n\n  InternalMosaicWindow.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        className = _a.className,\n        isOver = _a.isOver,\n        renderPreview = _a.renderPreview,\n        additionalControls = _a.additionalControls,\n        connectDropTarget = _a.connectDropTarget,\n        connectDragPreview = _a.connectDragPreview,\n        draggedMosaicId = _a.draggedMosaicId;\n    return react_1.default.createElement(contextTypes_1.MosaicWindowContext.Provider, {\n      value: this.childContext\n    }, connectDropTarget(react_1.default.createElement(\"div\", {\n      className: classnames_1.default('mosaic-window mosaic-drop-target', className, {\n        'drop-target-hover': isOver && draggedMosaicId === this.context.mosaicId,\n        'additional-controls-open': this.state.additionalControlsOpen\n      }),\n      ref: function ref(element) {\n        return _this.rootElement = element;\n      }\n    }, this.renderToolbar(), react_1.default.createElement(\"div\", {\n      className: \"mosaic-window-body\"\n    }, this.props.children), react_1.default.createElement(\"div\", {\n      className: \"mosaic-window-body-overlay\",\n      onClick: function onClick() {\n        return _this.setAdditionalControlsOpen(false);\n      }\n    }), react_1.default.createElement(\"div\", {\n      className: \"mosaic-window-additional-actions-bar\"\n    }, additionalControls), connectDragPreview(renderPreview(this.props)), react_1.default.createElement(\"div\", {\n      className: \"drop-target-container\"\n    }, values_1.default(internalTypes_1.MosaicDropTargetPosition).map(this.renderDropTarget)))));\n  };\n\n  InternalMosaicWindow.prototype.getToolbarControls = function () {\n    var _a = this.props,\n        toolbarControls = _a.toolbarControls,\n        createNode = _a.createNode;\n\n    if (toolbarControls) {\n      return toolbarControls;\n    } else if (createNode) {\n      return defaultToolbarControls_1.DEFAULT_CONTROLS_WITH_CREATION;\n    } else {\n      return defaultToolbarControls_1.DEFAULT_CONTROLS_WITHOUT_CREATION;\n    }\n  };\n\n  InternalMosaicWindow.prototype.renderToolbar = function () {\n    var _a;\n\n    var _this = this;\n\n    var _b = this.props,\n        title = _b.title,\n        draggable = _b.draggable,\n        additionalControls = _b.additionalControls,\n        additionalControlButtonText = _b.additionalControlButtonText,\n        path = _b.path,\n        renderToolbar = _b.renderToolbar;\n    var additionalControlsOpen = this.state.additionalControlsOpen;\n    var toolbarControls = this.getToolbarControls();\n    var draggableAndNotRoot = draggable && path.length > 0;\n    var connectIfDraggable = draggableAndNotRoot ? this.props.connectDragSource : function (el) {\n      return el;\n    };\n\n    if (renderToolbar) {\n      var connectedToolbar = connectIfDraggable(renderToolbar(this.props, draggable));\n      return react_1.default.createElement(\"div\", {\n        className: classnames_1.default('mosaic-window-toolbar', {\n          draggable: draggableAndNotRoot\n        })\n      }, connectedToolbar);\n    }\n\n    var titleDiv = connectIfDraggable(react_1.default.createElement(\"div\", {\n      title: title,\n      className: \"mosaic-window-title\"\n    }, title));\n    var hasAdditionalControls = !isEmpty_1.default(additionalControls);\n    return react_1.default.createElement(\"div\", {\n      className: classnames_1.default('mosaic-window-toolbar', {\n        draggable: draggableAndNotRoot\n      })\n    }, titleDiv, react_1.default.createElement(\"div\", {\n      className: classnames_1.default('mosaic-window-controls', OptionalBlueprint_1.OptionalBlueprint.getClasses('BUTTON_GROUP'))\n    }, hasAdditionalControls && react_1.default.createElement(\"button\", {\n      onClick: function onClick() {\n        return _this.setAdditionalControlsOpen(!additionalControlsOpen);\n      },\n      className: classnames_1.default(OptionalBlueprint_1.OptionalBlueprint.getClasses('BUTTON', 'MINIMAL'), OptionalBlueprint_1.OptionalBlueprint.getIconClass('MORE'), (_a = {}, _a[OptionalBlueprint_1.OptionalBlueprint.getClasses('ACTIVE')] = additionalControlsOpen, _a))\n    }, react_1.default.createElement(\"span\", {\n      className: \"control-text\"\n    }, additionalControlButtonText)), hasAdditionalControls && react_1.default.createElement(Separator_1.Separator, null), toolbarControls));\n  };\n\n  InternalMosaicWindow.prototype.checkCreateNode = function () {\n    if (this.props.createNode == null) {\n      throw new Error('Operation invalid unless `createNode` is defined');\n    }\n  };\n\n  InternalMosaicWindow.defaultProps = {\n    additionalControlButtonText: 'More',\n    draggable: true,\n    renderPreview: function renderPreview(_a) {\n      var title = _a.title;\n      return react_1.default.createElement(\"div\", {\n        className: \"mosaic-preview\"\n      }, react_1.default.createElement(\"div\", {\n        className: \"mosaic-window-toolbar\"\n      }, react_1.default.createElement(\"div\", {\n        className: \"mosaic-window-title\"\n      }, title)), react_1.default.createElement(\"div\", {\n        className: \"mosaic-window-body\"\n      }, react_1.default.createElement(\"h4\", null, title), react_1.default.createElement(OptionalBlueprint_1.OptionalBlueprint.Icon, {\n        iconSize: 72,\n        icon: \"application\"\n      })));\n    },\n    renderToolbar: null\n  };\n  InternalMosaicWindow.contextType = contextTypes_1.MosaicContext;\n  return InternalMosaicWindow;\n}(react_1.default.Component);\n\nexports.InternalMosaicWindow = InternalMosaicWindow;\nvar dragSource = {\n  beginDrag: function beginDrag(props, _monitor, component) {\n    if (props.onDragStart) {\n      props.onDragStart();\n    } // TODO: Actually just delete instead of hiding\n    // The defer is necessary as the element must be present on start for HTML DnD to not cry\n\n\n    var hideTimer = defer_1.default(function () {\n      return component.context.mosaicActions.hide(component.props.path);\n    });\n    return {\n      mosaicId: component.context.mosaicId,\n      hideTimer: hideTimer\n    };\n  },\n  endDrag: function endDrag(props, monitor, component) {\n    var hideTimer = monitor.getItem().hideTimer; // If the hide call hasn't happened yet, cancel it\n\n    window.clearTimeout(hideTimer);\n    var ownPath = component.props.path;\n    var dropResult = monitor.getDropResult() || {};\n    var mosaicActions = component.context.mosaicActions;\n    var position = dropResult.position,\n        destinationPath = dropResult.path;\n\n    if (position != null && destinationPath != null && !isEqual_1.default(destinationPath, ownPath)) {\n      mosaicActions.updateTree(mosaicUpdates_1.createDragToUpdates(mosaicActions.getRoot(), ownPath, destinationPath, position));\n\n      if (props.onDragEnd) {\n        props.onDragEnd('drop');\n      }\n    } else {\n      // TODO: restore node from captured state\n      mosaicActions.updateTree([{\n        path: dropRight_1.default(ownPath),\n        spec: {\n          splitPercentage: {\n            $set: null\n          }\n        }\n      }]);\n\n      if (props.onDragEnd) {\n        props.onDragEnd('reset');\n      }\n    }\n  }\n};\nvar dropTarget = {}; // Each step exported here just to keep react-hot-loader happy\n\nexports.SourceConnectedInternalMosaicWindow = react_dnd_1.DragSource(types_1.MosaicDragType.WINDOW, dragSource, function (connect, _monitor) {\n  return {\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview()\n  };\n})(InternalMosaicWindow);\nexports.SourceDropConnectedInternalMosaicWindow = react_dnd_1.DropTarget(types_1.MosaicDragType.WINDOW, dropTarget, function (connect, monitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    draggedMosaicId: (monitor.getItem() || {}).mosaicId\n  };\n})(exports.SourceConnectedInternalMosaicWindow);\n\nvar MosaicWindow =\n/** @class */\nfunction (_super) {\n  __extends(MosaicWindow, _super);\n\n  function MosaicWindow() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MosaicWindow.prototype.render = function () {\n    return react_1.default.createElement(exports.SourceDropConnectedInternalMosaicWindow, __assign({}, this.props));\n  };\n\n  return MosaicWindow;\n}(react_1.default.PureComponent);\n\nexports.MosaicWindow = MosaicWindow;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z\"\n}), 'LayersSharp');\n\nexports.default = _default;","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the number of times the key was returned by `iteratee`. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.countBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': 1, '6': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.countBy(['one', 'two', 'three'], 'length');\n * // => { '3': 2, '5': 1 }\n */\nvar countBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    ++result[key];\n  } else {\n    baseAssignValue(result, key, 1);\n  }\n});\n\nmodule.exports = countBy;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @license\n * Copyright 2019 Kevin Verdieck, originally developed at Palantir Technologies, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Mosaic_1 = require(\"./Mosaic\");\n\nObject.defineProperty(exports, \"Mosaic\", {\n  enumerable: true,\n  get: function get() {\n    return Mosaic_1.Mosaic;\n  }\n});\nObject.defineProperty(exports, \"MosaicWithoutDragDropContext\", {\n  enumerable: true,\n  get: function get() {\n    return Mosaic_1.MosaicWithoutDragDropContext;\n  }\n});\n\nvar types_1 = require(\"./types\");\n\nObject.defineProperty(exports, \"MosaicDragType\", {\n  enumerable: true,\n  get: function get() {\n    return types_1.MosaicDragType;\n  }\n});\n\nvar contextTypes_1 = require(\"./contextTypes\");\n\nObject.defineProperty(exports, \"MosaicContext\", {\n  enumerable: true,\n  get: function get() {\n    return contextTypes_1.MosaicContext;\n  }\n});\nObject.defineProperty(exports, \"MosaicWindowContext\", {\n  enumerable: true,\n  get: function get() {\n    return contextTypes_1.MosaicWindowContext;\n  }\n});\n\nvar mosaicUpdates_1 = require(\"./util/mosaicUpdates\");\n\nObject.defineProperty(exports, \"buildSpecFromUpdate\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUpdates_1.buildSpecFromUpdate;\n  }\n});\nObject.defineProperty(exports, \"createDragToUpdates\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUpdates_1.createDragToUpdates;\n  }\n});\nObject.defineProperty(exports, \"createExpandUpdate\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUpdates_1.createExpandUpdate;\n  }\n});\nObject.defineProperty(exports, \"createHideUpdate\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUpdates_1.createHideUpdate;\n  }\n});\nObject.defineProperty(exports, \"createRemoveUpdate\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUpdates_1.createRemoveUpdate;\n  }\n});\nObject.defineProperty(exports, \"updateTree\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUpdates_1.updateTree;\n  }\n});\n\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\n\nObject.defineProperty(exports, \"createBalancedTreeFromLeaves\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUtilities_1.createBalancedTreeFromLeaves;\n  }\n});\nObject.defineProperty(exports, \"Corner\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUtilities_1.Corner;\n  }\n});\nObject.defineProperty(exports, \"getAndAssertNodeAtPathExists\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUtilities_1.getAndAssertNodeAtPathExists;\n  }\n});\nObject.defineProperty(exports, \"getLeaves\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUtilities_1.getLeaves;\n  }\n});\nObject.defineProperty(exports, \"getNodeAtPath\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUtilities_1.getNodeAtPath;\n  }\n});\nObject.defineProperty(exports, \"getOtherBranch\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUtilities_1.getOtherBranch;\n  }\n});\nObject.defineProperty(exports, \"getOtherDirection\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUtilities_1.getOtherDirection;\n  }\n});\nObject.defineProperty(exports, \"getPathToCorner\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUtilities_1.getPathToCorner;\n  }\n});\nObject.defineProperty(exports, \"isParent\", {\n  enumerable: true,\n  get: function get() {\n    return mosaicUtilities_1.isParent;\n  }\n});\n\nvar MosaicWindow_1 = require(\"./MosaicWindow\");\n\nObject.defineProperty(exports, \"MosaicWindow\", {\n  enumerable: true,\n  get: function get() {\n    return MosaicWindow_1.MosaicWindow;\n  }\n});\n\nvar MosaicButton_1 = require(\"./buttons/MosaicButton\");\n\nObject.defineProperty(exports, \"createDefaultToolbarButton\", {\n  enumerable: true,\n  get: function get() {\n    return MosaicButton_1.createDefaultToolbarButton;\n  }\n});\n\nvar MosaicZeroState_1 = require(\"./MosaicZeroState\");\n\nObject.defineProperty(exports, \"MosaicZeroState\", {\n  enumerable: true,\n  get: function get() {\n    return MosaicZeroState_1.MosaicZeroState;\n  }\n});\n\nvar Separator_1 = require(\"./buttons/Separator\");\n\nObject.defineProperty(exports, \"Separator\", {\n  enumerable: true,\n  get: function get() {\n    return Separator_1.Separator;\n  }\n});\n\nvar ExpandButton_1 = require(\"./buttons/ExpandButton\");\n\nObject.defineProperty(exports, \"ExpandButton\", {\n  enumerable: true,\n  get: function get() {\n    return ExpandButton_1.ExpandButton;\n  }\n});\n\nvar ReplaceButton_1 = require(\"./buttons/ReplaceButton\");\n\nObject.defineProperty(exports, \"ReplaceButton\", {\n  enumerable: true,\n  get: function get() {\n    return ReplaceButton_1.ReplaceButton;\n  }\n});\n\nvar SplitButton_1 = require(\"./buttons/SplitButton\");\n\nObject.defineProperty(exports, \"SplitButton\", {\n  enumerable: true,\n  get: function get() {\n    return SplitButton_1.SplitButton;\n  }\n});\n\nvar RemoveButton_1 = require(\"./buttons/RemoveButton\");\n\nObject.defineProperty(exports, \"RemoveButton\", {\n  enumerable: true,\n  get: function get() {\n    return RemoveButton_1.RemoveButton;\n  }\n});\n\nvar defaultToolbarControls_1 = require(\"./buttons/defaultToolbarControls\");\n\nObject.defineProperty(exports, \"DEFAULT_CONTROLS_WITH_CREATION\", {\n  enumerable: true,\n  get: function get() {\n    return defaultToolbarControls_1.DEFAULT_CONTROLS_WITH_CREATION;\n  }\n});\nObject.defineProperty(exports, \"DEFAULT_CONTROLS_WITHOUT_CREATION\", {\n  enumerable: true,\n  get: function get() {\n    return defaultToolbarControls_1.DEFAULT_CONTROLS_WITHOUT_CREATION;\n  }\n});","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MosaicRoot = void 0;\n\nvar flatten_1 = __importDefault(require(\"lodash/flatten\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar contextTypes_1 = require(\"./contextTypes\");\n\nvar Split_1 = require(\"./Split\");\n\nvar BoundingBox_1 = require(\"./util/BoundingBox\");\n\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\n\nvar MosaicRoot =\n/** @class */\nfunction (_super) {\n  __extends(MosaicRoot, _super);\n\n  function MosaicRoot() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.onResize = function (percentage, path, suppressOnRelease) {\n      _this.context.mosaicActions.updateTree([{\n        path: path,\n        spec: {\n          splitPercentage: {\n            $set: percentage\n          }\n        }\n      }], suppressOnRelease);\n    };\n\n    return _this;\n  }\n\n  MosaicRoot.prototype.render = function () {\n    var root = this.props.root;\n    return react_1.default.createElement(\"div\", {\n      className: \"mosaic-root\"\n    }, this.renderRecursively(root, BoundingBox_1.BoundingBox.empty(), []));\n  };\n\n  MosaicRoot.prototype.renderRecursively = function (node, boundingBox, path) {\n    if (mosaicUtilities_1.isParent(node)) {\n      var splitPercentage = node.splitPercentage == null ? 50 : node.splitPercentage;\n\n      var _a = BoundingBox_1.BoundingBox.split(boundingBox, splitPercentage, node.direction),\n          first = _a.first,\n          second = _a.second;\n\n      return flatten_1.default([this.renderRecursively(node.first, first, path.concat('first')), this.renderSplit(node.direction, boundingBox, splitPercentage, path), this.renderRecursively(node.second, second, path.concat('second'))].filter(nonNullElement));\n    } else {\n      return react_1.default.createElement(\"div\", {\n        key: node,\n        className: \"mosaic-tile\",\n        style: __assign({}, BoundingBox_1.BoundingBox.asStyles(boundingBox))\n      }, this.props.renderTile(node, path));\n    }\n  };\n\n  MosaicRoot.prototype.renderSplit = function (direction, boundingBox, splitPercentage, path) {\n    var _this = this;\n\n    var resize = this.props.resize;\n\n    if (resize !== 'DISABLED') {\n      return react_1.default.createElement(Split_1.Split, __assign({\n        key: path.join(',') + 'splitter'\n      }, resize, {\n        boundingBox: boundingBox,\n        splitPercentage: splitPercentage,\n        direction: direction,\n        onChange: function onChange(percentage) {\n          return _this.onResize(percentage, path, true);\n        },\n        onRelease: function onRelease(percentage) {\n          return _this.onResize(percentage, path, false);\n        }\n      }));\n    } else {\n      return null;\n    }\n  };\n\n  MosaicRoot.contextType = contextTypes_1.MosaicContext;\n  return MosaicRoot;\n}(react_1.default.PureComponent);\n\nexports.MosaicRoot = MosaicRoot;\n\nfunction nonNullElement(x) {\n  return x !== null;\n}","\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BoundingBox = void 0;\n\nvar assertNever_1 = require(\"./assertNever\");\n\nvar BoundingBox;\n\n(function (BoundingBox) {\n  function empty() {\n    return {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    };\n  }\n\n  BoundingBox.empty = empty;\n\n  function split(boundingBox, relativeSplitPercentage, direction) {\n    var absolutePercentage = getAbsoluteSplitPercentage(boundingBox, relativeSplitPercentage, direction);\n\n    if (direction === 'column') {\n      return {\n        first: __assign(__assign({}, boundingBox), {\n          bottom: 100 - absolutePercentage\n        }),\n        second: __assign(__assign({}, boundingBox), {\n          top: absolutePercentage\n        })\n      };\n    } else if (direction === 'row') {\n      return {\n        first: __assign(__assign({}, boundingBox), {\n          right: 100 - absolutePercentage\n        }),\n        second: __assign(__assign({}, boundingBox), {\n          left: absolutePercentage\n        })\n      };\n    } else {\n      return assertNever_1.assertNever(direction);\n    }\n  }\n\n  BoundingBox.split = split;\n\n  function getAbsoluteSplitPercentage(boundingBox, relativeSplitPercentage, direction) {\n    var top = boundingBox.top,\n        right = boundingBox.right,\n        bottom = boundingBox.bottom,\n        left = boundingBox.left;\n\n    if (direction === 'column') {\n      var height = 100 - top - bottom;\n      return height * relativeSplitPercentage / 100 + top;\n    } else if (direction === 'row') {\n      var width = 100 - right - left;\n      return width * relativeSplitPercentage / 100 + left;\n    } else {\n      return assertNever_1.assertNever(direction);\n    }\n  }\n\n  BoundingBox.getAbsoluteSplitPercentage = getAbsoluteSplitPercentage;\n\n  function getRelativeSplitPercentage(boundingBox, absoluteSplitPercentage, direction) {\n    var top = boundingBox.top,\n        right = boundingBox.right,\n        bottom = boundingBox.bottom,\n        left = boundingBox.left;\n\n    if (direction === 'column') {\n      var height = 100 - top - bottom;\n      return (absoluteSplitPercentage - top) / height * 100;\n    } else if (direction === 'row') {\n      var width = 100 - right - left;\n      return (absoluteSplitPercentage - left) / width * 100;\n    } else {\n      return assertNever_1.assertNever(direction);\n    }\n  }\n\n  BoundingBox.getRelativeSplitPercentage = getRelativeSplitPercentage;\n\n  function asStyles(_a) {\n    var top = _a.top,\n        right = _a.right,\n        bottom = _a.bottom,\n        left = _a.left;\n    return {\n      top: top + \"%\",\n      right: right + \"%\",\n      bottom: bottom + \"%\",\n      left: left + \"%\"\n    };\n  }\n\n  BoundingBox.asStyles = asStyles;\n})(BoundingBox = exports.BoundingBox || (exports.BoundingBox = {}));","import { cloneElement } from 'react';\nimport { invariant } from '@react-dnd/invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null; // When passed a node, call the hook straight away.\n\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport default function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z\"\n}), 'CheckSharp');\n\nexports.default = _default;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z\"\n}), 'Input');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 8h-3V6.21c0-2.61-1.91-4.94-4.51-5.19C9.51.74 7 3.08 7 6v2H4v14h16V8zm-8 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z\"\n}), 'LockSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RootDropTargets = void 0;\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar values_1 = __importDefault(require(\"lodash/values\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_dnd_1 = require(\"react-dnd\");\n\nvar internalTypes_1 = require(\"./internalTypes\");\n\nvar MosaicDropTarget_1 = require(\"./MosaicDropTarget\");\n\nvar types_1 = require(\"./types\");\n\nvar RootDropTargetsClass =\n/** @class */\nfunction (_super) {\n  __extends(RootDropTargetsClass, _super);\n\n  function RootDropTargetsClass() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RootDropTargetsClass.prototype.render = function () {\n    return react_1.default.createElement(\"div\", {\n      className: classnames_1.default('drop-target-container', {\n        '-dragging': this.props.isDragging\n      })\n    }, values_1.default(internalTypes_1.MosaicDropTargetPosition).map(function (position) {\n      return react_1.default.createElement(MosaicDropTarget_1.MosaicDropTarget, {\n        position: position,\n        path: [],\n        key: position\n      });\n    }));\n  };\n\n  return RootDropTargetsClass;\n}(react_1.default.PureComponent);\n\nvar dropTarget = {};\nexports.RootDropTargets = react_dnd_1.DropTarget(types_1.MosaicDragType.WINDOW, dropTarget, function (_connect, monitor) {\n  return {\n    isDragging: monitor.getItem() !== null && monitor.getItemType() === types_1.MosaicDragType.WINDOW\n  };\n})(RootDropTargetsClass);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CopyToClipboard = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _copyToClipboard = _interopRequireDefault(require(\"copy-to-clipboard\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar CopyToClipboard = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(CopyToClipboard, _React$PureComponent);\n\n  function CopyToClipboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CopyToClipboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CopyToClipboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      var _this$props = _this.props,\n          text = _this$props.text,\n          onCopy = _this$props.onCopy,\n          children = _this$props.children,\n          options = _this$props.options;\n\n      var elem = _react[\"default\"].Children.only(children);\n\n      var result = (0, _copyToClipboard[\"default\"])(text, options);\n\n      if (onCopy) {\n        onCopy(text, result);\n      } // Bypass onClick if it was present\n\n\n      if (elem && elem.props && typeof elem.props.onClick === 'function') {\n        elem.props.onClick(event);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(CopyToClipboard, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          _text = _this$props2.text,\n          _onCopy = _this$props2.onCopy,\n          _options = _this$props2.options,\n          children = _this$props2.children,\n          props = _objectWithoutProperties(_this$props2, [\"text\", \"onCopy\", \"options\", \"children\"]);\n\n      var elem = _react[\"default\"].Children.only(children);\n\n      return _react[\"default\"].cloneElement(elem, _objectSpread({}, props, {\n        onClick: this.onClick\n      }));\n    }\n  }]);\n\n  return CopyToClipboard;\n}(_react[\"default\"].PureComponent);\n\nexports.CopyToClipboard = CopyToClipboard;\n\n_defineProperty(CopyToClipboard, \"defaultProps\", {\n  onCopy: undefined,\n  options: undefined\n});","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createExpandUpdate = exports.createHideUpdate = exports.createDragToUpdates = exports.createRemoveUpdate = exports.updateTree = exports.buildSpecFromUpdate = void 0;\n\nvar immutability_helper_1 = __importDefault(require(\"immutability-helper\"));\n\nvar drop_1 = __importDefault(require(\"lodash/drop\"));\n\nvar dropRight_1 = __importDefault(require(\"lodash/dropRight\"));\n\nvar isEqual_1 = __importDefault(require(\"lodash/isEqual\"));\n\nvar last_1 = __importDefault(require(\"lodash/last\"));\n\nvar set_1 = __importDefault(require(\"lodash/set\"));\n\nvar take_1 = __importDefault(require(\"lodash/take\"));\n\nvar internalTypes_1 = require(\"../internalTypes\");\n\nvar mosaicUtilities_1 = require(\"./mosaicUtilities\");\n/**\n * Used to prepare `update` for `immutability-helper`\n * @param mosaicUpdate\n * @returns {any}\n */\n\n\nfunction buildSpecFromUpdate(mosaicUpdate) {\n  if (mosaicUpdate.path.length > 0) {\n    return set_1.default({}, mosaicUpdate.path, mosaicUpdate.spec);\n  } else {\n    return mosaicUpdate.spec;\n  }\n}\n\nexports.buildSpecFromUpdate = buildSpecFromUpdate;\n/**\n * Applies `updates` to `root`\n * @param root\n * @param updates\n * @returns {MosaicNode<T>}\n */\n\nfunction updateTree(root, updates) {\n  var currentNode = root;\n  updates.forEach(function (mUpdate) {\n    currentNode = immutability_helper_1.default(currentNode, buildSpecFromUpdate(mUpdate));\n  });\n  return currentNode;\n}\n\nexports.updateTree = updateTree;\n/**\n * Creates a `MosaicUpdate<T>` to remove the node at `path` from `root`\n * @param root\n * @param path\n * @returns {{path: T[], spec: {$set: MosaicNode<T>}}}\n */\n\nfunction createRemoveUpdate(root, path) {\n  var parentPath = dropRight_1.default(path);\n  var nodeToRemove = last_1.default(path);\n  var siblingPath = parentPath.concat(mosaicUtilities_1.getOtherBranch(nodeToRemove));\n  var sibling = mosaicUtilities_1.getAndAssertNodeAtPathExists(root, siblingPath);\n  return {\n    path: parentPath,\n    spec: {\n      $set: sibling\n    }\n  };\n}\n\nexports.createRemoveUpdate = createRemoveUpdate;\n\nfunction isPathPrefixEqual(a, b, length) {\n  return isEqual_1.default(take_1.default(a, length), take_1.default(b, length));\n}\n/**\n * Creates a `MosaicUpdate<T>` to split the _leaf_ at `destinationPath` into a node of it and the node from `sourcePath`\n * placing the node from `sourcePath` in `position`.\n * @param root\n * @param sourcePath\n * @param destinationPath\n * @param position\n * @returns {(MosaicUpdate<T>|{path: MosaicPath, spec: {$set: {first: MosaicNode<T>, second: MosaicNode<T>, direction: MosaicDirection}}})[]}\n */\n\n\nfunction createDragToUpdates(root, sourcePath, destinationPath, position) {\n  var destinationNode = mosaicUtilities_1.getAndAssertNodeAtPathExists(root, destinationPath);\n  var updates = [];\n  var destinationIsParentOfSource = isPathPrefixEqual(sourcePath, destinationPath, destinationPath.length);\n\n  if (destinationIsParentOfSource) {\n    // Must explicitly remove source from the destination node\n    destinationNode = updateTree(destinationNode, [createRemoveUpdate(destinationNode, drop_1.default(sourcePath, destinationPath.length))]);\n  } else {\n    // Can remove source normally\n    updates.push(createRemoveUpdate(root, sourcePath)); // Have to drop in the correct destination after the source has been removed\n\n    var removedNodeParentIsInPath = isPathPrefixEqual(sourcePath, destinationPath, sourcePath.length - 1);\n\n    if (removedNodeParentIsInPath) {\n      destinationPath.splice(sourcePath.length - 1, 1);\n    }\n  }\n\n  var sourceNode = mosaicUtilities_1.getAndAssertNodeAtPathExists(root, sourcePath);\n  var first;\n  var second;\n\n  if (position === internalTypes_1.MosaicDropTargetPosition.LEFT || position === internalTypes_1.MosaicDropTargetPosition.TOP) {\n    first = sourceNode;\n    second = destinationNode;\n  } else {\n    first = destinationNode;\n    second = sourceNode;\n  }\n\n  var direction = 'column';\n\n  if (position === internalTypes_1.MosaicDropTargetPosition.LEFT || position === internalTypes_1.MosaicDropTargetPosition.RIGHT) {\n    direction = 'row';\n  }\n\n  updates.push({\n    path: destinationPath,\n    spec: {\n      $set: {\n        first: first,\n        second: second,\n        direction: direction\n      }\n    }\n  });\n  return updates;\n}\n\nexports.createDragToUpdates = createDragToUpdates;\n/**\n * Sets the splitPercentage to hide the node at `path`\n * @param path\n * @returns {{path: T[], spec: {splitPercentage: {$set: number}}}}\n */\n\nfunction createHideUpdate(path) {\n  var targetPath = dropRight_1.default(path);\n  var thisBranch = last_1.default(path);\n  var splitPercentage;\n\n  if (thisBranch === 'first') {\n    splitPercentage = 0;\n  } else {\n    splitPercentage = 100;\n  }\n\n  return {\n    path: targetPath,\n    spec: {\n      splitPercentage: {\n        $set: splitPercentage\n      }\n    }\n  };\n}\n\nexports.createHideUpdate = createHideUpdate;\n/**\n * Sets the splitPercentage of node at `path` and all of its parents to `percentage` in order to expand it\n * @param path\n * @param percentage\n * @returns {{spec: MosaicUpdateSpec<T>, path: Array}}\n */\n\nfunction createExpandUpdate(path, percentage) {\n  var _a;\n\n  var spec = {};\n\n  for (var i = path.length - 1; i >= 0; i--) {\n    var branch = path[i];\n    var splitPercentage = branch === 'first' ? percentage : 100 - percentage;\n    spec = (_a = {\n      splitPercentage: {\n        $set: splitPercentage\n      }\n    }, _a[branch] = spec, _a);\n  }\n\n  return {\n    spec: spec,\n    path: []\n  };\n}\n\nexports.createExpandUpdate = createExpandUpdate;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MosaicZeroState = void 0;\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar noop_1 = __importDefault(require(\"lodash/noop\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar contextTypes_1 = require(\"./contextTypes\");\n\nvar OptionalBlueprint_1 = require(\"./util/OptionalBlueprint\");\n\nvar MosaicZeroState =\n/** @class */\nfunction (_super) {\n  __extends(MosaicZeroState, _super);\n\n  function MosaicZeroState() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.replace = function () {\n      return Promise.resolve(_this.props.createNode()).then(function (node) {\n        return _this.context.mosaicActions.replaceWith([], node);\n      }).catch(noop_1.default);\n    }; // Swallow rejections (i.e. on user cancel)\n\n\n    return _this;\n  }\n\n  MosaicZeroState.prototype.render = function () {\n    return react_1.default.createElement(\"div\", {\n      className: classnames_1.default('mosaic-zero-state', OptionalBlueprint_1.OptionalBlueprint.getClasses('NON_IDEAL_STATE'))\n    }, react_1.default.createElement(\"div\", {\n      className: OptionalBlueprint_1.OptionalBlueprint.getClasses('NON_IDEAL_STATE_VISUAL')\n    }, react_1.default.createElement(OptionalBlueprint_1.OptionalBlueprint.Icon, {\n      iconSize: 120,\n      icon: \"applications\"\n    })), react_1.default.createElement(\"h4\", {\n      className: OptionalBlueprint_1.OptionalBlueprint.getClasses('HEADING')\n    }, \"No Windows Present\"), react_1.default.createElement(\"div\", null, this.props.createNode && react_1.default.createElement(\"button\", {\n      className: classnames_1.default(OptionalBlueprint_1.OptionalBlueprint.getClasses('BUTTON'), OptionalBlueprint_1.OptionalBlueprint.getIconClass('ADD')),\n      onClick: this.replace\n    }, \"Add New Window\")));\n  };\n\n  MosaicZeroState.contextType = contextTypes_1.MosaicContext;\n  return MosaicZeroState;\n}(react_1.default.PureComponent);\n\nexports.MosaicZeroState = MosaicZeroState;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.44 12.99l-.01.02c.04-.33.08-.67.08-1.01 0-.34-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99 0 .34.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26l-2.11-1.66zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z\"\n}), 'SettingsSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.01 2L4 22h16V8l-6-6H4.01zM13 9V3.5L18.5 9H13z\"\n}), 'InsertDriveFileSharp');\n\nexports.default = _default;","import \"core-js/modules/es.array.reduce\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\"; // A grid component using the following libs as inspiration.\n//\n// For the implementation:\n// - https://getbootstrap.com/docs/4.3/layout/grid/\n// - https://github.com/kristoferjoseph/flexboxgrid/blob/master/src/css/flexboxgrid.css\n// - https://github.com/roylee0704/react-flexbox-grid\n// - https://material.angularjs.org/latest/layout/introduction\n//\n// Follow this flexbox Guide to better understand the underlying model:\n// - https://css-tricks.com/snippets/css/a-guide-to-flexbox/\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport requirePropFactory from '../utils/requirePropFactory';\nvar SPACINGS = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nvar GRID_SIZES = ['auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n\nfunction generateGrid(globalStyles, theme, breakpoint) {\n  var styles = {};\n  GRID_SIZES.forEach(function (size) {\n    var key = \"grid-\".concat(breakpoint, \"-\").concat(size);\n\n    if (size === true) {\n      // For the auto layouting\n      styles[key] = {\n        flexBasis: 0,\n        flexGrow: 1,\n        maxWidth: '100%'\n      };\n      return;\n    }\n\n    if (size === 'auto') {\n      styles[key] = {\n        flexBasis: 'auto',\n        flexGrow: 0,\n        maxWidth: 'none'\n      };\n      return;\n    } // Keep 7 significant numbers.\n\n\n    var width = \"\".concat(Math.round(size / 12 * 10e7) / 10e5, \"%\"); // Close to the bootstrap implementation:\n    // https://github.com/twbs/bootstrap/blob/8fccaa2439e97ec72a4b7dc42ccc1f649790adb0/scss/mixins/_grid.scss#L41\n\n    styles[key] = {\n      flexBasis: width,\n      flexGrow: 0,\n      maxWidth: width\n    };\n  }); // No need for a media query for the first size.\n\n  if (breakpoint === 'xs') {\n    _extends(globalStyles, styles);\n  } else {\n    globalStyles[theme.breakpoints.up(breakpoint)] = styles;\n  }\n}\n\nfunction getOffset(val) {\n  var div = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var parse = parseFloat(val);\n  return \"\".concat(parse / div).concat(String(val).replace(String(parse), '') || 'px');\n}\n\nfunction generateGutter(theme, breakpoint) {\n  var styles = {};\n  SPACINGS.forEach(function (spacing) {\n    var themeSpacing = theme.spacing(spacing);\n\n    if (themeSpacing === 0) {\n      return;\n    }\n\n    styles[\"spacing-\".concat(breakpoint, \"-\").concat(spacing)] = {\n      margin: \"-\".concat(getOffset(themeSpacing, 2)),\n      width: \"calc(100% + \".concat(getOffset(themeSpacing), \")\"),\n      '& > $item': {\n        padding: getOffset(themeSpacing, 2)\n      }\n    };\n  });\n  return styles;\n} // Default CSS values\n// flex: '0 1 auto',\n// flexDirection: 'row',\n// alignItems: 'flex-start',\n// flexWrap: 'nowrap',\n// justifyContent: 'flex-start',\n\n\nexport var styles = function styles(theme) {\n  return _extends({\n    /* Styles applied to the root element. */\n    root: {},\n\n    /* Styles applied to the root element if `container={true}`. */\n    container: {\n      boxSizing: 'border-box',\n      display: 'flex',\n      flexWrap: 'wrap',\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `item={true}`. */\n    item: {\n      boxSizing: 'border-box',\n      margin: '0' // For instance, it's useful when used with a `figure` element.\n\n    },\n\n    /* Styles applied to the root element if `zeroMinWidth={true}`. */\n    zeroMinWidth: {\n      minWidth: 0\n    },\n\n    /* Styles applied to the root element if `direction=\"column\"`. */\n    'direction-xs-column': {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the root element if `direction=\"column-reverse\"`. */\n    'direction-xs-column-reverse': {\n      flexDirection: 'column-reverse'\n    },\n\n    /* Styles applied to the root element if `direction=\"row-reverse\"`. */\n    'direction-xs-row-reverse': {\n      flexDirection: 'row-reverse'\n    },\n\n    /* Styles applied to the root element if `wrap=\"nowrap\"`. */\n    'wrap-xs-nowrap': {\n      flexWrap: 'nowrap'\n    },\n\n    /* Styles applied to the root element if `wrap=\"reverse\"`. */\n    'wrap-xs-wrap-reverse': {\n      flexWrap: 'wrap-reverse'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"center\"`. */\n    'align-items-xs-center': {\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"flex-start\"`. */\n    'align-items-xs-flex-start': {\n      alignItems: 'flex-start'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"flex-end\"`. */\n    'align-items-xs-flex-end': {\n      alignItems: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"baseline\"`. */\n    'align-items-xs-baseline': {\n      alignItems: 'baseline'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"center\"`. */\n    'align-content-xs-center': {\n      alignContent: 'center'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"flex-start\"`. */\n    'align-content-xs-flex-start': {\n      alignContent: 'flex-start'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"flex-end\"`. */\n    'align-content-xs-flex-end': {\n      alignContent: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"space-between\"`. */\n    'align-content-xs-space-between': {\n      alignContent: 'space-between'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"space-around\"`. */\n    'align-content-xs-space-around': {\n      alignContent: 'space-around'\n    },\n\n    /* Styles applied to the root element if `justify=\"center\"`. */\n    'justify-xs-center': {\n      justifyContent: 'center'\n    },\n\n    /* Styles applied to the root element if `justify=\"flex-end\"`. */\n    'justify-xs-flex-end': {\n      justifyContent: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-between\"`. */\n    'justify-xs-space-between': {\n      justifyContent: 'space-between'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-around\"`. */\n    'justify-xs-space-around': {\n      justifyContent: 'space-around'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-evenly\"`. */\n    'justify-xs-space-evenly': {\n      justifyContent: 'space-evenly'\n    }\n  }, generateGutter(theme, 'xs'), theme.breakpoints.keys.reduce(function (accumulator, key) {\n    // Use side effect over immutability for better performance.\n    generateGrid(accumulator, theme, key);\n    return accumulator;\n  }, {}));\n};\nvar Grid = /*#__PURE__*/React.forwardRef(function Grid(props, ref) {\n  var _props$alignContent = props.alignContent,\n      alignContent = _props$alignContent === void 0 ? 'stretch' : _props$alignContent,\n      _props$alignItems = props.alignItems,\n      alignItems = _props$alignItems === void 0 ? 'stretch' : _props$alignItems,\n      classes = props.classes,\n      classNameProp = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$container = props.container,\n      container = _props$container === void 0 ? false : _props$container,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'row' : _props$direction,\n      _props$item = props.item,\n      item = _props$item === void 0 ? false : _props$item,\n      _props$justify = props.justify,\n      justify = _props$justify === void 0 ? 'flex-start' : _props$justify,\n      _props$lg = props.lg,\n      lg = _props$lg === void 0 ? false : _props$lg,\n      _props$md = props.md,\n      md = _props$md === void 0 ? false : _props$md,\n      _props$sm = props.sm,\n      sm = _props$sm === void 0 ? false : _props$sm,\n      _props$spacing = props.spacing,\n      spacing = _props$spacing === void 0 ? 0 : _props$spacing,\n      _props$wrap = props.wrap,\n      wrap = _props$wrap === void 0 ? 'wrap' : _props$wrap,\n      _props$xl = props.xl,\n      xl = _props$xl === void 0 ? false : _props$xl,\n      _props$xs = props.xs,\n      xs = _props$xs === void 0 ? false : _props$xs,\n      _props$zeroMinWidth = props.zeroMinWidth,\n      zeroMinWidth = _props$zeroMinWidth === void 0 ? false : _props$zeroMinWidth,\n      other = _objectWithoutProperties(props, [\"alignContent\", \"alignItems\", \"classes\", \"className\", \"component\", \"container\", \"direction\", \"item\", \"justify\", \"lg\", \"md\", \"sm\", \"spacing\", \"wrap\", \"xl\", \"xs\", \"zeroMinWidth\"]);\n\n  var className = clsx(classes.root, classNameProp, container && [classes.container, spacing !== 0 && classes[\"spacing-xs-\".concat(String(spacing))]], item && classes.item, zeroMinWidth && classes.zeroMinWidth, direction !== 'row' && classes[\"direction-xs-\".concat(String(direction))], wrap !== 'wrap' && classes[\"wrap-xs-\".concat(String(wrap))], alignItems !== 'stretch' && classes[\"align-items-xs-\".concat(String(alignItems))], alignContent !== 'stretch' && classes[\"align-content-xs-\".concat(String(alignContent))], justify !== 'flex-start' && classes[\"justify-xs-\".concat(String(justify))], xs !== false && classes[\"grid-xs-\".concat(String(xs))], sm !== false && classes[\"grid-sm-\".concat(String(sm))], md !== false && classes[\"grid-md-\".concat(String(md))], lg !== false && classes[\"grid-lg-\".concat(String(lg))], xl !== false && classes[\"grid-xl-\".concat(String(xl))]);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: className,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nvar StyledGrid = withStyles(styles, {\n  name: 'MuiGrid'\n})(Grid);\n\nif (process.env.NODE_ENV !== 'production') {\n  var requireProp = requirePropFactory('Grid');\n  StyledGrid.propTypes = _extends({}, StyledGrid.propTypes, {\n    alignContent: requireProp('container'),\n    alignItems: requireProp('container'),\n    direction: requireProp('container'),\n    justify: requireProp('container'),\n    lg: requireProp('item'),\n    md: requireProp('item'),\n    sm: requireProp('item'),\n    spacing: requireProp('container'),\n    wrap: requireProp('container'),\n    xs: requireProp('item'),\n    zeroMinWidth: requireProp('item')\n  });\n}\n\nexport default StyledGrid;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21.99 2H2v16h16l4 4-.01-20zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z\"\n}), 'CommentSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MosaicDropTarget = void 0;\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_dnd_1 = require(\"react-dnd\");\n\nvar contextTypes_1 = require(\"./contextTypes\");\n\nvar types_1 = require(\"./types\");\n\nvar dropTarget = {\n  drop: function drop(props, monitor, component) {\n    if (component.context.mosaicId === (monitor.getItem() || {}).mosaicId) {\n      return {\n        path: props.path,\n        position: props.position\n      };\n    } else {\n      return {};\n    }\n  }\n};\n\nvar MosaicDropTargetClass =\n/** @class */\nfunction (_super) {\n  __extends(MosaicDropTargetClass, _super);\n\n  function MosaicDropTargetClass() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MosaicDropTargetClass.prototype.render = function () {\n    var _a = this.props,\n        position = _a.position,\n        isOver = _a.isOver,\n        connectDropTarget = _a.connectDropTarget,\n        draggedMosaicId = _a.draggedMosaicId;\n    return connectDropTarget(react_1.default.createElement(\"div\", {\n      className: classnames_1.default('drop-target', position, {\n        'drop-target-hover': isOver && draggedMosaicId === this.context.mosaicId\n      })\n    }));\n  };\n\n  MosaicDropTargetClass.contextType = contextTypes_1.MosaicContext;\n  return MosaicDropTargetClass;\n}(react_1.default.PureComponent);\n\nexports.MosaicDropTarget = react_dnd_1.DropTarget(types_1.MosaicDragType.WINDOW, dropTarget, function (connect, monitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    draggedMosaicId: (monitor.getItem() || {}).mosaicId\n  };\n})(MosaicDropTargetClass);","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAndAssertNodeAtPathExists = exports.getNodeAtPath = exports.getLeaves = exports.getPathToCorner = exports.getOtherDirection = exports.getOtherBranch = exports.createBalancedTreeFromLeaves = exports.isParent = exports.Corner = void 0;\n\nvar clone_1 = __importDefault(require(\"lodash/clone\"));\n\nvar get_1 = __importDefault(require(\"lodash/get\"));\n\nfunction alternateDirection(node, direction) {\n  if (direction === void 0) {\n    direction = 'row';\n  }\n\n  if (isParent(node)) {\n    var nextDirection = getOtherDirection(direction);\n    return {\n      direction: direction,\n      first: alternateDirection(node.first, nextDirection),\n      second: alternateDirection(node.second, nextDirection)\n    };\n  } else {\n    return node;\n  }\n}\n\nvar Corner;\n\n(function (Corner) {\n  Corner[Corner[\"TOP_LEFT\"] = 1] = \"TOP_LEFT\";\n  Corner[Corner[\"TOP_RIGHT\"] = 2] = \"TOP_RIGHT\";\n  Corner[Corner[\"BOTTOM_LEFT\"] = 3] = \"BOTTOM_LEFT\";\n  Corner[Corner[\"BOTTOM_RIGHT\"] = 4] = \"BOTTOM_RIGHT\";\n})(Corner = exports.Corner || (exports.Corner = {}));\n/**\n * Returns `true` if `node` is a MosaicParent\n * @param node\n * @returns {boolean}\n */\n\n\nfunction isParent(node) {\n  return node.direction != null;\n}\n\nexports.isParent = isParent;\n/**\n * Creates a balanced binary tree from `leaves` with the goal of making them as equal area as possible\n * @param leaves\n * @param startDirection\n * @returns {MosaicNode<T>}\n */\n\nfunction createBalancedTreeFromLeaves(leaves, startDirection) {\n  if (startDirection === void 0) {\n    startDirection = 'row';\n  }\n\n  if (leaves.length === 0) {\n    return null;\n  }\n\n  var current = clone_1.default(leaves);\n  var next = [];\n\n  while (current.length > 1) {\n    while (current.length > 0) {\n      if (current.length > 1) {\n        next.push({\n          direction: 'row',\n          first: current.shift(),\n          second: current.shift()\n        });\n      } else {\n        next.unshift(current.shift());\n      }\n    }\n\n    current = next;\n    next = [];\n  }\n\n  return alternateDirection(current[0], startDirection);\n}\n\nexports.createBalancedTreeFromLeaves = createBalancedTreeFromLeaves;\n/**\n * Gets the sibling of `branch`\n * @param branch\n * @returns {any}\n */\n\nfunction getOtherBranch(branch) {\n  if (branch === 'first') {\n    return 'second';\n  } else if (branch === 'second') {\n    return 'first';\n  } else {\n    throw new Error(\"Branch '\" + branch + \"' not a valid branch\");\n  }\n}\n\nexports.getOtherBranch = getOtherBranch;\n/**\n * Gets the opposite of `direction`\n * @param direction\n * @returns {any}\n */\n\nfunction getOtherDirection(direction) {\n  if (direction === 'row') {\n    return 'column';\n  } else {\n    return 'row';\n  }\n}\n\nexports.getOtherDirection = getOtherDirection;\n/**\n * Traverses `tree` to find the path to the specified `corner`\n * @param tree\n * @param corner\n * @returns {MosaicPath}\n */\n\nfunction getPathToCorner(tree, corner) {\n  var currentNode = tree;\n  var currentPath = [];\n\n  while (isParent(currentNode)) {\n    if (currentNode.direction === 'row' && (corner === Corner.TOP_LEFT || corner === Corner.BOTTOM_LEFT)) {\n      currentPath.push('first');\n      currentNode = currentNode.first;\n    } else if (currentNode.direction === 'column' && (corner === Corner.TOP_LEFT || corner === Corner.TOP_RIGHT)) {\n      currentPath.push('first');\n      currentNode = currentNode.first;\n    } else {\n      currentPath.push('second');\n      currentNode = currentNode.second;\n    }\n  }\n\n  return currentPath;\n}\n\nexports.getPathToCorner = getPathToCorner;\n/**\n * Gets all leaves of `tree`\n * @param tree\n * @returns {T[]}\n */\n\nfunction getLeaves(tree) {\n  if (tree == null) {\n    return [];\n  } else if (isParent(tree)) {\n    return getLeaves(tree.first).concat(getLeaves(tree.second));\n  } else {\n    return [tree];\n  }\n}\n\nexports.getLeaves = getLeaves;\n/**\n * Gets node at `path` from `tree`\n * @param tree\n * @param path\n * @returns {MosaicNode<T>|null}\n */\n\nfunction getNodeAtPath(tree, path) {\n  if (path.length > 0) {\n    return get_1.default(tree, path, null);\n  } else {\n    return tree;\n  }\n}\n\nexports.getNodeAtPath = getNodeAtPath;\n/**\n * Gets node at `path` from `tree` and verifies that neither `tree` nor the result are null\n * @param tree\n * @param path\n * @returns {MosaicNode<T>}\n */\n\nfunction getAndAssertNodeAtPathExists(tree, path) {\n  if (tree == null) {\n    throw new Error('Root is empty, cannot fetch path');\n  }\n\n  var node = getNodeAtPath(tree, path);\n\n  if (node == null) {\n    throw new Error(\"Path [\" + path.join(', ') + \"] did not resolve to a node\");\n  }\n\n  return node;\n}\n\nexports.getAndAssertNodeAtPathExists = getAndAssertNodeAtPathExists;","var rng = require('./lib/rng');\n\nvar bytesToUuid = require('./lib/bytesToUuid'); // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z\"\n}), 'ExpandLessSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"\n}), 'MenuSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 17l5-5-5-5v10z\"\n}), 'ArrowRightSharp');\n\nexports.default = _default;","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n"],"sourceRoot":""}