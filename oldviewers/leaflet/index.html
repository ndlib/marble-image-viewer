<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="../../leaflet-iiif/leaflet-iiif.js"></script>
  </head>
  <body>
    <div id="map"></div>
    <script src="../getvars.js"></script>
    <script>
    var map;

    map = L.map('map', {
      center: [0, 0],
      crs: L.CRS.Simple,
      zoom: 0
    });

    var manifest = getUrlVars()["manifest"]
    var url = window.location.search.replace('?url=', manifest)
    var urlregex = /^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;

    if (urlregex.test(url)) {
      layer = L.tileLayer.iiif(url).addTo(map);
    }
  </script>
  </body>
</html>
